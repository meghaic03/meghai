(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Kg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xh={exports:{}},la={},Ah={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function w0(){if(vm)return be;vm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function b(F,K,pe){this.props=F,this.context=K,this.refs=L,this.updater=pe||k}b.prototype.isReactComponent={},b.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=b.prototype;function G(F,K,pe){this.props=F,this.context=K,this.refs=L,this.updater=pe||k}var ne=G.prototype=new H;ne.constructor=G,O(ne,b.prototype),ne.isPureReactComponent=!0;var le=Array.isArray,Se=Object.prototype.hasOwnProperty,we={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function S(F,K,pe){var ke,Ae={},Re=null,oe=null;if(K!=null)for(ke in K.ref!==void 0&&(oe=K.ref),K.key!==void 0&&(Re=""+K.key),K)Se.call(K,ke)&&!D.hasOwnProperty(ke)&&(Ae[ke]=K[ke]);var _e=arguments.length-2;if(_e===1)Ae.children=pe;else if(1<_e){for(var Ue=Array(_e),wt=0;wt<_e;wt++)Ue[wt]=arguments[wt+2];Ae.children=Ue}if(F&&F.defaultProps)for(ke in _e=F.defaultProps,_e)Ae[ke]===void 0&&(Ae[ke]=_e[ke]);return{$$typeof:r,type:F,key:Re,ref:oe,props:Ae,_owner:we.current}}function x(F,K){return{$$typeof:r,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function A(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function V(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return K[pe]})}var N=/\/+/g;function R(F,K){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):K.toString(36)}function Ce(F,K,pe,ke,Ae){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var oe=!1;if(F===null)oe=!0;else switch(Re){case"string":case"number":oe=!0;break;case"object":switch(F.$$typeof){case r:case e:oe=!0}}if(oe)return oe=F,Ae=Ae(oe),F=ke===""?"."+R(oe,0):ke,le(Ae)?(pe="",F!=null&&(pe=F.replace(N,"$&/")+"/"),Ce(Ae,K,pe,"",function(wt){return wt})):Ae!=null&&(A(Ae)&&(Ae=x(Ae,pe+(!Ae.key||oe&&oe.key===Ae.key?"":(""+Ae.key).replace(N,"$&/")+"/")+F)),K.push(Ae)),1;if(oe=0,ke=ke===""?".":ke+":",le(F))for(var _e=0;_e<F.length;_e++){Re=F[_e];var Ue=ke+R(Re,_e);oe+=Ce(Re,K,pe,Ue,Ae)}else if(Ue=I(F),typeof Ue=="function")for(F=Ue.call(F),_e=0;!(Re=F.next()).done;)Re=Re.value,Ue=ke+R(Re,_e++),oe+=Ce(Re,K,pe,Ue,Ae);else if(Re==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return oe}function Ze(F,K,pe){if(F==null)return F;var ke=[],Ae=0;return Ce(F,ke,"","",function(Re){return K.call(pe,Re,Ae++)}),ke}function qe(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ee={transition:null},ce={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ee,ReactCurrentOwner:we};function ie(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Ze,forEach:function(F,K,pe){Ze(F,function(){K.apply(this,arguments)},pe)},count:function(F){var K=0;return Ze(F,function(){K++}),K},toArray:function(F){return Ze(F,function(K){return K})||[]},only:function(F){if(!A(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},be.Component=b,be.Fragment=t,be.Profiler=s,be.PureComponent=G,be.StrictMode=o,be.Suspense=g,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,be.act=ie,be.cloneElement=function(F,K,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ke=O({},F.props),Ae=F.key,Re=F.ref,oe=F._owner;if(K!=null){if(K.ref!==void 0&&(Re=K.ref,oe=we.current),K.key!==void 0&&(Ae=""+K.key),F.type&&F.type.defaultProps)var _e=F.type.defaultProps;for(Ue in K)Se.call(K,Ue)&&!D.hasOwnProperty(Ue)&&(ke[Ue]=K[Ue]===void 0&&_e!==void 0?_e[Ue]:K[Ue])}var Ue=arguments.length-2;if(Ue===1)ke.children=pe;else if(1<Ue){_e=Array(Ue);for(var wt=0;wt<Ue;wt++)_e[wt]=arguments[wt+2];ke.children=_e}return{$$typeof:r,type:F.type,key:Ae,ref:Re,props:ke,_owner:oe}},be.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},be.createElement=S,be.createFactory=function(F){var K=S.bind(null,F);return K.type=F,K},be.createRef=function(){return{current:null}},be.forwardRef=function(F){return{$$typeof:f,render:F}},be.isValidElement=A,be.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:qe}},be.memo=function(F,K){return{$$typeof:y,type:F,compare:K===void 0?null:K}},be.startTransition=function(F){var K=ee.transition;ee.transition={};try{F()}finally{ee.transition=K}},be.unstable_act=ie,be.useCallback=function(F,K){return Ne.current.useCallback(F,K)},be.useContext=function(F){return Ne.current.useContext(F)},be.useDebugValue=function(){},be.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},be.useEffect=function(F,K){return Ne.current.useEffect(F,K)},be.useId=function(){return Ne.current.useId()},be.useImperativeHandle=function(F,K,pe){return Ne.current.useImperativeHandle(F,K,pe)},be.useInsertionEffect=function(F,K){return Ne.current.useInsertionEffect(F,K)},be.useLayoutEffect=function(F,K){return Ne.current.useLayoutEffect(F,K)},be.useMemo=function(F,K){return Ne.current.useMemo(F,K)},be.useReducer=function(F,K,pe){return Ne.current.useReducer(F,K,pe)},be.useRef=function(F){return Ne.current.useRef(F)},be.useState=function(F){return Ne.current.useState(F)},be.useSyncExternalStore=function(F,K,pe){return Ne.current.useSyncExternalStore(F,K,pe)},be.useTransition=function(){return Ne.current.useTransition()},be.version="18.3.1",be}var _m;function wd(){return _m||(_m=1,Ah.exports=w0()),Ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function E0(){if(wm)return la;wm=1;var r=wd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var w,T={},I=null,k=null;y!==void 0&&(I=""+y),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(k=g.ref);for(w in g)o.call(g,w)&&!l.hasOwnProperty(w)&&(T[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:f,key:I,ref:k,props:T,_owner:s.current}}return la.Fragment=t,la.jsx=h,la.jsxs=h,la}var Em;function T0(){return Em||(Em=1,xh.exports=E0()),xh.exports}var $=T0(),z=wd();const I0=Kg(z);var eu={},Rh={exports:{}},Xt={},kh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function S0(){return Tm||(Tm=1,function(r){function e(ee,ce){var ie=ee.length;ee.push(ce);e:for(;0<ie;){var F=ie-1>>>1,K=ee[F];if(0<s(K,ce))ee[F]=ce,ee[ie]=K,ie=F;else break e}}function t(ee){return ee.length===0?null:ee[0]}function o(ee){if(ee.length===0)return null;var ce=ee[0],ie=ee.pop();if(ie!==ce){ee[0]=ie;e:for(var F=0,K=ee.length,pe=K>>>1;F<pe;){var ke=2*(F+1)-1,Ae=ee[ke],Re=ke+1,oe=ee[Re];if(0>s(Ae,ie))Re<K&&0>s(oe,Ae)?(ee[F]=oe,ee[Re]=ie,F=Re):(ee[F]=Ae,ee[ke]=ie,F=ke);else if(Re<K&&0>s(oe,ie))ee[F]=oe,ee[Re]=ie,F=Re;else break e}}return ce}function s(ee,ce){var ie=ee.sortIndex-ce.sortIndex;return ie!==0?ie:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],y=[],w=1,T=null,I=3,k=!1,O=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(ee){for(var ce=t(y);ce!==null;){if(ce.callback===null)o(y);else if(ce.startTime<=ee)o(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(y)}}function le(ee){if(L=!1,ne(ee),!O)if(t(g)!==null)O=!0,qe(Se);else{var ce=t(y);ce!==null&&Ne(le,ce.startTime-ee)}}function Se(ee,ce){O=!1,L&&(L=!1,H(S),S=-1),k=!0;var ie=I;try{for(ne(ce),T=t(g);T!==null&&(!(T.expirationTime>ce)||ee&&!V());){var F=T.callback;if(typeof F=="function"){T.callback=null,I=T.priorityLevel;var K=F(T.expirationTime<=ce);ce=r.unstable_now(),typeof K=="function"?T.callback=K:T===t(g)&&o(g),ne(ce)}else o(g);T=t(g)}if(T!==null)var pe=!0;else{var ke=t(y);ke!==null&&Ne(le,ke.startTime-ce),pe=!1}return pe}finally{T=null,I=ie,k=!1}}var we=!1,D=null,S=-1,x=5,A=-1;function V(){return!(r.unstable_now()-A<x)}function N(){if(D!==null){var ee=r.unstable_now();A=ee;var ce=!0;try{ce=D(!0,ee)}finally{ce?R():(we=!1,D=null)}}else we=!1}var R;if(typeof G=="function")R=function(){G(N)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ze=Ce.port2;Ce.port1.onmessage=N,R=function(){Ze.postMessage(null)}}else R=function(){b(N,0)};function qe(ee){D=ee,we||(we=!0,R())}function Ne(ee,ce){S=b(function(){ee(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){O||k||(O=!0,qe(Se))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ee){switch(I){case 1:case 2:case 3:var ce=3;break;default:ce=I}var ie=I;I=ce;try{return ee()}finally{I=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=I;I=ee;try{return ce()}finally{I=ie}},r.unstable_scheduleCallback=function(ee,ce,ie){var F=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?F+ie:F):ie=F,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,ee={id:w++,callback:ce,priorityLevel:ee,startTime:ie,expirationTime:K,sortIndex:-1},ie>F?(ee.sortIndex=ie,e(y,ee),t(g)===null&&ee===t(y)&&(L?(H(S),S=-1):L=!0,Ne(le,ie-F))):(ee.sortIndex=K,e(g,ee),O||k||(O=!0,qe(Se))),ee},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ee){var ce=I;return function(){var ie=I;I=ce;try{return ee.apply(this,arguments)}finally{I=ie}}}}(Ph)),Ph}var Im;function C0(){return Im||(Im=1,kh.exports=S0()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function x0(){if(Sm)return Xt;Sm=1;var r=wd(),e=C0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(s[n]=i,n=0;n<i.length;n++)o.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(n){return g.call(T,n)?!0:g.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function k(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,i,a,c){if(i===null||typeof i>"u"||k(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){b[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];b[i]=new L(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){b[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){b[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){b[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){b[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){b[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){b[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){b[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(H,G);b[i]=new L(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(H,G);b[i]=new L(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(H,G);b[i]=new L(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){b[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),b.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){b[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function ne(n,i,a,c){var d=b.hasOwnProperty(i)?b[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,a,d,c)&&(a=null),c||d===null?I(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var le=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),we=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),V=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,F;function K(n){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var pe=!1;function ke(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var c=q}Reflect.construct(n,[],i)}else{try{i.call()}catch(q){c=q}n.call(i.prototype)}else{try{throw Error()}catch(q){c=q}n()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var d=q.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,C=m.length-1;1<=_&&0<=C&&d[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==m[C]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function Ae(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=ke(n.type,!1),n;case 11:return n=ke(n.type.render,!1),n;case 1:return n=ke(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case we:return"Portal";case x:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case Ce:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case A:return(n._context.displayName||"Context")+".Provider";case N:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ze:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case qe:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function _e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ue(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=Ue(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function nr(n){n._valueTracker||(n._valueTracker=wt(n))}function eo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Ue(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function mi(n,i){var a=i.checked;return ie({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function to(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=_e(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ps(n,i){i=i.checked,i!=null&&ne(n,"checked",i,!1)}function ms(n,i){ps(n,i);var a=_e(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?no(n,i.type,a):i.hasOwnProperty("defaultValue")&&no(n,i.type,_e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ja(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function no(n,i,a){(i!=="number"||kr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var rr=Array.isArray;function ir(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+_e(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function gs(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ro(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(rr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:_e(a)}}function io(n,i){var a=_e(i.value),c=_e(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ys(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ft(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ft(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var or,vs=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=or.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Pr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(n){yi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),gi[i]=gi[n]})});function _s(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||gi.hasOwnProperty(n)&&gi[n]?(""+i).trim():i+"px"}function ws(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=_s(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Es=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(n,i){if(i){if(Es[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Is(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function oo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var so=null,cn=null,Fn=null;function ao(n){if(n=Gs(n)){if(typeof so!="function")throw Error(t(280));var i=n.stateNode;i&&(i=ml(i),so(n.stateNode,n.type,i))}}function jn(n){cn?Fn?Fn.push(n):Fn=[n]:cn=n}function Ss(){if(cn){var n=cn,i=Fn;if(Fn=cn=null,ao(n),i)for(n=0;n<i.length;n++)ao(i[n])}}function _i(n,i){return n(i)}function Cs(){}var sr=!1;function xs(n,i,a){if(sr)return n(i,a);sr=!0;try{return _i(n,i,a)}finally{sr=!1,(cn!==null||Fn!==null)&&(Cs(),Ss())}}function st(n,i){var a=n.stateNode;if(a===null)return null;var c=ml(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var lo=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{lo=!1}function wi(n,i,a,c,d,m,_,C,P){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(X){this.onError(X)}}var Ei=!1,uo=null,In=!1,As=null,ec={onError:function(n){Ei=!0,uo=n}};function co(n,i,a,c,d,m,_,C,P){Ei=!1,uo=null,wi.apply(ec,arguments)}function za(n,i,a,c,d,m,_,C,P){if(co.apply(this,arguments),Ei){if(Ei){var q=uo;Ei=!1,uo=null}else throw Error(t(198));In||(In=!0,As=q)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ti(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Cn(n){if(Sn(n)!==n)throw Error(t(188))}function Ba(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Cn(d),n;if(m===c)return Cn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=m;break}if(C===c){_=!0,c=d,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=d;break}if(C===c){_=!0,c=m,a=d;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Rs(n){return n=Ba(n),n!==null?ho(n):null}function ho(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ho(n);if(i!==null)return i;n=n.sibling}return null}var fo=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,Ua=e.unstable_shouldYield,tc=e.unstable_requestPaint,We=e.unstable_now,$a=e.unstable_getCurrentPriorityLevel,Ii=e.unstable_ImmediatePriority,br=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Ps=e.unstable_LowPriority,qa=e.unstable_IdlePriority,Si=null,en=null;function Ha(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Ga,bs=Math.log,Wa=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(bs(n)/Wa|0)|0}var po=64,mo=4194304;function Nr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ci(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=Nr(C):(m&=_,m!==0&&(c=Nr(m)))}else _=a&~d,_!==0?c=Nr(_):m!==0&&(c=Nr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-zt(i),d=1<<a,c|=n[a],i&=~d;return c}function nc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-zt(m),C=1<<_,P=d[_];P===-1?(!(C&a)||C&c)&&(d[_]=nc(C,i)):P<=i&&(n.expiredLanes|=C),m&=~C}}function tn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xi(){var n=po;return po<<=1,!(po&4194240)&&(po=64),n}function Dr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Vr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-zt(i),n[i]=a}function He(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-zt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Lr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-zt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ve=0;function Mr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ka,go,Qa,Ya,Xa,Ns=!1,zn=[],xt=null,xn=null,An=null,Or=new Map,dn=new Map,Bn=[],rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(n,i){switch(n){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Or.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function qt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Gs(i),i!==null&&go(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function ic(n,i,a,c,d){switch(i){case"focusin":return xt=qt(xt,n,i,a,c,d),!0;case"dragenter":return xn=qt(xn,n,i,a,c,d),!0;case"mouseover":return An=qt(An,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return Or.set(m,qt(Or.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,dn.set(m,qt(dn.get(m)||null,n,i,a,c,d)),!0}return!1}function Za(n){var i=bi(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ti(a),i!==null){n.blockedOn=i,Xa(n.priority,function(){Qa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=yo(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);vi=c,a.target.dispatchEvent(c),vi=null}else return i=Gs(a),i!==null&&go(i),n.blockedOn=a,!1;i.shift()}return!0}function Ai(n,i,a){lr(n)&&a.delete(i)}function el(){Ns=!1,xt!==null&&lr(xt)&&(xt=null),xn!==null&&lr(xn)&&(xn=null),An!==null&&lr(An)&&(An=null),Or.forEach(Ai),dn.forEach(Ai)}function Rn(n,i){n.blockedOn===i&&(n.blockedOn=null,Ns||(Ns=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,el)))}function kn(n){function i(d){return Rn(d,n)}if(0<zn.length){Rn(zn[0],n);for(var a=1;a<zn.length;a++){var c=zn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(xt!==null&&Rn(xt,n),xn!==null&&Rn(xn,n),An!==null&&Rn(An,n),Or.forEach(i),dn.forEach(i),a=0;a<Bn.length;a++)c=Bn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Bn.length&&(a=Bn[0],a.blockedOn===null);)Za(a),a.blockedOn===null&&Bn.shift()}var ur=le.ReactCurrentBatchConfig,Fr=!0;function Xe(n,i,a,c){var d=Ve,m=ur.transition;ur.transition=null;try{Ve=1,Ds(n,i,a,c)}finally{Ve=d,ur.transition=m}}function oc(n,i,a,c){var d=Ve,m=ur.transition;ur.transition=null;try{Ve=4,Ds(n,i,a,c)}finally{Ve=d,ur.transition=m}}function Ds(n,i,a,c){if(Fr){var d=yo(n,i,a,c);if(d===null)gc(n,i,c,Ri,a),Ja(n,c);else if(ic(d,n,i,a,c))c.stopPropagation();else if(Ja(n,c),i&4&&-1<rc.indexOf(n)){for(;d!==null;){var m=Gs(d);if(m!==null&&Ka(m),m=yo(n,i,a,c),m===null&&gc(n,i,c,Ri,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else gc(n,i,c,null,a)}}var Ri=null;function yo(n,i,a,c){if(Ri=null,n=oo(c),n=bi(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ti(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ri=n,null}function Vs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($a()){case Ii:return 1;case br:return 4;case hn:case Ps:return 16;case qa:return 536870912;default:return 16}default:return 16}}var nn=null,vo=null,Ht=null;function Ls(){if(Ht)return Ht;var n,i=vo,a=i.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return Ht=d.slice(n,1<c?1-c:void 0)}function _o(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Un(){return!0}function Ms(){return!1}function At(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Un:Ms,this.isPropagationStopped=Ms,this}return ie(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),i}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=At(Pn),$n=ie({},Pn,{view:0,detail:0}),sc=At($n),Eo,cr,jr,ki=ie({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jr&&(jr&&n.type==="mousemove"?(Eo=n.screenX-jr.screenX,cr=n.screenY-jr.screenY):cr=Eo=0,jr=n),Eo)},movementY:function(n){return"movementY"in n?n.movementY:cr}}),To=At(ki),Os=ie({},ki,{dataTransfer:0}),tl=At(Os),Io=ie({},$n,{relatedTarget:0}),So=At(Io),nl=ie({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=At(nl),rl=ie({},Pn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),il=At(rl),ol=ie({},Pn,{data:0}),Fs=At(ol),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=sl[n])?!!i[n]:!1}function qn(){return al}var u=ie({},$n,{key:function(n){if(n.key){var i=Co[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_o(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(n){return n.type==="keypress"?_o(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_o(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=At(u),v=ie({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=At(v),j=ie({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),W=At(j),re=ie({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=At(re),mt=ie({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=At(mt),Et=[9,13,27,32],ut=f&&"CompositionEvent"in window,fn=null;f&&"documentMode"in document&&(fn=document.documentMode);var rn=f&&"TextEvent"in window&&!fn,Pi=f&&(!ut||fn&&8<fn&&11>=fn),xo=" ",df=!1;function ff(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ao=!1;function y_(n,i){switch(n){case"compositionend":return pf(i);case"keypress":return i.which!==32?null:(df=!0,xo);case"textInput":return n=i.data,n===xo&&df?null:n;default:return null}}function v_(n,i){if(Ao)return n==="compositionend"||!ut&&ff(n,i)?(n=Ls(),Ht=vo=nn=null,Ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var __={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!__[n.type]:i==="textarea"}function gf(n,i,a,c){jn(c),i=dl(i,"onChange"),0<i.length&&(a=new wo("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var js=null,zs=null;function w_(n){Vf(n,0)}function ll(n){var i=No(n);if(eo(i))return n}function E_(n,i){if(n==="change")return i}var yf=!1;if(f){var ac;if(f){var lc="oninput"in document;if(!lc){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),lc=typeof vf.oninput=="function"}ac=lc}else ac=!1;yf=ac&&(!document.documentMode||9<document.documentMode)}function _f(){js&&(js.detachEvent("onpropertychange",wf),zs=js=null)}function wf(n){if(n.propertyName==="value"&&ll(zs)){var i=[];gf(i,zs,n,oo(n)),xs(w_,i)}}function T_(n,i,a){n==="focusin"?(_f(),js=i,zs=a,js.attachEvent("onpropertychange",wf)):n==="focusout"&&_f()}function I_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ll(zs)}function S_(n,i){if(n==="click")return ll(i)}function C_(n,i){if(n==="input"||n==="change")return ll(i)}function x_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:x_;function Bs(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!bn(n[d],i[d]))return!1}return!0}function Ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tf(n,i){var a=Ef(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ef(a)}}function If(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?If(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Sf(){for(var n=window,i=kr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=kr(n.document)}return i}function uc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function A_(n){var i=Sf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&If(a.ownerDocument.documentElement,a)){if(c!==null&&uc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Tf(a,m);var _=Tf(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var R_=f&&"documentMode"in document&&11>=document.documentMode,Ro=null,cc=null,Us=null,hc=!1;function Cf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hc||Ro==null||Ro!==kr(c)||(c=Ro,"selectionStart"in c&&uc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Us&&Bs(Us,c)||(Us=c,c=dl(cc,"onSelect"),0<c.length&&(i=new wo("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ro)))}function ul(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ko={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},dc={},xf={};f&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function cl(n){if(dc[n])return dc[n];if(!ko[n])return n;var i=ko[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in xf)return dc[n]=i[a];return n}var Af=cl("animationend"),Rf=cl("animationiteration"),kf=cl("animationstart"),Pf=cl("transitionend"),bf=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(n,i){bf.set(n,i),l(i,[n])}for(var fc=0;fc<Nf.length;fc++){var pc=Nf[fc],k_=pc.toLowerCase(),P_=pc[0].toUpperCase()+pc.slice(1);zr(k_,"on"+P_)}zr(Af,"onAnimationEnd"),zr(Rf,"onAnimationIteration"),zr(kf,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Pf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Df(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,za(c,i,void 0,n),n.currentTarget=null}function Vf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var C=c[_],P=C.instance,q=C.currentTarget;if(C=C.listener,P!==m&&d.isPropagationStopped())break e;Df(d,C,q),m=P}else for(_=0;_<c.length;_++){if(C=c[_],P=C.instance,q=C.currentTarget,C=C.listener,P!==m&&d.isPropagationStopped())break e;Df(d,C,q),m=P}}}if(In)throw n=As,In=!1,As=null,n}function Ke(n,i){var a=i[Tc];a===void 0&&(a=i[Tc]=new Set);var c=n+"__bubble";a.has(c)||(Lf(i,n,2,!1),a.add(c))}function mc(n,i,a){var c=0;i&&(c|=4),Lf(a,n,c,i)}var hl="_reactListening"+Math.random().toString(36).slice(2);function qs(n){if(!n[hl]){n[hl]=!0,o.forEach(function(a){a!=="selectionchange"&&(b_.has(a)||mc(a,!1,n),mc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[hl]||(i[hl]=!0,mc("selectionchange",!1,i))}}function Lf(n,i,a,c){switch(Vs(i)){case 1:var d=Xe;break;case 4:d=oc;break;default:d=Ds}a=d.bind(null,i,a,n),d=void 0,!lo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function gc(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;C!==null;){if(_=bi(C),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}C=C.parentNode}}c=c.return}xs(function(){var q=m,X=oo(a),J=[];e:{var Y=bf.get(n);if(Y!==void 0){var se=wo,he=n;switch(n){case"keypress":if(_o(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":he="focus",se=So;break;case"focusout":he="blur",se=So;break;case"beforeblur":case"afterblur":se=So;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=W;break;case Af:case Rf:case kf:se=hr;break;case Pf:se=$e;break;case"scroll":se=sc;break;case"wheel":se=Me;break;case"copy":case"cut":case"paste":se=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var de=(i&4)!==0,at=!de&&n==="scroll",B=de?Y!==null?Y+"Capture":null:Y;de=[];for(var M=q,U;M!==null;){U=M;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,B!==null&&(te=st(M,B),te!=null&&de.push(Hs(M,te,U)))),at)break;M=M.return}0<de.length&&(Y=new se(Y,he,null,a,X),J.push({event:Y,listeners:de}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",Y&&a!==vi&&(he=a.relatedTarget||a.fromElement)&&(bi(he)||he[dr]))break e;if((se||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(he=a.relatedTarget||a.toElement,se=q,he=he?bi(he):null,he!==null&&(at=Sn(he),he!==at||he.tag!==5&&he.tag!==6)&&(he=null)):(se=null,he=q),se!==he)){if(de=To,te="onMouseLeave",B="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(de=E,te="onPointerLeave",B="onPointerEnter",M="pointer"),at=se==null?Y:No(se),U=he==null?Y:No(he),Y=new de(te,M+"leave",se,a,X),Y.target=at,Y.relatedTarget=U,te=null,bi(X)===q&&(de=new de(B,M+"enter",he,a,X),de.target=U,de.relatedTarget=at,te=de),at=te,se&&he)t:{for(de=se,B=he,M=0,U=de;U;U=Po(U))M++;for(U=0,te=B;te;te=Po(te))U++;for(;0<M-U;)de=Po(de),M--;for(;0<U-M;)B=Po(B),U--;for(;M--;){if(de===B||B!==null&&de===B.alternate)break t;de=Po(de),B=Po(B)}de=null}else de=null;se!==null&&Mf(J,Y,se,de,!1),he!==null&&at!==null&&Mf(J,at,he,de,!0)}}e:{if(Y=q?No(q):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var fe=E_;else if(mf(Y))if(yf)fe=C_;else{fe=I_;var me=T_}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=S_);if(fe&&(fe=fe(n,q))){gf(J,fe,a,X);break e}me&&me(n,Y,q),n==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&no(Y,"number",Y.value)}switch(me=q?No(q):window,n){case"focusin":(mf(me)||me.contentEditable==="true")&&(Ro=me,cc=q,Us=null);break;case"focusout":Us=cc=Ro=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Cf(J,a,X);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":Cf(J,a,X)}var ge;if(ut)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ao?ff(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Pi&&a.locale!=="ko"&&(Ao||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ao&&(ge=Ls()):(nn=X,vo="value"in nn?nn.value:nn.textContent,Ao=!0)),me=dl(q,Ee),0<me.length&&(Ee=new Fs(Ee,n,null,a,X),J.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=pf(a),ge!==null&&(Ee.data=ge)))),(ge=rn?y_(n,a):v_(n,a))&&(q=dl(q,"onBeforeInput"),0<q.length&&(X=new Fs("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:q}),X.data=ge))}Vf(J,i)})}function Hs(n,i,a){return{instance:n,listener:i,currentTarget:a}}function dl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=st(n,a),m!=null&&c.unshift(Hs(n,m,d)),m=st(n,i),m!=null&&c.push(Hs(n,m,d))),n=n.return}return c}function Po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mf(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var C=a,P=C.alternate,q=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&q!==null&&(C=q,d?(P=st(a,m),P!=null&&_.unshift(Hs(a,P,C))):d||(P=st(a,m),P!=null&&_.push(Hs(a,P,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var N_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function Of(n){return(typeof n=="string"?n:""+n).replace(N_,`
`).replace(D_,"")}function fl(n,i,a){if(i=Of(i),Of(n)!==i&&a)throw Error(t(425))}function pl(){}var yc=null,vc=null;function _c(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wc=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(n){return Ff.resolve(null).then(n).catch(M_)}:wc;function M_(n){setTimeout(function(){throw n})}function Ec(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),kn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);kn(i)}function Br(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function jf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+bo,Ws="__reactProps$"+bo,dr="__reactContainer$"+bo,Tc="__reactEvents$"+bo,O_="__reactListeners$"+bo,F_="__reactHandles$"+bo;function bi(n){var i=n[Hn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[dr]||a[Hn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=jf(n);n!==null;){if(a=n[Hn])return a;n=jf(n)}return i}n=a,a=n.parentNode}return null}function Gs(n){return n=n[Hn]||n[dr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function No(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ml(n){return n[Ws]||null}var Ic=[],Do=-1;function Ur(n){return{current:n}}function Qe(n){0>Do||(n.current=Ic[Do],Ic[Do]=null,Do--)}function Ge(n,i){Do++,Ic[Do]=n.current,n.current=i}var $r={},Dt=Ur($r),Wt=Ur(!1),Ni=$r;function Vo(n,i){var a=n.type.contextTypes;if(!a)return $r;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Gt(n){return n=n.childContextTypes,n!=null}function gl(){Qe(Wt),Qe(Dt)}function zf(n,i,a){if(Dt.current!==$r)throw Error(t(168));Ge(Dt,i),Ge(Wt,a)}function Bf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,oe(n)||"Unknown",d));return ie({},a,c)}function yl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$r,Ni=Dt.current,Ge(Dt,n),Ge(Wt,Wt.current),!0}function Uf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Bf(n,i,Ni),c.__reactInternalMemoizedMergedChildContext=n,Qe(Wt),Qe(Dt),Ge(Dt,n)):Qe(Wt),Ge(Wt,a)}var fr=null,vl=!1,Sc=!1;function $f(n){fr===null?fr=[n]:fr.push(n)}function j_(n){vl=!0,$f(n)}function qr(){if(!Sc&&fr!==null){Sc=!0;var n=0,i=Ve;try{var a=fr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}fr=null,vl=!1}catch(d){throw fr!==null&&(fr=fr.slice(n+1)),fo(Ii,qr),d}finally{Ve=i,Sc=!1}}return null}var Lo=[],Mo=0,_l=null,wl=0,pn=[],mn=0,Di=null,pr=1,mr="";function Vi(n,i){Lo[Mo++]=wl,Lo[Mo++]=_l,_l=n,wl=i}function qf(n,i,a){pn[mn++]=pr,pn[mn++]=mr,pn[mn++]=Di,Di=n;var c=pr;n=mr;var d=32-zt(c)-1;c&=~(1<<d),a+=1;var m=32-zt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,pr=1<<32-zt(i)+d|a<<d|c,mr=m+n}else pr=1<<m|a<<d|c,mr=n}function Cc(n){n.return!==null&&(Vi(n,1),qf(n,1,0))}function xc(n){for(;n===_l;)_l=Lo[--Mo],Lo[Mo]=null,wl=Lo[--Mo],Lo[Mo]=null;for(;n===Di;)Di=pn[--mn],pn[mn]=null,mr=pn[--mn],pn[mn]=null,pr=pn[--mn],pn[mn]=null}var on=null,sn=null,Je=!1,Nn=null;function Hf(n,i){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Wf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,on=n,sn=Br(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,on=n,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Di!==null?{id:pr,overflow:mr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,on=n,sn=null,!0):!1;default:return!1}}function Ac(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rc(n){if(Je){var i=sn;if(i){var a=i;if(!Wf(n,i)){if(Ac(n))throw Error(t(418));i=Br(a.nextSibling);var c=on;i&&Wf(n,i)?Hf(c,a):(n.flags=n.flags&-4097|2,Je=!1,on=n)}}else{if(Ac(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,on=n}}}function Gf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;on=n}function El(n){if(n!==on)return!1;if(!Je)return Gf(n),Je=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!_c(n.type,n.memoizedProps)),i&&(i=sn)){if(Ac(n))throw Kf(),Error(t(418));for(;i;)Hf(n,i),i=Br(i.nextSibling)}if(Gf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){sn=Br(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}sn=null}}else sn=on?Br(n.stateNode.nextSibling):null;return!0}function Kf(){for(var n=sn;n;)n=Br(n.nextSibling)}function Oo(){sn=on=null,Je=!1}function kc(n){Nn===null?Nn=[n]:Nn.push(n)}var z_=le.ReactCurrentBatchConfig;function Ks(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var C=d.refs;_===null?delete C[m]:C[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Tl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Qf(n){var i=n._init;return i(n._payload)}function Yf(n){function i(B,M){if(n){var U=B.deletions;U===null?(B.deletions=[M],B.flags|=16):U.push(M)}}function a(B,M){if(!n)return null;for(;M!==null;)i(B,M),M=M.sibling;return null}function c(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function d(B,M){return B=Jr(B,M),B.index=0,B.sibling=null,B}function m(B,M,U){return B.index=U,n?(U=B.alternate,U!==null?(U=U.index,U<M?(B.flags|=2,M):U):(B.flags|=2,M)):(B.flags|=1048576,M)}function _(B){return n&&B.alternate===null&&(B.flags|=2),B}function C(B,M,U,te){return M===null||M.tag!==6?(M=wh(U,B.mode,te),M.return=B,M):(M=d(M,U),M.return=B,M)}function P(B,M,U,te){var fe=U.type;return fe===D?X(B,M,U.props.children,te,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===qe&&Qf(fe)===M.type)?(te=d(M,U.props),te.ref=Ks(B,M,U),te.return=B,te):(te=Wl(U.type,U.key,U.props,null,B.mode,te),te.ref=Ks(B,M,U),te.return=B,te)}function q(B,M,U,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Eh(U,B.mode,te),M.return=B,M):(M=d(M,U.children||[]),M.return=B,M)}function X(B,M,U,te,fe){return M===null||M.tag!==7?(M=Ui(U,B.mode,te,fe),M.return=B,M):(M=d(M,U),M.return=B,M)}function J(B,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return M=wh(""+M,B.mode,U),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Se:return U=Wl(M.type,M.key,M.props,null,B.mode,U),U.ref=Ks(B,null,M),U.return=B,U;case we:return M=Eh(M,B.mode,U),M.return=B,M;case qe:var te=M._init;return J(B,te(M._payload),U)}if(rr(M)||ce(M))return M=Ui(M,B.mode,U,null),M.return=B,M;Tl(B,M)}return null}function Y(B,M,U,te){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:C(B,M,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Se:return U.key===fe?P(B,M,U,te):null;case we:return U.key===fe?q(B,M,U,te):null;case qe:return fe=U._init,Y(B,M,fe(U._payload),te)}if(rr(U)||ce(U))return fe!==null?null:X(B,M,U,te,null);Tl(B,U)}return null}function se(B,M,U,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(U)||null,C(M,B,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Se:return B=B.get(te.key===null?U:te.key)||null,P(M,B,te,fe);case we:return B=B.get(te.key===null?U:te.key)||null,q(M,B,te,fe);case qe:var me=te._init;return se(B,M,U,me(te._payload),fe)}if(rr(te)||ce(te))return B=B.get(U)||null,X(M,B,te,fe,null);Tl(M,te)}return null}function he(B,M,U,te){for(var fe=null,me=null,ge=M,Ee=M=0,St=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(St=ge,ge=null):St=ge.sibling;var ze=Y(B,ge,U[Ee],te);if(ze===null){ge===null&&(ge=St);break}n&&ge&&ze.alternate===null&&i(B,ge),M=m(ze,M,Ee),me===null?fe=ze:me.sibling=ze,me=ze,ge=St}if(Ee===U.length)return a(B,ge),Je&&Vi(B,Ee),fe;if(ge===null){for(;Ee<U.length;Ee++)ge=J(B,U[Ee],te),ge!==null&&(M=m(ge,M,Ee),me===null?fe=ge:me.sibling=ge,me=ge);return Je&&Vi(B,Ee),fe}for(ge=c(B,ge);Ee<U.length;Ee++)St=se(ge,B,Ee,U[Ee],te),St!==null&&(n&&St.alternate!==null&&ge.delete(St.key===null?Ee:St.key),M=m(St,M,Ee),me===null?fe=St:me.sibling=St,me=St);return n&&ge.forEach(function(Zr){return i(B,Zr)}),Je&&Vi(B,Ee),fe}function de(B,M,U,te){var fe=ce(U);if(typeof fe!="function")throw Error(t(150));if(U=fe.call(U),U==null)throw Error(t(151));for(var me=fe=null,ge=M,Ee=M=0,St=null,ze=U.next();ge!==null&&!ze.done;Ee++,ze=U.next()){ge.index>Ee?(St=ge,ge=null):St=ge.sibling;var Zr=Y(B,ge,ze.value,te);if(Zr===null){ge===null&&(ge=St);break}n&&ge&&Zr.alternate===null&&i(B,ge),M=m(Zr,M,Ee),me===null?fe=Zr:me.sibling=Zr,me=Zr,ge=St}if(ze.done)return a(B,ge),Je&&Vi(B,Ee),fe;if(ge===null){for(;!ze.done;Ee++,ze=U.next())ze=J(B,ze.value,te),ze!==null&&(M=m(ze,M,Ee),me===null?fe=ze:me.sibling=ze,me=ze);return Je&&Vi(B,Ee),fe}for(ge=c(B,ge);!ze.done;Ee++,ze=U.next())ze=se(ge,B,Ee,ze.value,te),ze!==null&&(n&&ze.alternate!==null&&ge.delete(ze.key===null?Ee:ze.key),M=m(ze,M,Ee),me===null?fe=ze:me.sibling=ze,me=ze);return n&&ge.forEach(function(_0){return i(B,_0)}),Je&&Vi(B,Ee),fe}function at(B,M,U,te){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Se:e:{for(var fe=U.key,me=M;me!==null;){if(me.key===fe){if(fe=U.type,fe===D){if(me.tag===7){a(B,me.sibling),M=d(me,U.props.children),M.return=B,B=M;break e}}else if(me.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===qe&&Qf(fe)===me.type){a(B,me.sibling),M=d(me,U.props),M.ref=Ks(B,me,U),M.return=B,B=M;break e}a(B,me);break}else i(B,me);me=me.sibling}U.type===D?(M=Ui(U.props.children,B.mode,te,U.key),M.return=B,B=M):(te=Wl(U.type,U.key,U.props,null,B.mode,te),te.ref=Ks(B,M,U),te.return=B,B=te)}return _(B);case we:e:{for(me=U.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(B,M.sibling),M=d(M,U.children||[]),M.return=B,B=M;break e}else{a(B,M);break}else i(B,M);M=M.sibling}M=Eh(U,B.mode,te),M.return=B,B=M}return _(B);case qe:return me=U._init,at(B,M,me(U._payload),te)}if(rr(U))return he(B,M,U,te);if(ce(U))return de(B,M,U,te);Tl(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,M!==null&&M.tag===6?(a(B,M.sibling),M=d(M,U),M.return=B,B=M):(a(B,M),M=wh(U,B.mode,te),M.return=B,B=M),_(B)):a(B,M)}return at}var Fo=Yf(!0),Xf=Yf(!1),Il=Ur(null),Sl=null,jo=null,Pc=null;function bc(){Pc=jo=Sl=null}function Nc(n){var i=Il.current;Qe(Il),n._currentValue=i}function Dc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function zo(n,i){Sl=n,Pc=jo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Kt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(Pc!==n)if(n={context:n,memoizedValue:i,next:null},jo===null){if(Sl===null)throw Error(t(308));jo=n,Sl.dependencies={lanes:0,firstContext:n}}else jo=jo.next=n;return i}var Li=null;function Vc(n){Li===null?Li=[n]:Li.push(n)}function Jf(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Vc(i)):(a.next=d.next,d.next=a),i.interleaved=a,gr(n,c)}function gr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function Lc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,je&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,gr(n,a)}return d=c.interleaved,d===null?(i.next=i,Vc(c)):(i.next=d.next,d.next=i),c.interleaved=i,gr(n,a)}function Cl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}function ep(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function xl(n,i,a,c){var d=n.updateQueue;Hr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,q=P.next;P.next=null,_===null?m=q:_.next=q,_=P;var X=n.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==_&&(C===null?X.firstBaseUpdate=q:C.next=q,X.lastBaseUpdate=P))}if(m!==null){var J=d.baseState;_=0,X=q=P=null,C=m;do{var Y=C.lane,se=C.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=n,de=C;switch(Y=i,se=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){J=he.call(se,J,Y);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Y=typeof he=="function"?he.call(se,J,Y):he,Y==null)break e;J=ie({},J,Y);break e;case 2:Hr=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[C]:Y.push(C))}else se={eventTime:se,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(q=X=se,P=J):X=X.next=se,_|=Y;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(X===null&&(P=J),d.baseState=P,d.firstBaseUpdate=q,d.lastBaseUpdate=X,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Fi|=_,n.lanes=_,n.memoizedState=J}}function tp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Qs={},Wn=Ur(Qs),Ys=Ur(Qs),Xs=Ur(Qs);function Mi(n){if(n===Qs)throw Error(t(174));return n}function Mc(n,i){switch(Ge(Xs,i),Ge(Ys,n),Ge(Wn,Qs),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:pt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=pt(i,n)}Qe(Wn),Ge(Wn,i)}function Bo(){Qe(Wn),Qe(Ys),Qe(Xs)}function np(n){Mi(Xs.current);var i=Mi(Wn.current),a=pt(i,n.type);i!==a&&(Ge(Ys,n),Ge(Wn,a))}function Oc(n){Ys.current===n&&(Qe(Wn),Qe(Ys))}var et=Ur(0);function Al(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fc=[];function jc(){for(var n=0;n<Fc.length;n++)Fc[n]._workInProgressVersionPrimary=null;Fc.length=0}var Rl=le.ReactCurrentDispatcher,zc=le.ReactCurrentBatchConfig,Oi=0,tt=null,gt=null,Tt=null,kl=!1,Js=!1,Zs=0,B_=0;function Vt(){throw Error(t(321))}function Bc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function Uc(n,i,a,c,d,m){if(Oi=m,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Rl.current=n===null||n.memoizedState===null?H_:W_,n=a(c,d),Js){m=0;do{if(Js=!1,Zs=0,25<=m)throw Error(t(301));m+=1,Tt=gt=null,i.updateQueue=null,Rl.current=G_,n=a(c,d)}while(Js)}if(Rl.current=Nl,i=gt!==null&&gt.next!==null,Oi=0,Tt=gt=tt=null,kl=!1,i)throw Error(t(300));return n}function $c(){var n=Zs!==0;return Zs=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?tt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function yn(){if(gt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var i=Tt===null?tt.memoizedState:Tt.next;if(i!==null)Tt=i,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?tt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ea(n,i){return typeof i=="function"?i(n):i}function qc(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=gt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var C=_=null,P=null,q=m;do{var X=q.lane;if((Oi&X)===X)P!==null&&(P=P.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:n(c,q.action);else{var J={lane:X,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};P===null?(C=P=J,_=c):P=P.next=J,tt.lanes|=X,Fi|=X}q=q.next}while(q!==null&&q!==m);P===null?_=c:P.next=C,bn(c,i.memoizedState)||(Kt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,tt.lanes|=m,Fi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Hc(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);bn(m,i.memoizedState)||(Kt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function rp(){}function ip(n,i){var a=tt,c=yn(),d=i(),m=!bn(c.memoizedState,d);if(m&&(c.memoizedState=d,Kt=!0),c=c.queue,Wc(ap.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ta(9,sp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));Oi&30||op(a,i,d)}return d}function op(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function sp(n,i,a,c){i.value=a,i.getSnapshot=c,lp(i)&&up(n)}function ap(n,i,a){return a(function(){lp(i)&&up(n)})}function lp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function up(n){var i=gr(n,1);i!==null&&Mn(i,n,1,-1)}function cp(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:n},i.queue=n,n=n.dispatch=q_.bind(null,tt,n),[i.memoizedState,n]}function ta(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function hp(){return yn().memoizedState}function Pl(n,i,a,c){var d=Gn();tt.flags|=n,d.memoizedState=ta(1|i,a,void 0,c===void 0?null:c)}function bl(n,i,a,c){var d=yn();c=c===void 0?null:c;var m=void 0;if(gt!==null){var _=gt.memoizedState;if(m=_.destroy,c!==null&&Bc(c,_.deps)){d.memoizedState=ta(i,a,m,c);return}}tt.flags|=n,d.memoizedState=ta(1|i,a,m,c)}function dp(n,i){return Pl(8390656,8,n,i)}function Wc(n,i){return bl(2048,8,n,i)}function fp(n,i){return bl(4,2,n,i)}function pp(n,i){return bl(4,4,n,i)}function mp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function gp(n,i,a){return a=a!=null?a.concat([n]):null,bl(4,4,mp.bind(null,i,n),a)}function Gc(){}function yp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Bc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function vp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Bc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function _p(n,i,a){return Oi&21?(bn(a,i)||(a=xi(),tt.lanes|=a,Fi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=a)}function U_(n,i){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=zc.transition;zc.transition={};try{n(!1),i()}finally{Ve=a,zc.transition=c}}function wp(){return yn().memoizedState}function $_(n,i,a){var c=Yr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ep(n))Tp(i,a);else if(a=Jf(n,i,a,c),a!==null){var d=$t();Mn(a,n,c,d),Ip(a,i,c)}}function q_(n,i,a){var c=Yr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ep(n))Tp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,C=m(_,a);if(d.hasEagerState=!0,d.eagerState=C,bn(C,_)){var P=i.interleaved;P===null?(d.next=d,Vc(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=Jf(n,i,d,c),a!==null&&(d=$t(),Mn(a,n,c,d),Ip(a,i,c))}}function Ep(n){var i=n.alternate;return n===tt||i!==null&&i===tt}function Tp(n,i){Js=kl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Ip(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}var Nl={readContext:gn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},H_={readContext:gn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:dp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Pl(4194308,4,mp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Pl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Pl(4,2,n,i)},useMemo:function(n,i){var a=Gn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Gn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=$_.bind(null,tt,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:cp,useDebugValue:Gc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=cp(!1),i=n[0];return n=U_.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=tt,d=Gn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));Oi&30||op(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,dp(ap.bind(null,c,m,n),[n]),c.flags|=2048,ta(9,sp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Gn(),i=It.identifierPrefix;if(Je){var a=mr,c=pr;a=(c&~(1<<32-zt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Zs++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=B_++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},W_={readContext:gn,useCallback:yp,useContext:gn,useEffect:Wc,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:pp,useMemo:vp,useReducer:qc,useRef:hp,useState:function(){return qc(ea)},useDebugValue:Gc,useDeferredValue:function(n){var i=yn();return _p(i,gt.memoizedState,n)},useTransition:function(){var n=qc(ea)[0],i=yn().memoizedState;return[n,i]},useMutableSource:rp,useSyncExternalStore:ip,useId:wp,unstable_isNewReconciler:!1},G_={readContext:gn,useCallback:yp,useContext:gn,useEffect:Wc,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:pp,useMemo:vp,useReducer:Hc,useRef:hp,useState:function(){return Hc(ea)},useDebugValue:Gc,useDeferredValue:function(n){var i=yn();return gt===null?i.memoizedState=n:_p(i,gt.memoizedState,n)},useTransition:function(){var n=Hc(ea)[0],i=yn().memoizedState;return[n,i]},useMutableSource:rp,useSyncExternalStore:ip,useId:wp,unstable_isNewReconciler:!1};function Dn(n,i){if(n&&n.defaultProps){i=ie({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Kc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ie({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dl={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=$t(),d=Yr(n),m=yr(c,d);m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,d),i!==null&&(Mn(i,n,d,c),Cl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=$t(),d=Yr(n),m=yr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Wr(n,m,d),i!==null&&(Mn(i,n,d,c),Cl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=$t(),c=Yr(n),d=yr(a,c);d.tag=2,i!=null&&(d.callback=i),i=Wr(n,d,c),i!==null&&(Mn(i,n,c,a),Cl(i,n,c))}};function Sp(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!Bs(a,c)||!Bs(d,m):!0}function Cp(n,i,a){var c=!1,d=$r,m=i.contextType;return typeof m=="object"&&m!==null?m=gn(m):(d=Gt(i)?Ni:Dt.current,c=i.contextTypes,m=(c=c!=null)?Vo(n,d):$r),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function xp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Dl.enqueueReplaceState(i,i.state,null)}function Qc(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Lc(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=gn(m):(m=Gt(i)?Ni:Dt.current,d.context=Vo(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Kc(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Dl.enqueueReplaceState(d,d.state,null),xl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Uo(n,i){try{var a="",c=i;do a+=Ae(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Yc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Xc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function Ap(n,i,a){a=yr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){zl||(zl=!0,dh=c),Xc(n,i)},a}function Rp(n,i,a){a=yr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Xc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Xc(n,i),typeof c!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function kp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new K_;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=l0.bind(null,n,i,a),i.then(n,n))}function Pp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function bp(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=yr(-1,1),i.tag=2,Wr(a,i,1))),a.lanes|=1),n)}var Q_=le.ReactCurrentOwner,Kt=!1;function Ut(n,i,a,c){i.child=n===null?Xf(i,null,a,c):Fo(i,n.child,a,c)}function Np(n,i,a,c,d){a=a.render;var m=i.ref;return zo(i,d),c=Uc(n,i,a,c,m,d),a=$c(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,vr(n,i,d)):(Je&&a&&Cc(i),i.flags|=1,Ut(n,i,c,d),i.child)}function Dp(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!_h(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Vp(n,i,m,c,d)):(n=Wl(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bs,a(_,c)&&n.ref===i.ref)return vr(n,i,d)}return i.flags|=1,n=Jr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Vp(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(Bs(m,c)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Kt=!0);else return i.lanes=n.lanes,vr(n,i,d)}return Jc(n,i,a,c,d)}function Lp(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(qo,an),an|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ge(qo,an),an|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ge(qo,an),an|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ge(qo,an),an|=c;return Ut(n,i,d,a),i.child}function Mp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Jc(n,i,a,c,d){var m=Gt(a)?Ni:Dt.current;return m=Vo(i,m),zo(i,d),a=Uc(n,i,a,c,m,d),c=$c(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,vr(n,i,d)):(Je&&c&&Cc(i),i.flags|=1,Ut(n,i,a,d),i.child)}function Op(n,i,a,c,d){if(Gt(a)){var m=!0;yl(i)}else m=!1;if(zo(i,d),i.stateNode===null)Ll(n,i),Cp(i,a,c),Qc(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,C=i.memoizedProps;_.props=C;var P=_.context,q=a.contextType;typeof q=="object"&&q!==null?q=gn(q):(q=Gt(a)?Ni:Dt.current,q=Vo(i,q));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||P!==q)&&xp(i,_,c,q),Hr=!1;var Y=i.memoizedState;_.state=Y,xl(i,c,_,d),P=i.memoizedState,C!==c||Y!==P||Wt.current||Hr?(typeof X=="function"&&(Kc(i,a,X,c),P=i.memoizedState),(C=Hr||Sp(i,a,C,c,Y,P,q))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=q,c=C):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Zf(n,i),C=i.memoizedProps,q=i.type===i.elementType?C:Dn(i.type,C),_.props=q,J=i.pendingProps,Y=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=gn(P):(P=Gt(a)?Ni:Dt.current,P=Vo(i,P));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==J||Y!==P)&&xp(i,_,c,P),Hr=!1,Y=i.memoizedState,_.state=Y,xl(i,c,_,d);var he=i.memoizedState;C!==J||Y!==he||Wt.current||Hr?(typeof se=="function"&&(Kc(i,a,se,c),he=i.memoizedState),(q=Hr||Sp(i,a,q,c,Y,he,P)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,he,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,he,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),_.props=c,_.state=he,_.context=P,c=q):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return Zc(n,i,a,c,m,d)}function Zc(n,i,a,c,d,m){Mp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Uf(i,a,!1),vr(n,i,m);c=i.stateNode,Q_.current=i;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Fo(i,n.child,null,m),i.child=Fo(i,null,C,m)):Ut(n,i,C,m),i.memoizedState=c.state,d&&Uf(i,a,!0),i.child}function Fp(n){var i=n.stateNode;i.pendingContext?zf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&zf(n,i.context,!1),Mc(n,i.containerInfo)}function jp(n,i,a,c,d){return Oo(),kc(d),i.flags|=256,Ut(n,i,a,c),i.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(n){return{baseLanes:n,cachePool:null,transitions:null}}function zp(n,i,a){var c=i.pendingProps,d=et.current,m=!1,_=(i.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ge(et,d&1),n===null)return Rc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Gl(_,c,0,null),n=Ui(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=th(a),i.memoizedState=eh,n):nh(i,_));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return Y_(n,i,_,c,C,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,C=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Jr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=Jr(C,m):(m=Ui(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?th(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=eh,c}return m=n.child,n=m.sibling,c=Jr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function nh(n,i){return i=Gl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Vl(n,i,a,c){return c!==null&&kc(c),Fo(i,n.child,null,a),n=nh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Y_(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Yc(Error(t(422))),Vl(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Gl({mode:"visible",children:c.children},d,0,null),m=Ui(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Fo(i,n.child,null,_),i.child.memoizedState=th(_),i.memoizedState=eh,m);if(!(i.mode&1))return Vl(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(t(419)),c=Yc(m,c,void 0),Vl(n,i,_,c)}if(C=(_&n.childLanes)!==0,Kt||C){if(c=It,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,gr(n,d),Mn(c,n,d,-1))}return vh(),c=Yc(Error(t(421))),Vl(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=u0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,sn=Br(d.nextSibling),on=i,Je=!0,Nn=null,n!==null&&(pn[mn++]=pr,pn[mn++]=mr,pn[mn++]=Di,pr=n.id,mr=n.overflow,Di=i),i=nh(i,c.children),i.flags|=4096,i)}function Bp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Dc(n.return,i,a)}function rh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Up(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Ut(n,i,c.children,a),c=et.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bp(n,a,i);else if(n.tag===19)Bp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(et,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Al(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),rh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Al(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}rh(i,!0,a,null,m);break;case"together":rh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ll(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function vr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Jr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function X_(n,i,a){switch(i.tag){case 3:Fp(i),Oo();break;case 5:np(i);break;case 1:Gt(i.type)&&yl(i);break;case 4:Mc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ge(Il,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ge(et,et.current&1),i.flags|=128,null):a&i.child.childLanes?zp(n,i,a):(Ge(et,et.current&1),n=vr(n,i,a),n!==null?n.sibling:null);Ge(et,et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Up(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(et,et.current),c)break;return null;case 22:case 23:return i.lanes=0,Lp(n,i,a)}return vr(n,i,a)}var $p,ih,qp,Hp;$p=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ih=function(){},qp=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Mi(Wn.current);var m=null;switch(a){case"input":d=mi(n,d),c=mi(n,c),m=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),m=[];break;case"textarea":d=gs(n,d),c=gs(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=pl)}Ts(a,c);var _;a=null;for(q in d)if(!c.hasOwnProperty(q)&&d.hasOwnProperty(q)&&d[q]!=null)if(q==="style"){var C=d[q];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?m||(m=[]):(m=m||[]).push(q,null));for(q in c){var P=c[q];if(C=d!=null?d[q]:void 0,c.hasOwnProperty(q)&&P!==C&&(P!=null||C!=null))if(q==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&C[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(q,a)),a=P;else q==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(q,P)):q==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(q,""+P):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(P!=null&&q==="onScroll"&&Ke("scroll",n),m||C===P||(m=[])):(m=m||[]).push(q,P))}a&&(m=m||[]).push("style",a);var q=m;(i.updateQueue=q)&&(i.flags|=4)}},Hp=function(n,i,a,c){a!==c&&(i.flags|=4)};function na(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function J_(n,i,a){var c=i.pendingProps;switch(xc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Gt(i.type)&&gl(),Lt(i),null;case 3:return c=i.stateNode,Bo(),Qe(Wt),Qe(Dt),jc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(El(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Nn!==null&&(mh(Nn),Nn=null))),ih(n,i),Lt(i),null;case 5:Oc(i);var d=Mi(Xs.current);if(a=i.type,n!==null&&i.stateNode!=null)qp(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=Mi(Wn.current),El(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Hn]=i,c[Ws]=m,n=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(d=0;d<$s.length;d++)Ke($s[d],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":to(c,m),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ke("invalid",c);break;case"textarea":ro(c,m),Ke("invalid",c)}Ts(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,C,n),d=["children",""+C]):s.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Ke("scroll",c)}switch(a){case"input":nr(c),ja(c,m,!0);break;case"textarea":nr(c),ys(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=pl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ft(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Hn]=i,n[Ws]=c,$p(n,i,!1,!1),i.stateNode=n;e:{switch(_=Is(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),d=c;break;case"iframe":case"object":case"embed":Ke("load",n),d=c;break;case"video":case"audio":for(d=0;d<$s.length;d++)Ke($s[d],n);d=c;break;case"source":Ke("error",n),d=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),d=c;break;case"details":Ke("toggle",n),d=c;break;case"input":to(n,c),d=mi(n,c),Ke("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":ro(n,c),d=gs(n,c),Ke("invalid",n);break;default:d=c}Ts(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?ws(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&vs(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Pr(n,P):typeof P=="number"&&Pr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ke("scroll",n):P!=null&&ne(n,m,P,_))}switch(a){case"input":nr(n),ja(n,c,!1);break;case"textarea":nr(n),ys(n);break;case"option":c.value!=null&&n.setAttribute("value",""+_e(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ir(n,!!c.multiple,m,!1):c.defaultValue!=null&&ir(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=pl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)Hp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Mi(Xs.current),Mi(Wn.current),El(i)){if(c=i.stateNode,a=i.memoizedProps,c[Hn]=i,(m=c.nodeValue!==a)&&(n=on,n!==null))switch(n.tag){case 3:fl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Hn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Qe(et),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&sn!==null&&i.mode&1&&!(i.flags&128))Kf(),Oo(),i.flags|=98560,m=!1;else if(m=El(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Hn]=i}else Oo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Lt(i),m=!1}else Nn!==null&&(mh(Nn),Nn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||et.current&1?yt===0&&(yt=3):vh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return Bo(),ih(n,i),n===null&&qs(i.stateNode.containerInfo),Lt(i),null;case 10:return Nc(i.type._context),Lt(i),null;case 17:return Gt(i.type)&&gl(),Lt(i),null;case 19:if(Qe(et),m=i.memoizedState,m===null)return Lt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)na(m,!1);else{if(yt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=Al(n),_!==null){for(i.flags|=128,na(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ge(et,et.current&1|2),i.child}n=n.sibling}m.tail!==null&&We()>Ho&&(i.flags|=128,c=!0,na(m,!1),i.lanes=4194304)}else{if(!c)if(n=Al(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Je)return Lt(i),null}else 2*We()-m.renderingStartTime>Ho&&a!==1073741824&&(i.flags|=128,c=!0,na(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=We(),i.sibling=null,a=et.current,Ge(et,c?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return yh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?an&1073741824&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Z_(n,i){switch(xc(i),i.tag){case 1:return Gt(i.type)&&gl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Bo(),Qe(Wt),Qe(Dt),jc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Oc(i),null;case 13:if(Qe(et),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Oo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Qe(et),null;case 4:return Bo(),null;case 10:return Nc(i.type._context),null;case 22:case 23:return yh(),null;case 24:return null;default:return null}}var Ml=!1,Mt=!1,e0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function $o(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(n,i,c)}else a.current=null}function oh(n,i,a){try{a()}catch(c){it(n,i,c)}}var Wp=!1;function t0(n,i){if(yc=Fr,n=Sf(),uc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,q=0,X=0,J=n,Y=null;t:for(;;){for(var se;J!==a||d!==0&&J.nodeType!==3||(C=_+d),J!==m||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(se=J.firstChild)!==null;)Y=J,J=se;for(;;){if(J===n)break t;if(Y===a&&++q===d&&(C=_),Y===m&&++X===c&&(P=_),(se=J.nextSibling)!==null)break;J=Y,Y=J.parentNode}J=se}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(vc={focusedElem:n,selectionRange:a},Fr=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var he=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,at=he.memoizedState,B=i.stateNode,M=B.getSnapshotBeforeUpdate(i.elementType===i.type?de:Dn(i.type,de),at);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){it(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return he=Wp,Wp=!1,he}function ra(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&oh(i,a,m)}d=d.next}while(d!==c)}}function Ol(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function sh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Gp(n){var i=n.alternate;i!==null&&(n.alternate=null,Gp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Hn],delete i[Ws],delete i[Tc],delete i[O_],delete i[F_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Kp(n){return n.tag===5||n.tag===3||n.tag===4}function Qp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ah(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pl));else if(c!==4&&(n=n.child,n!==null))for(ah(n,i,a),n=n.sibling;n!==null;)ah(n,i,a),n=n.sibling}function lh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(lh(n,i,a),n=n.sibling;n!==null;)lh(n,i,a),n=n.sibling}var Rt=null,Vn=!1;function Gr(n,i,a){for(a=a.child;a!==null;)Yp(n,i,a),a=a.sibling}function Yp(n,i,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 5:Mt||$o(a,i);case 6:var c=Rt,d=Vn;Rt=null,Gr(n,i,a),Rt=c,Vn=d,Rt!==null&&(Vn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Vn?(n=Rt,a=a.stateNode,n.nodeType===8?Ec(n.parentNode,a):n.nodeType===1&&Ec(n,a),kn(n)):Ec(Rt,a.stateNode));break;case 4:c=Rt,d=Vn,Rt=a.stateNode.containerInfo,Vn=!0,Gr(n,i,a),Rt=c,Vn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&oh(a,i,_),d=d.next}while(d!==c)}Gr(n,i,a);break;case 1:if(!Mt&&($o(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){it(a,i,C)}Gr(n,i,a);break;case 21:Gr(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,Gr(n,i,a),Mt=c):Gr(n,i,a);break;default:Gr(n,i,a)}}function Xp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new e0),i.forEach(function(c){var d=c0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Ln(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 5:Rt=C.stateNode,Vn=!1;break e;case 3:Rt=C.stateNode.containerInfo,Vn=!0;break e;case 4:Rt=C.stateNode.containerInfo,Vn=!0;break e}C=C.return}if(Rt===null)throw Error(t(160));Yp(m,_,d),Rt=null,Vn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(q){it(d,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Jp(i,n),i=i.sibling}function Jp(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ln(i,n),Kn(n),c&4){try{ra(3,n,n.return),Ol(3,n)}catch(de){it(n,n.return,de)}try{ra(5,n,n.return)}catch(de){it(n,n.return,de)}}break;case 1:Ln(i,n),Kn(n),c&512&&a!==null&&$o(a,a.return);break;case 5:if(Ln(i,n),Kn(n),c&512&&a!==null&&$o(a,a.return),n.flags&32){var d=n.stateNode;try{Pr(d,"")}catch(de){it(n,n.return,de)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,C=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&ps(d,m),Is(C,_);var q=Is(C,m);for(_=0;_<P.length;_+=2){var X=P[_],J=P[_+1];X==="style"?ws(d,J):X==="dangerouslySetInnerHTML"?vs(d,J):X==="children"?Pr(d,J):ne(d,X,J,q)}switch(C){case"input":ms(d,m);break;case"textarea":io(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ir(d,!!m.multiple,se,!1):Y!==!!m.multiple&&(m.defaultValue!=null?ir(d,!!m.multiple,m.defaultValue,!0):ir(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ws]=m}catch(de){it(n,n.return,de)}}break;case 6:if(Ln(i,n),Kn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(de){it(n,n.return,de)}}break;case 3:if(Ln(i,n),Kn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{kn(i.containerInfo)}catch(de){it(n,n.return,de)}break;case 4:Ln(i,n),Kn(n);break;case 13:Ln(i,n),Kn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(hh=We())),c&4&&Xp(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(q=Mt)||X,Ln(i,n),Mt=q):Ln(i,n),Kn(n),c&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!X&&n.mode&1)for(ue=n,X=n.child;X!==null;){for(J=ue=X;ue!==null;){switch(Y=ue,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:ra(4,Y,Y.return);break;case 1:$o(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){it(c,a,de)}}break;case 5:$o(Y,Y.return);break;case 22:if(Y.memoizedState!==null){tm(J);continue}}se!==null?(se.return=Y,ue=se):tm(J)}X=X.sibling}e:for(X=null,J=n;;){if(J.tag===5){if(X===null){X=J;try{d=J.stateNode,q?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=_s("display",_))}catch(de){it(n,n.return,de)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=q?"":J.memoizedProps}catch(de){it(n,n.return,de)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Ln(i,n),Kn(n),c&4&&Xp(n);break;case 21:break;default:Ln(i,n),Kn(n)}}function Kn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Kp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Pr(d,""),c.flags&=-33);var m=Qp(n);lh(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Qp(n);ah(n,C,_);break;default:throw Error(t(161))}}catch(P){it(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function n0(n,i,a){ue=n,Zp(n)}function Zp(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var d=ue,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Ml;if(!_){var C=d.alternate,P=C!==null&&C.memoizedState!==null||Mt;C=Ml;var q=Mt;if(Ml=_,(Mt=P)&&!q)for(ue=d;ue!==null;)_=ue,P=_.child,_.tag===22&&_.memoizedState!==null?nm(d):P!==null?(P.return=_,ue=P):nm(d);for(;m!==null;)ue=m,Zp(m),m=m.sibling;ue=d,Ml=C,Mt=q}em(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ue=m):em(n)}}function em(n){for(;ue!==null;){var i=ue;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||Ol(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Dn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&tp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}tp(i,_,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var X=q.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&kn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&sh(i)}catch(Y){it(i,i.return,Y)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function tm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function nm(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ol(4,i)}catch(P){it(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){it(i,d,P)}}var m=i.return;try{sh(i)}catch(P){it(i,m,P)}break;case 5:var _=i.return;try{sh(i)}catch(P){it(i,_,P)}}}catch(P){it(i,i.return,P)}if(i===n){ue=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ue=C;break}ue=i.return}}var r0=Math.ceil,Fl=le.ReactCurrentDispatcher,uh=le.ReactCurrentOwner,vn=le.ReactCurrentBatchConfig,je=0,It=null,ct=null,kt=0,an=0,qo=Ur(0),yt=0,ia=null,Fi=0,jl=0,ch=0,oa=null,Qt=null,hh=0,Ho=1/0,_r=null,zl=!1,dh=null,Kr=null,Bl=!1,Qr=null,Ul=0,sa=0,fh=null,$l=-1,ql=0;function $t(){return je&6?We():$l!==-1?$l:$l=We()}function Yr(n){return n.mode&1?je&2&&kt!==0?kt&-kt:z_.transition!==null?(ql===0&&(ql=xi()),ql):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Vs(n.type)),n):1}function Mn(n,i,a,c){if(50<sa)throw sa=0,fh=null,Error(t(185));Vr(n,a,c),(!(je&2)||n!==It)&&(n===It&&(!(je&2)&&(jl|=a),yt===4&&Xr(n,kt)),Yt(n,c),a===1&&je===0&&!(i.mode&1)&&(Ho=We()+500,vl&&qr()))}function Yt(n,i){var a=n.callbackNode;ar(n,i);var c=Ci(n,n===It?kt:0);if(c===0)a!==null&&ks(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&ks(a),i===1)n.tag===0?j_(im.bind(null,n)):$f(im.bind(null,n)),L_(function(){!(je&6)&&qr()}),a=null;else{switch(Mr(c)){case 1:a=Ii;break;case 4:a=br;break;case 16:a=hn;break;case 536870912:a=qa;break;default:a=hn}a=dm(a,rm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function rm(n,i){if($l=-1,ql=0,je&6)throw Error(t(327));var a=n.callbackNode;if(Wo()&&n.callbackNode!==a)return null;var c=Ci(n,n===It?kt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Hl(n,c);else{i=c;var d=je;je|=2;var m=sm();(It!==n||kt!==i)&&(_r=null,Ho=We()+500,zi(n,i));do try{s0();break}catch(C){om(n,C)}while(!0);bc(),Fl.current=m,je=d,ct!==null?i=0:(It=null,kt=0,i=yt)}if(i!==0){if(i===2&&(d=tn(n),d!==0&&(c=d,i=ph(n,d))),i===1)throw a=ia,zi(n,0),Xr(n,c),Yt(n,We()),a;if(i===6)Xr(n,c);else{if(d=n.current.alternate,!(c&30)&&!i0(d)&&(i=Hl(n,c),i===2&&(m=tn(n),m!==0&&(c=m,i=ph(n,m))),i===1))throw a=ia,zi(n,0),Xr(n,c),Yt(n,We()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Bi(n,Qt,_r);break;case 3:if(Xr(n,c),(c&130023424)===c&&(i=hh+500-We(),10<i)){if(Ci(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=wc(Bi.bind(null,n,Qt,_r),i);break}Bi(n,Qt,_r);break;case 4:if(Xr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-zt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*r0(c/1960))-c,10<c){n.timeoutHandle=wc(Bi.bind(null,n,Qt,_r),c);break}Bi(n,Qt,_r);break;case 5:Bi(n,Qt,_r);break;default:throw Error(t(329))}}}return Yt(n,We()),n.callbackNode===a?rm.bind(null,n):null}function ph(n,i){var a=oa;return n.current.memoizedState.isDehydrated&&(zi(n,i).flags|=256),n=Hl(n,i),n!==2&&(i=Qt,Qt=a,i!==null&&mh(i)),n}function mh(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function i0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!bn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(n,i){for(i&=~ch,i&=~jl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-zt(i),c=1<<a;n[a]=-1,i&=~c}}function im(n){if(je&6)throw Error(t(327));Wo();var i=Ci(n,0);if(!(i&1))return Yt(n,We()),null;var a=Hl(n,i);if(n.tag!==0&&a===2){var c=tn(n);c!==0&&(i=c,a=ph(n,c))}if(a===1)throw a=ia,zi(n,0),Xr(n,i),Yt(n,We()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Bi(n,Qt,_r),Yt(n,We()),null}function gh(n,i){var a=je;je|=1;try{return n(i)}finally{je=a,je===0&&(Ho=We()+500,vl&&qr())}}function ji(n){Qr!==null&&Qr.tag===0&&!(je&6)&&Wo();var i=je;je|=1;var a=vn.transition,c=Ve;try{if(vn.transition=null,Ve=1,n)return n()}finally{Ve=c,vn.transition=a,je=i,!(je&6)&&qr()}}function yh(){an=qo.current,Qe(qo)}function zi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,V_(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(xc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&gl();break;case 3:Bo(),Qe(Wt),Qe(Dt),jc();break;case 5:Oc(c);break;case 4:Bo();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Nc(c.type._context);break;case 22:case 23:yh()}a=a.return}if(It=n,ct=n=Jr(n.current,null),kt=an=i,yt=0,ia=null,ch=jl=Fi=0,Qt=oa=null,Li!==null){for(i=0;i<Li.length;i++)if(a=Li[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Li=null}return n}function om(n,i){do{var a=ct;try{if(bc(),Rl.current=Nl,kl){for(var c=tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}kl=!1}if(Oi=0,Tt=gt=tt=null,Js=!1,Zs=0,uh.current=null,a===null||a.return===null){yt=1,ia=i,ct=null;break}e:{var m=n,_=a.return,C=a,P=i;if(i=kt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var q=P,X=C,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=Pp(_);if(se!==null){se.flags&=-257,bp(se,_,C,m,i),se.mode&1&&kp(m,q,i),i=se,P=q;var he=i.updateQueue;if(he===null){var de=new Set;de.add(P),i.updateQueue=de}else he.add(P);break e}else{if(!(i&1)){kp(m,q,i),vh();break e}P=Error(t(426))}}else if(Je&&C.mode&1){var at=Pp(_);if(at!==null){!(at.flags&65536)&&(at.flags|=256),bp(at,_,C,m,i),kc(Uo(P,C));break e}}m=P=Uo(P,C),yt!==4&&(yt=2),oa===null?oa=[m]:oa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var B=Ap(m,P,i);ep(m,B);break e;case 1:C=P;var M=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Kr===null||!Kr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=Rp(m,C,i);ep(m,te);break e}}m=m.return}while(m!==null)}lm(a)}catch(fe){i=fe,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function sm(){var n=Fl.current;return Fl.current=Nl,n===null?Nl:n}function vh(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(Fi&268435455)&&!(jl&268435455)||Xr(It,kt)}function Hl(n,i){var a=je;je|=2;var c=sm();(It!==n||kt!==i)&&(_r=null,zi(n,i));do try{o0();break}catch(d){om(n,d)}while(!0);if(bc(),je=a,Fl.current=c,ct!==null)throw Error(t(261));return It=null,kt=0,yt}function o0(){for(;ct!==null;)am(ct)}function s0(){for(;ct!==null&&!Ua();)am(ct)}function am(n){var i=hm(n.alternate,n,an);n.memoizedProps=n.pendingProps,i===null?lm(n):ct=i,uh.current=null}function lm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=Z_(a,i),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ct=null;return}}else if(a=J_(a,i,an),a!==null){ct=a;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=n}while(i!==null);yt===0&&(yt=5)}function Bi(n,i,a){var c=Ve,d=vn.transition;try{vn.transition=null,Ve=1,a0(n,i,a,c)}finally{vn.transition=d,Ve=c}return null}function a0(n,i,a,c){do Wo();while(Qr!==null);if(je&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(He(n,m),n===It&&(ct=It=null,kt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Bl||(Bl=!0,dm(hn,function(){return Wo(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=vn.transition,vn.transition=null;var _=Ve;Ve=1;var C=je;je|=4,uh.current=null,t0(n,a),Jp(a,n),A_(vc),Fr=!!yc,vc=yc=null,n.current=a,n0(a),tc(),je=C,Ve=_,vn.transition=m}else n.current=a;if(Bl&&(Bl=!1,Qr=n,Ul=d),m=n.pendingLanes,m===0&&(Kr=null),Ha(a.stateNode),Yt(n,We()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(zl)throw zl=!1,n=dh,dh=null,n;return Ul&1&&n.tag!==0&&Wo(),m=n.pendingLanes,m&1?n===fh?sa++:(sa=0,fh=n):sa=0,qr(),null}function Wo(){if(Qr!==null){var n=Mr(Ul),i=vn.transition,a=Ve;try{if(vn.transition=null,Ve=16>n?16:n,Qr===null)var c=!1;else{if(n=Qr,Qr=null,Ul=0,je&6)throw Error(t(331));var d=je;for(je|=4,ue=n.current;ue!==null;){var m=ue,_=m.child;if(ue.flags&16){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var q=C[P];for(ue=q;ue!==null;){var X=ue;switch(X.tag){case 0:case 11:case 15:ra(8,X,m)}var J=X.child;if(J!==null)J.return=X,ue=J;else for(;ue!==null;){X=ue;var Y=X.sibling,se=X.return;if(Gp(X),X===q){ue=null;break}if(Y!==null){Y.return=se,ue=Y;break}ue=se}}}var he=m.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var at=de.sibling;de.sibling=null,de=at}while(de!==null)}}ue=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ue=_;else e:for(;ue!==null;){if(m=ue,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ra(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,ue=B;break e}ue=m.return}}var M=n.current;for(ue=M;ue!==null;){_=ue;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,ue=U;else e:for(_=M;ue!==null;){if(C=ue,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Ol(9,C)}}catch(fe){it(C,C.return,fe)}if(C===_){ue=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,ue=te;break e}ue=C.return}}if(je=d,qr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Si,n)}catch{}c=!0}return c}finally{Ve=a,vn.transition=i}}return!1}function um(n,i,a){i=Uo(a,i),i=Ap(n,i,1),n=Wr(n,i,1),i=$t(),n!==null&&(Vr(n,1,i),Yt(n,i))}function it(n,i,a){if(n.tag===3)um(n,n,a);else for(;i!==null;){if(i.tag===3){um(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){n=Uo(a,n),n=Rp(i,n,1),i=Wr(i,n,1),n=$t(),i!==null&&(Vr(i,1,n),Yt(i,n));break}}i=i.return}}function l0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=$t(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(kt&a)===a&&(yt===4||yt===3&&(kt&130023424)===kt&&500>We()-hh?zi(n,0):ch|=a),Yt(n,i)}function cm(n,i){i===0&&(n.mode&1?(i=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):i=1);var a=$t();n=gr(n,i),n!==null&&(Vr(n,i,a),Yt(n,a))}function u0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),cm(n,a)}function c0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),cm(n,a)}var hm;hm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Wt.current)Kt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Kt=!1,X_(n,i,a);Kt=!!(n.flags&131072)}else Kt=!1,Je&&i.flags&1048576&&qf(i,wl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ll(n,i),n=i.pendingProps;var d=Vo(i,Dt.current);zo(i,a),d=Uc(null,i,c,n,d,a);var m=$c();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(c)?(m=!0,yl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Lc(i),d.updater=Dl,i.stateNode=d,d._reactInternals=i,Qc(i,c,n,a),i=Zc(null,i,c,!0,m,a)):(i.tag=0,Je&&m&&Cc(i),Ut(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ll(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=d0(c),n=Dn(c,n),d){case 0:i=Jc(null,i,c,n,a);break e;case 1:i=Op(null,i,c,n,a);break e;case 11:i=Np(null,i,c,n,a);break e;case 14:i=Dp(null,i,c,Dn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Jc(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Op(n,i,c,d,a);case 3:e:{if(Fp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Zf(n,i),xl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=Uo(Error(t(423)),i),i=jp(n,i,c,a,d);break e}else if(c!==d){d=Uo(Error(t(424)),i),i=jp(n,i,c,a,d);break e}else for(sn=Br(i.stateNode.containerInfo.firstChild),on=i,Je=!0,Nn=null,a=Xf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oo(),c===d){i=vr(n,i,a);break e}Ut(n,i,c,a)}i=i.child}return i;case 5:return np(i),n===null&&Rc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,_c(c,d)?_=null:m!==null&&_c(c,m)&&(i.flags|=32),Mp(n,i),Ut(n,i,_,a),i.child;case 6:return n===null&&Rc(i),null;case 13:return zp(n,i,a);case 4:return Mc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Fo(i,null,c,a):Ut(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Np(n,i,c,d,a);case 7:return Ut(n,i,i.pendingProps,a),i.child;case 8:return Ut(n,i,i.pendingProps.children,a),i.child;case 12:return Ut(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,Ge(Il,c._currentValue),c._currentValue=_,m!==null)if(bn(m.value,_)){if(m.children===d.children&&!Wt.current){i=vr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=yr(-1,a&-a),P.tag=2;var q=m.updateQueue;if(q!==null){q=q.shared;var X=q.pending;X===null?P.next=P:(P.next=X.next,X.next=P),q.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Dc(m.return,a,i),C.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Dc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Ut(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,zo(i,a),d=gn(d),c=c(d),i.flags|=1,Ut(n,i,c,a),i.child;case 14:return c=i.type,d=Dn(c,i.pendingProps),d=Dn(c.type,d),Dp(n,i,c,d,a);case 15:return Vp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Dn(c,d),Ll(n,i),i.tag=1,Gt(c)?(n=!0,yl(i)):n=!1,zo(i,a),Cp(i,c,d),Qc(i,c,d,a),Zc(null,i,c,!0,n,a);case 19:return Up(n,i,a);case 22:return Lp(n,i,a)}throw Error(t(156,i.tag))};function dm(n,i){return fo(n,i)}function h0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,c){return new h0(n,i,a,c)}function _h(n){return n=n.prototype,!(!n||!n.isReactComponent)}function d0(n){if(typeof n=="function")return _h(n)?1:0;if(n!=null){if(n=n.$$typeof,n===N)return 11;if(n===Ze)return 14}return 2}function Jr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Wl(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")_h(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case D:return Ui(a.children,d,m,i);case S:_=8,d|=8;break;case x:return n=_n(12,a,i,d|2),n.elementType=x,n.lanes=m,n;case R:return n=_n(13,a,i,d),n.elementType=R,n.lanes=m,n;case Ce:return n=_n(19,a,i,d),n.elementType=Ce,n.lanes=m,n;case Ne:return Gl(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:_=10;break e;case V:_=9;break e;case N:_=11;break e;case Ze:_=14;break e;case qe:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Ui(n,i,a,c){return n=_n(7,n,c,i),n.lanes=a,n}function Gl(n,i,a,c){return n=_n(22,n,c,i),n.elementType=Ne,n.lanes=a,n.stateNode={isHidden:!1},n}function wh(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Eh(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function f0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dr(0),this.expirationTimes=Dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Th(n,i,a,c,d,m,_,C,P){return n=new f0(n,i,a,C,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=_n(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(m),n}function p0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function fm(n){if(!n)return $r;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return Bf(n,a,i)}return i}function pm(n,i,a,c,d,m,_,C,P){return n=Th(a,c,!0,n,d,m,_,C,P),n.context=fm(null),a=n.current,c=$t(),d=Yr(a),m=yr(c,d),m.callback=i??null,Wr(a,m,d),n.current.lanes=d,Vr(n,d,c),Yt(n,c),n}function Kl(n,i,a,c){var d=i.current,m=$t(),_=Yr(d);return a=fm(a),i.context===null?i.context=a:i.pendingContext=a,i=yr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Wr(d,i,_),n!==null&&(Mn(n,d,_,m),Cl(n,d,_)),_}function Ql(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Ih(n,i){mm(n,i),(n=n.alternate)&&mm(n,i)}function m0(){return null}var gm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sh(n){this._internalRoot=n}Yl.prototype.render=Sh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Kl(n,i,null,null)},Yl.prototype.unmount=Sh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ji(function(){Kl(null,n,null,null)}),i[dr]=null}};function Yl(n){this._internalRoot=n}Yl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ya();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Bn.length&&i!==0&&i<Bn[a].priority;a++);Bn.splice(a,0,n),a===0&&Za(n)}};function Ch(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ym(){}function g0(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var q=Ql(_);m.call(q)}}var _=pm(i,c,n,0,null,!1,!1,"",ym);return n._reactRootContainer=_,n[dr]=_.current,qs(n.nodeType===8?n.parentNode:n),ji(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var q=Ql(P);C.call(q)}}var P=Th(n,0,!1,null,null,!1,!1,"",ym);return n._reactRootContainer=P,n[dr]=P.current,qs(n.nodeType===8?n.parentNode:n),ji(function(){Kl(i,P,a,c)}),P}function Jl(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var C=d;d=function(){var P=Ql(_);C.call(P)}}Kl(i,_,n,d)}else _=g0(a,i,n,d,c);return Ql(_)}Ka=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Nr(i.pendingLanes);a!==0&&(Lr(i,a|1),Yt(i,We()),!(je&6)&&(Ho=We()+500,qr()))}break;case 13:ji(function(){var c=gr(n,1);if(c!==null){var d=$t();Mn(c,n,1,d)}}),Ih(n,1)}},go=function(n){if(n.tag===13){var i=gr(n,134217728);if(i!==null){var a=$t();Mn(i,n,134217728,a)}Ih(n,134217728)}},Qa=function(n){if(n.tag===13){var i=Yr(n),a=gr(n,i);if(a!==null){var c=$t();Mn(a,n,i,c)}Ih(n,i)}},Ya=function(){return Ve},Xa=function(n,i){var a=Ve;try{return Ve=n,i()}finally{Ve=a}},so=function(n,i,a){switch(i){case"input":if(ms(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=ml(c);if(!d)throw Error(t(90));eo(c),ms(c,d)}}}break;case"textarea":io(n,a);break;case"select":i=a.value,i!=null&&ir(n,!!a.multiple,i,!1)}},_i=gh,Cs=ji;var y0={usingClientEntryPoint:!1,Events:[Gs,No,ml,jn,Ss,gh]},aa={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v0={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rs(n),n===null?null:n.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Si=Zl.inject(v0),en=Zl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0,Xt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(i))throw Error(t(200));return p0(n,i,null,a)},Xt.createRoot=function(n,i){if(!Ch(n))throw Error(t(299));var a=!1,c="",d=gm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Th(n,1,!1,null,null,a,!1,c,d),n[dr]=i.current,qs(n.nodeType===8?n.parentNode:n),new Sh(i)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Rs(i),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return ji(n)},Xt.hydrate=function(n,i,a){if(!Xl(i))throw Error(t(200));return Jl(null,n,i,!0,a)},Xt.hydrateRoot=function(n,i,a){if(!Ch(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=gm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=pm(i,null,n,1,a??null,d,!1,m,_),n[dr]=i.current,qs(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Yl(i)},Xt.render=function(n,i,a){if(!Xl(i))throw Error(t(200));return Jl(null,n,i,!1,a)},Xt.unmountComponentAtNode=function(n){if(!Xl(n))throw Error(t(40));return n._reactRootContainer?(ji(function(){Jl(null,null,n,!1,function(){n._reactRootContainer=null,n[dr]=null})}),!0):!1},Xt.unstable_batchedUpdates=gh,Xt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Xl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Jl(n,i,a,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Cm;function A0(){if(Cm)return Rh.exports;Cm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rh.exports=x0(),Rh.exports}var xm;function R0(){if(xm)return eu;xm=1;var r=A0();return eu.createRoot=r.createRoot,eu.hydrateRoot=r.hydrateRoot,eu}var k0=R0();const P0=Kg(k0);var ua={},Am;function b0(){if(Am)return ua;Am=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.parse=h,ua.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,k){const O=new l,L=I.length;if(L<2)return O;const b=(k==null?void 0:k.decode)||w;let H=0;do{const G=I.indexOf("=",H);if(G===-1)break;const ne=I.indexOf(";",H),le=ne===-1?L:ne;if(G>le){H=I.lastIndexOf(";",G-1)+1;continue}const Se=f(I,H,G),we=g(I,G,Se),D=I.slice(Se,we);if(O[D]===void 0){let S=f(I,G+1,le),x=g(I,le,S);const A=b(I.slice(S,x));O[D]=A}H=le+1}while(H<L);return O}function f(I,k,O){do{const L=I.charCodeAt(k);if(L!==32&&L!==9)return k}while(++k<O);return O}function g(I,k,O){for(;k>O;){const L=I.charCodeAt(--k);if(L!==32&&L!==9)return k+1}return O}function y(I,k,O){const L=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const b=L(k);if(!e.test(b))throw new TypeError(`argument val is invalid: ${k}`);let H=I+"="+b;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!o.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return s.call(I)==="[object Date]"}return ua}b0();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rm="popstate";function N0(r={}){function e(o,s){let{pathname:l,search:h,hash:f}=o.location;return Gh("",{pathname:l,search:h,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(o,s){return typeof s=="string"?s:Ea(s)}return V0(e,t,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D0(){return Math.random().toString(36).substring(2,10)}function km(r,e){return{usr:r.state,key:r.key,idx:e}}function Gh(r,e,t=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ss(e):e,state:t,key:e&&e.key||o||D0()}}function Ea({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ss(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let o=r.indexOf("?");o>=0&&(e.search=r.substring(o),r=r.substring(0,o)),r&&(e.pathname=r)}return e}function V0(r,e,t,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,h=s.history,f="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let b=w(),H=b==null?null:b-y;y=b,g&&g({action:f,location:L.location,delta:H})}function I(b,H){f="PUSH";let G=Gh(L.location,b,H);y=w()+1;let ne=km(G,y),le=L.createHref(G);try{h.pushState(ne,"",le)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;s.location.assign(le)}l&&g&&g({action:f,location:L.location,delta:1})}function k(b,H){f="REPLACE";let G=Gh(L.location,b,H);y=w();let ne=km(G,y),le=L.createHref(G);h.replaceState(ne,"",le),l&&g&&g({action:f,location:L.location,delta:0})}function O(b){let H=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof b=="string"?b:Ea(b);return G=G.replace(/ $/,"%20"),nt(H,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,H)}let L={get action(){return f},get location(){return r(s,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Rm,T),g=b,()=>{s.removeEventListener(Rm,T),g=null}},createHref(b){return e(s,b)},createURL:O,encodeLocation(b){let H=O(b);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:k,go(b){return h.go(b)}};return L}function Qg(r,e,t="/"){return L0(r,e,t,!1)}function L0(r,e,t,o){let s=typeof e=="string"?ss(e):e,l=si(s.pathname||"/",t);if(l==null)return null;let h=Yg(r);M0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=G0(l);f=H0(h[g],y,o)}return f}function Yg(r,e=[],t=[],o=""){let s=(l,h,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(nt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let y=Er([o,g.relativePath]),w=t.concat(g);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Yg(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:$0(y,l.index),routesMeta:w})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,h);else for(let g of Xg(l.path))s(l,h,g)}),e}function Xg(r){let e=r.split("/");if(e.length===0)return[];let[t,...o]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let h=Xg(o.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),s&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function M0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:q0(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}var O0=/^:[\w-]+$/,F0=3,j0=2,z0=1,B0=10,U0=-2,Pm=r=>r==="*";function $0(r,e){let t=r.split("/"),o=t.length;return t.some(Pm)&&(o+=U0),e&&(o+=j0),t.filter(s=>!Pm(s)).reduce((s,l)=>s+(O0.test(l)?F0:l===""?z0:B0),o)}function q0(r,e){return r.length===e.length&&r.slice(0,-1).every((o,s)=>o===e[s])?r[r.length-1]-e[e.length-1]:0}function H0(r,e,t=!1){let{routesMeta:o}=r,s={},l="/",h=[];for(let f=0;f<o.length;++f){let g=o[f],y=f===o.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=mu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),I=g.route;if(!T&&y&&t&&!o[o.length-1].route.index&&(T=mu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(s,T.params),h.push({params:s,pathname:Er([l,T.pathname]),pathnameBase:X0(Er([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=Er([l,T.pathnameBase]))}return h}function mu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,o]=W0(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let l=s[0],h=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((y,{paramName:w,isOptional:T},I)=>{if(w==="*"){let O=f[I]||"";h=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const k=f[I];return T&&!k?y[w]=void 0:y[w]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function W0(r,e=!1,t=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(o.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function G0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=r.charAt(t);return o&&o!=="/"?null:r.slice(t)||"/"}function K0(r,e="/"){let{pathname:t,search:o="",hash:s=""}=typeof r=="string"?ss(r):r;return{pathname:t?t.startsWith("/")?t:Q0(t,e):e,search:J0(o),hash:Z0(s)}}function Q0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function bh(r,e,t,o){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(r){let e=Y0(r);return e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase)}function Zg(r,e,t,o=!1){let s;typeof r=="string"?s=ss(r):(s={...r},nt(!s.pathname||!s.pathname.includes("?"),bh("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),bh("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),bh("#","search","hash",s)));let l=r===""||s.pathname==="",h=l?"/":s.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!o&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;s.pathname=I.join("/")}f=T>=0?e[T]:"/"}let g=K0(s,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Er=r=>r.join("/").replace(/\/\/+/g,"/"),X0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),J0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Z0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ew(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ey=["POST","PUT","PATCH","DELETE"];new Set(ey);var tw=["GET",...ey];new Set(tw);var as=z.createContext(null);as.displayName="DataRouter";var Nu=z.createContext(null);Nu.displayName="DataRouterState";var ty=z.createContext({isTransitioning:!1});ty.displayName="ViewTransition";var nw=z.createContext(new Map);nw.displayName="Fetchers";var rw=z.createContext(null);rw.displayName="Await";var tr=z.createContext(null);tr.displayName="Navigation";var Na=z.createContext(null);Na.displayName="Location";var Rr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Ed=z.createContext(null);Ed.displayName="RouteError";function iw(r,{relative:e}={}){nt(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:o}=z.useContext(tr),{hash:s,pathname:l,search:h}=Va(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Er([t,l])),o.createHref({pathname:f,search:h,hash:s})}function Da(){return z.useContext(Na)!=null}function Yi(){return nt(Da(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Na).location}var ny="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ry(r){z.useContext(tr).static||z.useLayoutEffect(r)}function ow(){let{isDataRoute:r}=z.useContext(Rr);return r?vw():sw()}function sw(){nt(Da(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(as),{basename:e,navigator:t}=z.useContext(tr),{matches:o}=z.useContext(Rr),{pathname:s}=Yi(),l=JSON.stringify(Jg(o)),h=z.useRef(!1);return ry(()=>{h.current=!0}),z.useCallback((g,y={})=>{if(Jn(h.current,ny),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=Zg(g,JSON.parse(l),s,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Er([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,s,r])}z.createContext(null);function Va(r,{relative:e}={}){let{matches:t}=z.useContext(Rr),{pathname:o}=Yi(),s=JSON.stringify(Jg(t));return z.useMemo(()=>Zg(r,JSON.parse(s),o,e==="path"),[r,s,o,e])}function aw(r,e){return iy(r,e)}function iy(r,e,t,o){var H;nt(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(tr),{matches:l}=z.useContext(Rr),h=l[l.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let G=w&&w.path||"";oy(g,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Yi(),I;if(e){let G=typeof e=="string"?ss(e):e;nt(y==="/"||((H=G.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),I=G}else I=T;let k=I.pathname||"/",O=k;if(y!=="/"){let G=y.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=Qg(r,{pathname:O});Jn(w||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Jn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=dw(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Er([y,s.encodeLocation?s.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Er([y,s.encodeLocation?s.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,o);return e&&b?z.createElement(Na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},b):b}function lw(){let r=yw(),e=ew(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,h)}var uw=z.createElement(lw,null),cw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Rr.Provider,{value:this.props.routeContext},z.createElement(Ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hw({routeContext:r,match:e,children:t}){let o=z.useContext(as);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Rr.Provider,{value:r},t)}function dw(r,e=[],t=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,l=t==null?void 0:t.errors;if(l!=null){let g=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:w,errors:T}=t,I=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){h=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((g,y,w)=>{let T,I=!1,k=null,O=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||uw,h&&(f<0&&w===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):f===w&&(I=!0,O=y.route.hydrateFallbackElement||null)));let L=e.concat(s.slice(0,w+1)),b=()=>{let H;return T?H=k:I?H=O:y.route.Component?H=z.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,z.createElement(hw,{match:y,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?z.createElement(cw,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:b(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):b()},null)}function Td(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(r){let e=z.useContext(as);return nt(e,Td(r)),e}function pw(r){let e=z.useContext(Nu);return nt(e,Td(r)),e}function mw(r){let e=z.useContext(Rr);return nt(e,Td(r)),e}function Id(r){let e=mw(r),t=e.matches[e.matches.length-1];return nt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function gw(){return Id("useRouteId")}function yw(){var o;let r=z.useContext(Ed),e=pw("useRouteError"),t=Id("useRouteError");return r!==void 0?r:(o=e.errors)==null?void 0:o[t]}function vw(){let{router:r}=fw("useNavigate"),e=Id("useNavigate"),t=z.useRef(!1);return ry(()=>{t.current=!0}),z.useCallback(async(s,l={})=>{Jn(t.current,ny),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...l}))},[r,e])}var bm={};function oy(r,e,t){!e&&!bm[r]&&(bm[r]=!0,Jn(!1,t))}z.memo(_w);function _w({routes:r,future:e,state:t}){return iy(r,void 0,t,e)}function Kh(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ww({basename:r="/",children:e=null,location:t,navigationType:o="POP",navigator:s,static:l=!1}){nt(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:h,navigator:s,static:l,future:{}}),[h,s,l]);typeof t=="string"&&(t=ss(t));let{pathname:g="/",search:y="",hash:w="",state:T=null,key:I="default"}=t,k=z.useMemo(()=>{let O=si(g,h);return O==null?null:{location:{pathname:O,search:y,hash:w,state:T,key:I},navigationType:o}},[h,g,y,w,T,I,o]);return Jn(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(tr.Provider,{value:f},z.createElement(Na.Provider,{children:e,value:k}))}function Ew({children:r,location:e}){return aw(Qh(r),e)}function Qh(r,e=[]){let t=[];return z.Children.forEach(r,(o,s)=>{if(!z.isValidElement(o))return;let l=[...e,s];if(o.type===z.Fragment){t.push.apply(t,Qh(o.props.children,l));return}nt(o.type===Kh,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Qh(o.props.children,l)),t.push(h)}),t}var lu="get",uu="application/x-www-form-urlencoded";function Du(r){return r!=null&&typeof r.tagName=="string"}function Tw(r){return Du(r)&&r.tagName.toLowerCase()==="button"}function Iw(r){return Du(r)&&r.tagName.toLowerCase()==="form"}function Sw(r){return Du(r)&&r.tagName.toLowerCase()==="input"}function Cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xw(r,e){return r.button===0&&(!e||e==="_self")&&!Cw(r)}var tu=null;function Aw(){if(tu===null)try{new FormData(document.createElement("form"),0),tu=!1}catch{tu=!0}return tu}var Rw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nh(r){return r!=null&&!Rw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):r}function kw(r,e){let t,o,s,l,h;if(Iw(r)){let f=r.getAttribute("action");o=f?si(f,e):null,t=r.getAttribute("method")||lu,s=Nh(r.getAttribute("enctype"))||uu,l=new FormData(r)}else if(Tw(r)||Sw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(o=g?si(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||lu,s=Nh(r.getAttribute("formenctype"))||Nh(f.getAttribute("enctype"))||uu,l=new FormData(f,r),!Aw()){let{name:y,type:w,value:T}=r;if(w==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,T)}}else{if(Du(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lu,o=null,s=uu,h=r}return l&&s==="text/plain"&&(h=l,l=void 0),{action:o,method:t.toLowerCase(),encType:s,formData:l,body:h}}function Sd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Pw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Nw(r,e,t){let o=await Promise.all(r.map(async s=>{let l=e.routes[s.route.id];if(l){let h=await Pw(l,t);return h.links?h.links():[]}return[]}));return Mw(o.flat(1).filter(bw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nm(r,e,t,o,s,l){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):l==="data"?e.filter((g,y)=>{var T;let w=o.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function Dw(r,e){return Vw(r.map(t=>{let o=e.routes[t.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function Vw(r){return[...new Set(r)]}function Lw(r){let e={},t=Object.keys(r).sort();for(let o of t)e[o]=r[o];return e}function Mw(r,e){let t=new Set;return new Set(e),r.reduce((o,s)=>{let l=JSON.stringify(Lw(s));return t.has(l)||(t.add(l),o.push({key:l,link:s})),o},[])}function Ow(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Fw(){let r=z.useContext(as);return Sd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jw(){let r=z.useContext(Nu);return Sd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cd=z.createContext(void 0);Cd.displayName="FrameworkContext";function sy(){let r=z.useContext(Cd);return Sd(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,e){let t=z.useContext(Cd),[o,s]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,I=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let L=H=>{H.forEach(G=>{h(G.isIntersecting)})},b=new IntersectionObserver(L,{threshold:.5});return I.current&&b.observe(I.current),()=>{b.disconnect()}}},[r]),z.useEffect(()=>{if(o){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[o]);let k=()=>{s(!0)},O=()=>{s(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:ca(f,k),onBlur:ca(g,O),onMouseEnter:ca(y,k),onMouseLeave:ca(w,O),onTouchStart:ca(T,k)}]:[!1,I,{}]}function ca(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Bw({page:r,...e}){let{router:t}=Fw(),o=z.useMemo(()=>Qg(t.routes,r,t.basename),[t.routes,r,t.basename]);return o?z.createElement($w,{page:r,matches:o,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Uw(r){let{manifest:e,routeModules:t}=sy(),[o,s]=z.useState([]);return z.useEffect(()=>{let l=!1;return Nw(r,e,t).then(h=>{l||s(h)}),()=>{l=!0}},[r,e,t]),o}function $w({page:r,matches:e,...t}){let o=Yi(),{manifest:s,routeModules:l}=sy(),{loaderData:h,matches:f}=jw(),g=z.useMemo(()=>Nm(r,e,f,s,o,"data"),[r,e,f,s,o]),y=z.useMemo(()=>Nm(r,e,f,s,o,"assets"),[r,e,f,s,o]),w=z.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let k=new Set,O=!1;if(e.forEach(b=>{var G;let H=s.routes[b.route.id];!H||!H.hasLoader||(!g.some(ne=>ne.route.id===b.route.id)&&b.route.id in h&&((G=l[b.route.id])!=null&&G.shouldRevalidate)||H.hasClientLoader?O=!0:k.add(b.route.id))}),k.size===0)return[];let L=Ow(r);return O&&k.size>0&&L.searchParams.set("_routes",e.filter(b=>k.has(b.route.id)).map(b=>b.route.id).join(",")),[L.pathname+L.search]},[h,o,s,g,e,r,l]),T=z.useMemo(()=>Dw(y,s),[y,s]),I=Uw(y);return z.createElement(z.Fragment,null,w.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),I.map(({key:k,link:O})=>z.createElement("link",{key:k,...O})))}function qw(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ay&&(window.__reactRouterVersion="7.0.2")}catch{}function Hw({basename:r,children:e,window:t}){let o=z.useRef();o.current==null&&(o.current=N0({window:t,v5Compat:!0}));let s=o.current,[l,h]=z.useState({action:s.action,location:s.location}),f=z.useCallback(g=>{z.startTransition(()=>h(g))},[h]);return z.useLayoutEffect(()=>s.listen(f),[s,f]),z.createElement(ww,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:s})}var ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=z.forwardRef(function({onClick:e,discover:t="render",prefetch:o="none",relative:s,reloadDocument:l,replace:h,state:f,target:g,to:y,preventScrollReset:w,viewTransition:T,...I},k){let{basename:O}=z.useContext(tr),L=typeof y=="string"&&ly.test(y),b,H=!1;if(typeof y=="string"&&L&&(b=y,ay))try{let x=new URL(window.location.href),A=y.startsWith("//")?new URL(x.protocol+y):new URL(y),V=si(A.pathname,O);A.origin===x.origin&&V!=null?y=V+A.search+A.hash:H=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=iw(y,{relative:s}),[ne,le,Se]=zw(o,I),we=Qw(y,{replace:h,state:f,target:g,preventScrollReset:w,relative:s,viewTransition:T});function D(x){e&&e(x),x.defaultPrevented||we(x)}let S=z.createElement("a",{...I,...Se,href:b||G,onClick:H||l?e:D,ref:qw(k,le),target:g,"data-discover":!L&&t==="render"?"true":void 0});return ne&&!L?z.createElement(z.Fragment,null,S,z.createElement(Bw,{page:G})):S});uy.displayName="Link";var Ww=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:o="",end:s=!1,style:l,to:h,viewTransition:f,children:g,...y},w){let T=Va(h,{relative:y.relative}),I=Yi(),k=z.useContext(Nu),{navigator:O,basename:L}=z.useContext(tr),b=k!=null&&eE(T)&&f===!0,H=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,G=I.pathname,ne=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(G=G.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&L&&(ne=si(ne,L)||ne);const le=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Se=G===H||!s&&G.startsWith(H)&&G.charAt(le)==="/",we=ne!=null&&(ne===H||!s&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),D={isActive:Se,isPending:we,isTransitioning:b},S=Se?e:void 0,x;typeof o=="function"?x=o(D):x=[o,Se?"active":null,we?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(D):l;return z.createElement(uy,{...y,"aria-current":S,className:x,ref:w,style:A,to:h,viewTransition:f},typeof g=="function"?g(D):g)});Ww.displayName="NavLink";var Gw=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:o,replace:s,state:l,method:h=lu,action:f,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:T,...I},k)=>{let O=Jw(),L=Zw(f,{relative:y}),b=h.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&ly.test(f),G=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let le=ne.nativeEvent.submitter,Se=(le==null?void 0:le.getAttribute("formmethod"))||h;O(le||ne.currentTarget,{fetcherKey:e,method:Se,navigate:t,replace:s,state:l,relative:y,preventScrollReset:w,viewTransition:T})};return z.createElement("form",{ref:k,method:b,action:L,onSubmit:o?g:G,...I,"data-discover":!H&&r==="render"?"true":void 0})});Gw.displayName="Form";function Kw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cy(r){let e=z.useContext(as);return nt(e,Kw(r)),e}function Qw(r,{target:e,replace:t,state:o,preventScrollReset:s,relative:l,viewTransition:h}={}){let f=ow(),g=Yi(),y=Va(r,{relative:l});return z.useCallback(w=>{if(xw(w,e)){w.preventDefault();let T=t!==void 0?t:Ea(g)===Ea(y);f(r,{replace:T,state:o,preventScrollReset:s,relative:l,viewTransition:h})}},[g,f,y,t,o,e,r,s,l,h])}var Yw=0,Xw=()=>`__${String(++Yw)}__`;function Jw(){let{router:r}=cy("useSubmit"),{basename:e}=z.useContext(tr),t=gw();return z.useCallback(async(o,s={})=>{let{action:l,method:h,encType:f,formData:g,body:y}=kw(o,e);if(s.navigate===!1){let w=s.fetcherKey||Xw();await r.fetch(w,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||f,flushSync:s.flushSync})}else await r.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function Zw(r,{relative:e}={}){let{basename:t}=z.useContext(tr),o=z.useContext(Rr);nt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...Va(r||".",{relative:e})},h=Yi();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Er([t,l.pathname])),Ea(l)}function eE(r,e={}){let t=z.useContext(ty);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=cy("useViewTransitionState"),s=Va(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=si(t.currentLocation.pathname,o)||t.currentLocation.pathname,h=si(t.nextLocation.pathname,o)||t.nextLocation.pathname;return mu(s.pathname,h)!=null||mu(s.pathname,l)!=null}new TextEncoder;function tE(r,e){typeof r=="function"?r(e):r!=null&&(r.current=e)}function nE(...r){return e=>r.forEach(t=>tE(t,e))}var hy=z.forwardRef((r,e)=>{const{children:t,...o}=r,s=z.Children.toArray(t),l=s.find(iE);if(l){const h=l.props.children,f=s.map(g=>g===l?z.Children.count(h)>1?z.Children.only(null):z.isValidElement(h)?h.props.children:null:g);return $.jsx(Yh,{...o,ref:e,children:z.isValidElement(h)?z.cloneElement(h,void 0,f):null})}return $.jsx(Yh,{...o,ref:e,children:t})});hy.displayName="Slot";var Yh=z.forwardRef((r,e)=>{const{children:t,...o}=r;if(z.isValidElement(t)){const s=sE(t);return z.cloneElement(t,{...oE(o,t.props),ref:e?nE(e,s):s})}return z.Children.count(t)>1?z.Children.only(null):null});Yh.displayName="SlotClone";var rE=({children:r})=>$.jsx($.Fragment,{children:r});function iE(r){return z.isValidElement(r)&&r.type===rE}function oE(r,e){const t={...e};for(const o in e){const s=r[o],l=e[o];/^on[A-Z]/.test(o)?s&&l?t[o]=(...f)=>{l(...f),s(...f)}:s&&(t[o]=s):o==="style"?t[o]={...s,...l}:o==="className"&&(t[o]=[s,l].filter(Boolean).join(" "))}return{...r,...t}}function sE(r){var o,s;let e=(o=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function dy(r){var e,t,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=dy(r[e]))&&(o&&(o+=" "),o+=t)}else for(t in r)r[t]&&(o&&(o+=" "),o+=t);return o}function fy(){for(var r,e,t=0,o="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=dy(r))&&(o&&(o+=" "),o+=e);return o}const Dm=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Vm=fy,aE=(r,e)=>t=>{var o;if((e==null?void 0:e.variants)==null)return Vm(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:l}=e,h=Object.keys(s).map(y=>{const w=t==null?void 0:t[y],T=l==null?void 0:l[y];if(w===null)return null;const I=Dm(w)||Dm(T);return s[y][I]}),f=t&&Object.entries(t).reduce((y,w)=>{let[T,I]=w;return I===void 0||(y[T]=I),y},{}),g=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((y,w)=>{let{class:T,className:I,...k}=w;return Object.entries(k).every(O=>{let[L,b]=O;return Array.isArray(b)?b.includes({...l,...f}[L]):{...l,...f}[L]===b})?[...y,T,I]:y},[]);return Vm(r,h,g,t==null?void 0:t.class,t==null?void 0:t.className)},xd="-",lE=r=>{const e=cE(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:h=>{const f=h.split(xd);return f[0]===""&&f.length!==1&&f.shift(),py(f,e)||uE(h)},getConflictingClassGroupIds:(h,f)=>{const g=t[h]||[];return f&&o[h]?[...g,...o[h]]:g}}},py=(r,e)=>{var h;if(r.length===0)return e.classGroupId;const t=r[0],o=e.nextPart.get(t),s=o?py(r.slice(1),o):void 0;if(s)return s;if(e.validators.length===0)return;const l=r.join(xd);return(h=e.validators.find(({validator:f})=>f(l)))==null?void 0:h.classGroupId},Lm=/^\[(.+)\]$/,uE=r=>{if(Lm.test(r)){const e=Lm.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},cE=r=>{const{theme:e,prefix:t}=r,o={nextPart:new Map,validators:[]};return dE(Object.entries(r.classGroups),t).forEach(([l,h])=>{Xh(h,o,l,e)}),o},Xh=(r,e,t,o)=>{r.forEach(s=>{if(typeof s=="string"){const l=s===""?e:Mm(e,s);l.classGroupId=t;return}if(typeof s=="function"){if(hE(s)){Xh(s(o),e,t,o);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([l,h])=>{Xh(h,Mm(e,l),t,o)})})},Mm=(r,e)=>{let t=r;return e.split(xd).forEach(o=>{t.nextPart.has(o)||t.nextPart.set(o,{nextPart:new Map,validators:[]}),t=t.nextPart.get(o)}),t},hE=r=>r.isThemeGetter,dE=(r,e)=>e?r.map(([t,o])=>{const s=o.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([h,f])=>[e+h,f])):l);return[t,s]}):r,fE=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,o=new Map;const s=(l,h)=>{t.set(l,h),e++,e>r&&(e=0,o=t,t=new Map)};return{get(l){let h=t.get(l);if(h!==void 0)return h;if((h=o.get(l))!==void 0)return s(l,h),h},set(l,h){t.has(l)?t.set(l,h):s(l,h)}}},my="!",pE=r=>{const{separator:e,experimentalParseClassName:t}=r,o=e.length===1,s=e[0],l=e.length,h=f=>{const g=[];let y=0,w=0,T;for(let b=0;b<f.length;b++){let H=f[b];if(y===0){if(H===s&&(o||f.slice(b,b+l)===e)){g.push(f.slice(w,b)),w=b+l;continue}if(H==="/"){T=b;continue}}H==="["?y++:H==="]"&&y--}const I=g.length===0?f:f.substring(w),k=I.startsWith(my),O=k?I.substring(1):I,L=T&&T>w?T-w:void 0;return{modifiers:g,hasImportantModifier:k,baseClassName:O,maybePostfixModifierPosition:L}};return t?f=>t({className:f,parseClassName:h}):h},mE=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(o=>{o[0]==="["?(e.push(...t.sort(),o),t=[]):t.push(o)}),e.push(...t.sort()),e},gE=r=>({cache:fE(r.cacheSize),parseClassName:pE(r),...lE(r)}),yE=/\s+/,vE=(r,e)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:s}=e,l=[],h=r.trim().split(yE);let f="";for(let g=h.length-1;g>=0;g-=1){const y=h[g],{modifiers:w,hasImportantModifier:T,baseClassName:I,maybePostfixModifierPosition:k}=t(y);let O=!!k,L=o(O?I.substring(0,k):I);if(!L){if(!O){f=y+(f.length>0?" "+f:f);continue}if(L=o(I),!L){f=y+(f.length>0?" "+f:f);continue}O=!1}const b=mE(w).join(":"),H=T?b+my:b,G=H+L;if(l.includes(G))continue;l.push(G);const ne=s(L,O);for(let le=0;le<ne.length;++le){const Se=ne[le];l.push(H+Se)}f=y+(f.length>0?" "+f:f)}return f};function _E(){let r=0,e,t,o="";for(;r<arguments.length;)(e=arguments[r++])&&(t=gy(e))&&(o&&(o+=" "),o+=t);return o}const gy=r=>{if(typeof r=="string")return r;let e,t="";for(let o=0;o<r.length;o++)r[o]&&(e=gy(r[o]))&&(t&&(t+=" "),t+=e);return t};function wE(r,...e){let t,o,s,l=h;function h(g){const y=e.reduce((w,T)=>T(w),r());return t=gE(y),o=t.cache.get,s=t.cache.set,l=f,f(g)}function f(g){const y=o(g);if(y)return y;const w=vE(g,t);return s(g,w),w}return function(){return l(_E.apply(null,arguments))}}const Ye=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},yy=/^\[(?:([a-z-]+):)?(.+)\]$/i,EE=/^\d+\/\d+$/,TE=new Set(["px","full","screen"]),IE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=r=>Xo(r)||TE.has(r)||EE.test(r),ei=r=>ls(r,"length",LE),Xo=r=>!!r&&!Number.isNaN(Number(r)),Dh=r=>ls(r,"number",Xo),ha=r=>!!r&&Number.isInteger(Number(r)),RE=r=>r.endsWith("%")&&Xo(r.slice(0,-1)),Pe=r=>yy.test(r),ti=r=>IE.test(r),kE=new Set(["length","size","percentage"]),PE=r=>ls(r,kE,vy),bE=r=>ls(r,"position",vy),NE=new Set(["image","url"]),DE=r=>ls(r,NE,OE),VE=r=>ls(r,"",ME),da=()=>!0,ls=(r,e,t)=>{const o=yy.exec(r);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):t(o[2]):!1},LE=r=>SE.test(r)&&!CE.test(r),vy=()=>!1,ME=r=>xE.test(r),OE=r=>AE.test(r),FE=()=>{const r=Ye("colors"),e=Ye("spacing"),t=Ye("blur"),o=Ye("brightness"),s=Ye("borderColor"),l=Ye("borderRadius"),h=Ye("borderSpacing"),f=Ye("borderWidth"),g=Ye("contrast"),y=Ye("grayscale"),w=Ye("hueRotate"),T=Ye("invert"),I=Ye("gap"),k=Ye("gradientColorStops"),O=Ye("gradientColorStopPositions"),L=Ye("inset"),b=Ye("margin"),H=Ye("opacity"),G=Ye("padding"),ne=Ye("saturate"),le=Ye("scale"),Se=Ye("sepia"),we=Ye("skew"),D=Ye("space"),S=Ye("translate"),x=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Pe,e],N=()=>[Pe,e],R=()=>["",wr,ei],Ce=()=>["auto",Xo,Pe],Ze=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],qe=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",Pe],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Xo,Pe];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[wr,ei],blur:["none","",ti,Pe],brightness:F(),borderColor:[r],borderRadius:["none","","full",ti,Pe],borderSpacing:N(),borderWidth:R(),contrast:F(),grayscale:ce(),hueRotate:F(),invert:ce(),gap:N(),gradientColorStops:[r],gradientColorStopPositions:[RE,ei],inset:V(),margin:V(),opacity:F(),padding:N(),saturate:F(),scale:F(),sepia:ce(),skew:F(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ti]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ze(),Pe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[L]}],"inset-x":[{"inset-x":[L]}],"inset-y":[{"inset-y":[L]}],start:[{start:[L]}],end:[{end:[L]}],top:[{top:[L]}],right:[{right:[L]}],bottom:[{bottom:[L]}],left:[{left:[L]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ha,Pe]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",ha,Pe]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ha,Pe]},Pe]}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ha,Pe]},Pe]}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[ti]},ti]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ti,ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dh]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Xo,Dh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[H]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,ei]}],"underline-offset":[{"underline-offset":["auto",wr,Pe]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[H]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ze(),bE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DE]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[H]}],"border-style":[{border:[...qe(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[H]}],"divide-style":[{divide:qe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...qe()]}],"outline-offset":[{"outline-offset":[wr,Pe]}],"outline-w":[{outline:[wr,ei]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[H]}],"ring-offset-w":[{"ring-offset":[wr,ei]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",ti,VE]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[H]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ti,Pe]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[T]}],saturate:[{saturate:[ne]}],sepia:[{sepia:[Se]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[H]}],"backdrop-saturate":[{"backdrop-saturate":[ne]}],"backdrop-sepia":[{"backdrop-sepia":[Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[le]}],"scale-x":[{"scale-x":[le]}],"scale-y":[{"scale-y":[le]}],rotate:[{rotate:[ha,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[we]}],"skew-y":[{"skew-y":[we]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[wr,ei,Dh]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jE=wE(FE);function zE(...r){return jE(fy(r))}const BE=aE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),wn=z.forwardRef(({className:r,variant:e,size:t,asChild:o=!1,...s},l)=>{const h=o?hy:"button";return $.jsx(h,{className:zE(BE({variant:e,size:t,className:r})),ref:l,...s})});wn.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_y=(...r)=>r.filter((e,t,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:h,...f},g)=>z.createElement("svg",{ref:g,...$E,width:e,height:e,stroke:r,strokeWidth:o?Number(t)*24/Number(e):t,className:_y("lucide",s),...f},[...h.map(([y,w])=>z.createElement(y,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=(r,e)=>{const t=z.forwardRef(({className:o,...s},l)=>z.createElement(qE,{ref:l,iconNode:e,className:_y(`lucide-${UE(r)}`,o),...s}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=us("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=us("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=us("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=us("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=us("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=us("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),KE="/bloom/assets/emptyfood-BMYpWg6-.png",QE="/bloom/assets/kibble-B-f-ww2_.png",YE="/bloom/assets/chicken-CXuBrWx4.png",XE="/bloom/assets/tuna-DNV88P3z.png",JE="/bloom/assets/feedgumi-mK0kKQ4U.png",ZE=({onComplete:r})=>{const[e,t]=z.useState(!1),[o,s]=z.useState(null),[l,h]=z.useState({x:0,y:0}),[f,g]=z.useState({Kibble:!1,Tuna:!1,Chicken:!1}),[y]=z.useState([{id:1,name:"Kibble",image:QE},{id:2,name:"Tuna",image:XE},{id:3,name:"Chicken",image:YE}]),w=z.useRef(null),T=()=>Object.values(f).every(L=>L===!0),I=(L,b)=>{L.preventDefault(),t(!0),s(b),console.log(`Dragged item position: x=${L.clientX}, y=${L.clientY}`)},k=L=>{e&&h({x:L.clientX,y:L.clientY})},O=L=>{if(!e)return;const H=w.current.getBoundingClientRect();L.clientX>=H.left&&L.clientX<=H.right&&L.clientY>=H.top&&L.clientY<=H.bottom&&(g(G=>{const ne={...G,[o.name]:!0};return Object.values(ne).every(le=>le===!0)&&setTimeout(r,2500),ne}),console.log(`Dropped item position: x=${L.clientX}, y=${L.clientY}`)),t(!1),s(null)};return z.useEffect(()=>(window.addEventListener("mousemove",k),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",O)}),[e]),$.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[$.jsx("img",{src:JE,alt:"Background",className:"absolute inset-0 w-full h-full object-cover"}),$.jsxs("div",{className:"relative h-[540px] w-full",children:[$.jsx("div",{className:"absolute left-8 top-1/2 -translate-y-1/2 bg-[#8C5751]/20 p-2 rounded-lg border-2 border-[#8C5751] border-dashed",children:y.map(L=>$.jsx("div",{className:`py-1 px-3 mb-1 last:mb-0 bg-[#E4D1B6] text-[#8C5751] rounded cursor-move font-['Cedarville_Cursive'] text-center
                ${e&&(o==null?void 0:o.id)===L.id?"opacity-50":""}
                ${f[L.name]?"opacity-50 cursor-default":""}`,onMouseDown:b=>!f[L.name]&&I(b,L),children:L.name},L.id))}),$.jsxs("div",{ref:w,id:"cat-bowl",className:"absolute left-[40%] top-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48",children:[$.jsx("img",{src:KE,alt:"Empty Food Bowl",className:"w-full h-full object-contain"}),Object.entries(f).map(([L,b],H)=>b&&$.jsx("img",{src:y.find(G=>G.name===L).image,alt:L,className:"w-48 h-48 object-contain absolute",style:{top:`${H}%`}},L))]}),e&&o&&$.jsx("div",{className:"fixed pointer-events-none bg-[#E4D1B6] text-[#8C5751] py-1 px-3 rounded font-['Cedarville_Cursive']",style:{left:l.x-50,top:l.y-20},children:o.name}),$.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2 w-full flex flex-col items-center justify-center",children:$.jsx("div",{className:"bg-[#E4D1B6]/80 p-3 rounded-xl border-2 border-[#8C5751] border-dashed mx-auto max-w-md w-full",children:$.jsx("p",{className:"text-md text-[#8C5751] whitespace-pre-line font-['Cedarville_Cursive']",children:T()?`Feed Gumi
Gumi looks full!`:`Feed Gumi
Gumi needs one scoop of each type of food`})})})]})]})},e1="/bloom/assets/medication-bg-BOQfFpKh.png",nu="/bloom/assets/pills-DLtXGeTn.png",jm="/bloom/assets/emptywater-BOtuwHbr.png",zm="/bloom/assets/fullwater-_JbpBy8s.png",t1=({onComplete:r})=>{const[e,t]=z.useState(!1),[o,s]=z.useState(null),[l,h]=z.useState({x:0,y:0}),[f,g]=z.useState(!1),[y,w]=z.useState(!1),[T,I]=z.useState(!1),k=(b,H)=>{b.preventDefault(),t(!0),s(H)},O=b=>{e&&h({x:b.clientX,y:b.clientY})},L=b=>{if(!e)return;const G=document.getElementById("target-area").getBoundingClientRect();b.clientX>=G.left&&b.clientX<=G.right&&b.clientY>=G.top&&b.clientY<=G.bottom&&(o==="pill"?g(!0):o==="water"&&w(!0),(o==="pill"&&y||o==="water"&&f)&&(I(!0),setTimeout(()=>{r()},2500))),t(!1),s(null)};return z.useEffect(()=>(window.addEventListener("mousemove",O),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",L)}),[e,f,y,T]),$.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundImage:`url(${e1})`,backgroundSize:"cover",backgroundPosition:"center"},children:$.jsxs("div",{className:"relative h-[540px] w-full",children:[$.jsx("div",{id:"target-area",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-32 flex items-center justify-center",children:T?$.jsxs("div",{className:"flex items-center justify-center gap-4",children:[$.jsx("img",{src:nu,alt:"Pill",className:"w-12 h-12 opacity-0"}),$.jsx("img",{src:jm,alt:"Water",className:"w-12 h-12 object-contain opacity-100"})]}):$.jsxs($.Fragment,{children:[f&&$.jsx("img",{src:nu,alt:"Pill",className:"w-12 h-12 transition-opacity duration-300",style:{opacity:f?0:1}}),y&&$.jsx("img",{src:jm,alt:"Water",className:"w-12 h-12 object-contain transition-opacity duration-300",style:{opacity:y?0:1}})]})}),$.jsxs("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 space-y-4",children:[!f&&$.jsx("div",{className:"bg-[#8C5751]/20 p-4 rounded-lg border-2 border-[#8C5751] border-dashed cursor-move flex items-center justify-center",onMouseDown:b=>k(b,"pill"),children:$.jsx("img",{src:nu,alt:"Pill",className:"w-12 h-12"})}),!y&&$.jsx("div",{className:"bg-[#8C5751]/20 p-4 rounded-lg border-2 border-[#8C5751] border-dashed cursor-move flex items-center justify-center",onMouseDown:b=>k(b,"water"),children:$.jsx("img",{src:zm,alt:"Water",className:"w-12 h-12 object-contain"})})]}),e&&o&&$.jsx("div",{className:"fixed pointer-events-none",style:{left:l.x-12,top:l.y-12},children:o==="pill"?$.jsx("img",{src:nu,alt:"Pill",className:"w-12 h-12"}):$.jsx("img",{src:zm,alt:"Water",className:"w-12 h-12 object-contain"})}),$.jsx("div",{className:"absolute bottom-4 left-0 right-0 p-4 space-y-2 w-full flex flex-col items-center justify-center",children:$.jsx("div",{className:"bg-[#E4D1B6]/80 p-3 rounded-xl border-2 border-[#8C5751] border-dashed mx-auto max-w-md w-full",children:$.jsx("p",{className:"text-md text-[#8C5751] whitespace-pre-line font-['Cedarville_Cursive']",children:T?`Take Medication
All done!`:`Take Medication
Drag the pill and water to take your medication.`})})})]})})};var Bm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=function(r){const e=[];let t=0;for(let o=0;o<r.length;o++){let s=r.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++o)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},n1=function(r){const e=[];let t=0,o=0;for(;t<r.length;){const s=r[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=r[t++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=r[t++],h=r[t++],f=r[t++],g=((s&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<r.length;s+=3){const l=r[s],h=s+1<r.length,f=h?r[s+1]:0,g=s+2<r.length,y=g?r[s+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,k=y&63;g||(k=64,h||(I=64)),o.push(t[w],t[T],t[I],t[k])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):n1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<r.length;){const l=t[r.charAt(s++)],f=s<r.length?t[r.charAt(s)]:0;++s;const y=s<r.length?t[r.charAt(s)]:64;++s;const T=s<r.length?t[r.charAt(s)]:64;if(++s,l==null||f==null||y==null||T==null)throw new r1;const I=l<<2|f>>4;if(o.push(I),y!==64){const k=f<<4&240|y>>2;if(o.push(k),T!==64){const O=y<<6&192|T;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(r){const e=wy(r);return Ey.encodeByteArray(e,!0)},gu=function(r){return i1(r).replace(/\./g,"")},o1=function(r){try{return Ey.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=()=>s1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof Bm>"u")return;const r=Bm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o1(r[1]);return e&&JSON.parse(e)},Ad=()=>{try{return a1()||l1()||u1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c1=r=>{var e,t;return(t=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},h1=r=>{const e=c1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},Ty=()=>{var r;return(r=Ad())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",s=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gu(JSON.stringify(t)),gu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){var r;const e=(r=Ad())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function y1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iy(){try{return typeof indexedDB=="object"}catch{return!1}}function Sy(){return new Promise((r,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function v1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="FirebaseError";class fi extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=_1,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],h=l?w1(l,o):"Error",f=`${this.serviceName}: ${h} (${s}).`;return new fi(s,f,o)}}function w1(r,e){return r.replace(E1,(t,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const E1=/\{\$([^}]+)}/g;function yu(r,e){if(r===e)return!0;const t=Object.keys(r),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const l=r[s],h=e[s];if(Um(l)&&Um(h)){if(!yu(l,h))return!1}else if(l!==h)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function Um(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1e3,I1=2,S1=4*60*60*1e3,C1=.5;function $m(r,e=T1,t=I1){const o=e*Math.pow(t,r),s=Math.round(C1*o*(Math.random()-.5)*2);return Math.min(S1,o+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r){return r&&r._delegate?r._delegate:r}class Sr{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new d1;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R1(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);o===f&&h.resolve(s)}return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A1(r){return r===$i?void 0:r}function R1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const P1={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},b1=Fe.INFO,N1={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},D1=(r,e,...t)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),s=N1[e];if(s)console[s](`[${o}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=b1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const V1=(r,e)=>e.some(t=>r instanceof t);let qm,Hm;function L1(){return qm||(qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M1(){return Hm||(Hm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,Jh=new WeakMap,xy=new WeakMap,Lh=new WeakMap,kd=new WeakMap;function O1(r){const e=new Promise((t,o)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ri(r.result)),s()},h=()=>{o(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Cy.set(t,r)}).catch(()=>{}),kd.set(e,r),e}function F1(r){if(Jh.has(r))return;const e=new Promise((t,o)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),s()},h=()=>{o(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Jh.set(r,e)}let Zh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Jh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ri(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j1(r){Zh=r(Zh)}function z1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=r.call(Mh(this),e,...t);return xy.set(o,e.sort?e.sort():[e]),ri(o)}:M1().includes(r)?function(...e){return r.apply(Mh(this),e),ri(Cy.get(this))}:function(...e){return ri(r.apply(Mh(this),e))}}function B1(r){return typeof r=="function"?z1(r):(r instanceof IDBTransaction&&F1(r),V1(r,L1())?new Proxy(r,Zh):r)}function ri(r){if(r instanceof IDBRequest)return O1(r);if(Lh.has(r))return Lh.get(r);const e=B1(r);return e!==r&&(Lh.set(r,e),kd.set(e,r)),e}const Mh=r=>kd.get(r);function Ay(r,e,{blocked:t,upgrade:o,blocking:s,terminated:l}={}){const h=indexedDB.open(r,e),f=ri(h);return o&&h.addEventListener("upgradeneeded",g=>{o(ri(h.result),g.oldVersion,g.newVersion,ri(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const U1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],Oh=new Map;function Wm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Oh.get(e))return Oh.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,s=$1.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(s||U1.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,s?"readwrite":"readonly");let y=g.store;return o&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),s&&g.done]))[0]};return Oh.set(e,l),l}j1(r=>({...r,get:(e,t,o)=>Wm(e,t)||r.get(e,t,o),has:(e,t)=>!!Wm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H1(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function H1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",Gm="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Rd("@firebase/app"),W1="@firebase/app-compat",G1="@firebase/analytics-compat",K1="@firebase/analytics",Q1="@firebase/app-check-compat",Y1="@firebase/app-check",X1="@firebase/auth",J1="@firebase/auth-compat",Z1="@firebase/database",eT="@firebase/data-connect",tT="@firebase/database-compat",nT="@firebase/functions",rT="@firebase/functions-compat",iT="@firebase/installations",oT="@firebase/installations-compat",sT="@firebase/messaging",aT="@firebase/messaging-compat",lT="@firebase/performance",uT="@firebase/performance-compat",cT="@firebase/remote-config",hT="@firebase/remote-config-compat",dT="@firebase/storage",fT="@firebase/storage-compat",pT="@firebase/firestore",mT="@firebase/vertexai",gT="@firebase/firestore-compat",yT="firebase",vT="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",_T={[ed]:"fire-core",[W1]:"fire-core-compat",[K1]:"fire-analytics",[G1]:"fire-analytics-compat",[Y1]:"fire-app-check",[Q1]:"fire-app-check-compat",[X1]:"fire-auth",[J1]:"fire-auth-compat",[Z1]:"fire-rtdb",[eT]:"fire-data-connect",[tT]:"fire-rtdb-compat",[nT]:"fire-fn",[rT]:"fire-fn-compat",[iT]:"fire-iid",[oT]:"fire-iid-compat",[sT]:"fire-fcm",[aT]:"fire-fcm-compat",[lT]:"fire-perf",[uT]:"fire-perf-compat",[cT]:"fire-rc",[hT]:"fire-rc-compat",[dT]:"fire-gcs",[fT]:"fire-gcs-compat",[pT]:"fire-fst",[gT]:"fire-fst-compat",[mT]:"fire-vertex","fire-js":"fire-js",[yT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,wT=new Map,nd=new Map;function Km(r,e){try{r.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ai(r){const e=r.name;if(nd.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,r);for(const t of vu.values())Km(t,r);for(const t of wT.values())Km(t,r);return!0}function La(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Vu("app","Firebase",ET);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=vT;function Ry(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const o=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw ii.create("bad-app-name",{appName:String(s)});if(t||(t=Ty()),!t)throw ii.create("no-options");const l=vu.get(s);if(l){if(yu(t,l.options)&&yu(o,l.config))return l;throw ii.create("duplicate-app",{appName:s})}const h=new k1(s);for(const g of nd.values())h.addComponent(g);const f=new TT(t,o,h);return vu.set(s,f),f}function ky(r=td){const e=vu.get(r);if(!e&&r===td&&Ty())return Ry();if(!e)throw ii.create("no-app",{appName:r});return e}function Qn(r,e,t){var o;let s=(o=_T[r])!==null&&o!==void 0?o:r;t&&(s+=`-${t}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}ai(new Sr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebase-heartbeat-database",CT=1,Ta="firebase-heartbeat-store";let Fh=null;function Py(){return Fh||(Fh=Ay(ST,CT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ta)}catch(t){console.warn(t)}}}}).catch(r=>{throw ii.create("idb-open",{originalErrorMessage:r.message})})),Fh}async function xT(r){try{const t=(await Py()).transaction(Ta),o=await t.objectStore(Ta).get(by(r));return await t.done,o}catch(e){if(e instanceof fi)Cr.warn(e.message);else{const t=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function Qm(r,e){try{const o=(await Py()).transaction(Ta,"readwrite");await o.objectStore(Ta).put(e,by(r)),await o.done}catch(t){if(t instanceof fi)Cr.warn(t.message);else{const o=ii.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(o.message)}}}function by(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=1024,RT=30*24*60*60*1e3;class kT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bT(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ym();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=RT}),this._storage.overwrite(this._heartbeatsCache))}catch(o){Cr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ym(),{heartbeatsToSend:o,unsentEntries:s}=PT(this._heartbeatsCache.heartbeats),l=gu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Cr.warn(t),""}}}function Ym(){return new Date().toISOString().substring(0,10)}function PT(r,e=AT){const t=[];let o=r.slice();for(const s of r){const l=t.find(h=>h.agent===s.agent);if(l){if(l.dates.push(s.date),Xm(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Xm(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class bT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iy()?Sy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xm(r){return gu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){ai(new Sr("platform-logger",e=>new q1(e),"PRIVATE")),ai(new Sr("heartbeat",e=>new kT(e),"PRIVATE")),Qn(ed,Gm,r),Qn(ed,Gm,"esm2017"),Qn("fire-js","")}NT("");var DT="firebase",VT="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(DT,VT,"app");const Ny="@firebase/installations",Pd="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=1e4,Vy=`w:${Pd}`,Ly="FIS_v2",LT="https://firebaseinstallations.googleapis.com/v1",MT=60*60*1e3,OT="installations",FT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new Vu(OT,FT,jT);function My(r){return r instanceof fi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy({projectId:r}){return`${LT}/projects/${r}/installations`}function Fy(r){return{token:r.token,requestStatus:2,expiresIn:BT(r.expiresIn),creationTime:Date.now()}}async function jy(r,e){const o=(await e.json()).error;return Gi.create("request-failed",{requestName:r,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function zy({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function zT(r,{refreshToken:e}){const t=zy(r);return t.append("Authorization",UT(e)),t}async function By(r){const e=await r();return e.status>=500&&e.status<600?r():e}function BT(r){return Number(r.replace("s","000"))}function UT(r){return`${Ly} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const o=Oy(r),s=zy(r),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const h={fid:t,authVersion:Ly,appId:r.appId,sdkVersion:Vy},f={method:"POST",headers:s,body:JSON.stringify(h)},g=await By(()=>fetch(o,f));if(g.ok){const y=await g.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Fy(y.authToken)}}else throw await jy("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=/^[cdef][\w-]{21}$/,rd="";function WT(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=GT(r);return HT.test(t)?t:rd}catch{return rd}}function GT(r){return qT(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;function qy(r,e){const t=Lu(r);Hy(t,e),KT(t,e)}function Hy(r,e){const t=$y.get(r);if(t)for(const o of t)o(e)}function KT(r,e){const t=QT();t&&t.postMessage({key:r,fid:e}),YT()}let qi=null;function QT(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=r=>{Hy(r.data.key,r.data.fid)}),qi}function YT(){$y.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-installations-database",JT=1,Ki="firebase-installations-store";let jh=null;function bd(){return jh||(jh=Ay(XT,JT,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ki)}}})),jh}async function _u(r,e){const t=Lu(r),s=(await bd()).transaction(Ki,"readwrite"),l=s.objectStore(Ki),h=await l.get(t);return await l.put(e,t),await s.done,(!h||h.fid!==e.fid)&&qy(r,e.fid),e}async function Wy(r){const e=Lu(r),o=(await bd()).transaction(Ki,"readwrite");await o.objectStore(Ki).delete(e),await o.done}async function Mu(r,e){const t=Lu(r),s=(await bd()).transaction(Ki,"readwrite"),l=s.objectStore(Ki),h=await l.get(t),f=e(h);return f===void 0?await l.delete(t):await l.put(f,t),await s.done,f&&(!h||h.fid!==f.fid)&&qy(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(r){let e;const t=await Mu(r.appConfig,o=>{const s=ZT(o),l=eI(r,s);return e=l.registrationPromise,l.installationEntry});return t.fid===rd?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function ZT(r){const e=r||{fid:WT(),registrationStatus:0};return Gy(e)}function eI(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=tI(r,t);return{installationEntry:t,registrationPromise:o}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nI(r)}:{installationEntry:e}}async function tI(r,e){try{const t=await $T(r,e);return _u(r.appConfig,t)}catch(t){throw My(t)&&t.customData.serverCode===409?await Wy(r.appConfig):await _u(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function nI(r){let e=await Jm(r.appConfig);for(;e.registrationStatus===1;)await Uy(100),e=await Jm(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:o}=await Nd(r);return o||t}return e}function Jm(r){return Mu(r,e=>{if(!e)throw Gi.create("installation-not-found");return Gy(e)})}function Gy(r){return rI(r)?{fid:r.fid,registrationStatus:0}:r}function rI(r){return r.registrationStatus===1&&r.registrationTime+Dy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI({appConfig:r,heartbeatServiceProvider:e},t){const o=oI(r,t),s=zT(r,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const h={installation:{sdkVersion:Vy,appId:r.appId}},f={method:"POST",headers:s,body:JSON.stringify(h)},g=await By(()=>fetch(o,f));if(g.ok){const y=await g.json();return Fy(y)}else throw await jy("Generate Auth Token",g)}function oI(r,{fid:e}){return`${Oy(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(r,e=!1){let t;const o=await Mu(r.appConfig,l=>{if(!Ky(l))throw Gi.create("not-registered");const h=l.authToken;if(!e&&lI(h))return l;if(h.requestStatus===1)return t=sI(r,e),l;{if(!navigator.onLine)throw Gi.create("app-offline");const f=cI(l);return t=aI(r,f),f}});return t?await t:o.authToken}async function sI(r,e){let t=await Zm(r.appConfig);for(;t.authToken.requestStatus===1;)await Uy(100),t=await Zm(r.appConfig);const o=t.authToken;return o.requestStatus===0?Dd(r,e):o}function Zm(r){return Mu(r,e=>{if(!Ky(e))throw Gi.create("not-registered");const t=e.authToken;return hI(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aI(r,e){try{const t=await iI(r,e),o=Object.assign(Object.assign({},e),{authToken:t});return await _u(r.appConfig,o),t}catch(t){if(My(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Wy(r.appConfig);else{const o=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _u(r.appConfig,o)}throw t}}function Ky(r){return r!==void 0&&r.registrationStatus===2}function lI(r){return r.requestStatus===2&&!uI(r)}function uI(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+MT}function cI(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function hI(r){return r.requestStatus===1&&r.requestTime+Dy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r){const e=r,{installationEntry:t,registrationPromise:o}=await Nd(e);return o?o.catch(console.error):Dd(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,e=!1){const t=r;return await pI(t),(await Dd(t,e)).token}async function pI(r){const{registrationPromise:e}=await Nd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r){if(!r||!r.options)throw zh("App Configuration");if(!r.name)throw zh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw zh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function zh(r){return Gi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="installations",gI="installations-internal",yI=r=>{const e=r.getProvider("app").getImmediate(),t=mI(e),o=La(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},vI=r=>{const e=r.getProvider("app").getImmediate(),t=La(e,Qy).getImmediate();return{getId:()=>dI(t),getToken:s=>fI(t,s)}};function _I(){ai(new Sr(Qy,yI,"PUBLIC")),ai(new Sr(gI,vI,"PRIVATE"))}_I();Qn(Ny,Pd);Qn(Ny,Pd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="analytics",wI="firebase_id",EI="origin",TI=60*1e3,II="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new Vu("analytics","Analytics",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){if(!r.startsWith(Vd)){const e=un.create("invalid-gtag-resource",{gtagURL:r});return Zt.warn(e.message),""}return r}function Yy(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function xI(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function AI(r,e){const t=xI("firebase-js-sdk-policy",{createScriptURL:CI}),o=document.createElement("script"),s=`${Vd}?l=${r}&id=${e}`;o.src=t?t==null?void 0:t.createScriptURL(s):s,o.async=!0,document.head.appendChild(o)}function RI(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function kI(r,e,t,o,s,l){const h=o[s];try{if(h)await e[h];else{const g=(await Yy(t)).find(y=>y.measurementId===s);g&&await e[g.appId]}}catch(f){Zt.error(f)}r("config",s,l)}async function PI(r,e,t,o,s){try{let l=[];if(s&&s.send_to){let h=s.send_to;Array.isArray(h)||(h=[h]);const f=await Yy(t);for(const g of h){const y=f.find(T=>T.measurementId===g),w=y&&e[y.appId];if(w)l.push(w);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",o,s||{})}catch(l){Zt.error(l)}}function bI(r,e,t,o){async function s(l,...h){try{if(l==="event"){const[f,g]=h;await PI(r,e,t,f,g)}else if(l==="config"){const[f,g]=h;await kI(r,e,t,o,f,g)}else if(l==="consent"){const[f,g]=h;r("consent",f,g)}else if(l==="get"){const[f,g,y]=h;r("get",f,g,y)}else if(l==="set"){const[f]=h;r("set",f)}else r(l,...h)}catch(f){Zt.error(f)}}return s}function NI(r,e,t,o,s){let l=function(...h){window[o].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=bI(l,r,e,t),{gtagCore:l,wrappedGtag:window[s]}}function DI(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Vd)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=30,LI=1e3;class MI{constructor(e={},t=LI){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Xy=new MI;function OI(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function FI(r){var e;const{appId:t,apiKey:o}=r,s={method:"GET",headers:OI(o)},l=II.replace("{app-id}",t),h=await fetch(l,s);if(h.status!==200&&h.status!==304){let f="";try{const g=await h.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function jI(r,e=Xy,t){const{appId:o,apiKey:s,measurementId:l}=r.options;if(!o)throw un.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:o};throw un.create("no-api-key")}const h=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new UI;return setTimeout(async()=>{f.abort()},TI),Jy({appId:o,apiKey:s,measurementId:l},h,f,e)}async function Jy(r,{throttleEndTimeMillis:e,backoffCount:t},o,s=Xy){var l;const{appId:h,measurementId:f}=r;try{await zI(o,e)}catch(g){if(f)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw g}try{const g=await FI(r);return s.deleteThrottleMetadata(h),g}catch(g){const y=g;if(!BI(y)){if(s.deleteThrottleMetadata(h),f)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:f};throw g}const w=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?$m(t,s.intervalMillis,VI):$m(t,s.intervalMillis),T={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return s.setThrottleMetadata(h,T),Zt.debug(`Calling attemptFetch again in ${w} millis`),Jy(r,T,o,s)}}function zI(r,e){return new Promise((t,o)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);r.addEventListener(()=>{clearTimeout(l),o(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BI(r){if(!(r instanceof fi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class UI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $I(r,e,t,o,s){if(s&&s.global){r("event",t,o);return}else{const l=await e,h=Object.assign(Object.assign({},o),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(){if(Iy())try{await Sy()}catch(r){return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Zt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HI(r,e,t,o,s,l,h){var f;const g=jI(r);g.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>Zt.error(k)),e.push(g);const y=qI().then(k=>{if(k)return o.getId()}),[w,T]=await Promise.all([g,y]);DI(l)||AI(l,w.measurementId),s("js",new Date);const I=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return I[EI]="firebase",I.update=!0,T!=null&&(I[wI]=T),s("config",w.measurementId,I),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.app=e}_delete(){return delete ga[this.app.options.appId],Promise.resolve()}}let ga={},eg=[];const tg={};let Bh="dataLayer",GI="gtag",ng,Zy,rg=!1;function KI(){const r=[];if(g1()&&r.push("This is a browser extension environment."),v1()||r.push("Cookies are not available."),r.length>0){const e=r.map((o,s)=>`(${s+1}) ${o}`).join(" "),t=un.create("invalid-analytics-context",{errorInfo:e});Zt.warn(t.message)}}function QI(r,e,t){KI();const o=r.options.appId;if(!o)throw un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(ga[o]!=null)throw un.create("already-exists",{id:o});if(!rg){RI(Bh);const{wrappedGtag:l,gtagCore:h}=NI(ga,eg,tg,Bh,GI);Zy=l,ng=h,rg=!0}return ga[o]=HI(r,eg,tg,e,ng,Bh,t),new WI(r)}function YI(r=ky()){r=Ir(r);const e=La(r,wu);return e.isInitialized()?e.getImmediate():XI(r)}function XI(r,e={}){const t=La(r,wu);if(t.isInitialized()){const s=t.getImmediate();if(yu(e,t.getOptions()))return s;throw un.create("already-initialized")}return t.initialize({options:e})}function JI(r,e,t,o){r=Ir(r),$I(Zy,ga[r.app.options.appId],e,t,o).catch(s=>Zt.error(s))}const ig="@firebase/analytics",og="0.10.10";function ZI(){ai(new Sr(wu,(e,{options:t})=>{const o=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return QI(o,s,t)},"PUBLIC")),ai(new Sr("analytics-internal",r,"PRIVATE")),Qn(ig,og),Qn(ig,og,"esm2017");function r(e){try{const t=e.getProvider(wu).getImmediate();return{logEvent:(o,s,l)=>JI(t,o,s,l)}}catch(t){throw un.create("interop-component-reg-failed",{reason:t})}}}ZI();var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,ev;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function x(){}x.prototype=S.prototype,D.D=S.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(A,V,N){for(var R=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)R[Ce-2]=arguments[Ce];return S.prototype[V].apply(A,R)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,S,x){x||(x=0);var A=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)A[V]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(V=0;16>V;++V)A[V]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=D.g[0],x=D.g[1],V=D.g[2];var N=D.g[3],R=S+(N^x&(V^N))+A[0]+3614090360&4294967295;S=x+(R<<7&4294967295|R>>>25),R=N+(V^S&(x^V))+A[1]+3905402710&4294967295,N=S+(R<<12&4294967295|R>>>20),R=V+(x^N&(S^x))+A[2]+606105819&4294967295,V=N+(R<<17&4294967295|R>>>15),R=x+(S^V&(N^S))+A[3]+3250441966&4294967295,x=V+(R<<22&4294967295|R>>>10),R=S+(N^x&(V^N))+A[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=N+(V^S&(x^V))+A[5]+1200080426&4294967295,N=S+(R<<12&4294967295|R>>>20),R=V+(x^N&(S^x))+A[6]+2821735955&4294967295,V=N+(R<<17&4294967295|R>>>15),R=x+(S^V&(N^S))+A[7]+4249261313&4294967295,x=V+(R<<22&4294967295|R>>>10),R=S+(N^x&(V^N))+A[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=N+(V^S&(x^V))+A[9]+2336552879&4294967295,N=S+(R<<12&4294967295|R>>>20),R=V+(x^N&(S^x))+A[10]+4294925233&4294967295,V=N+(R<<17&4294967295|R>>>15),R=x+(S^V&(N^S))+A[11]+2304563134&4294967295,x=V+(R<<22&4294967295|R>>>10),R=S+(N^x&(V^N))+A[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=N+(V^S&(x^V))+A[13]+4254626195&4294967295,N=S+(R<<12&4294967295|R>>>20),R=V+(x^N&(S^x))+A[14]+2792965006&4294967295,V=N+(R<<17&4294967295|R>>>15),R=x+(S^V&(N^S))+A[15]+1236535329&4294967295,x=V+(R<<22&4294967295|R>>>10),R=S+(V^N&(x^V))+A[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=N+(x^V&(S^x))+A[6]+3225465664&4294967295,N=S+(R<<9&4294967295|R>>>23),R=V+(S^x&(N^S))+A[11]+643717713&4294967295,V=N+(R<<14&4294967295|R>>>18),R=x+(N^S&(V^N))+A[0]+3921069994&4294967295,x=V+(R<<20&4294967295|R>>>12),R=S+(V^N&(x^V))+A[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=N+(x^V&(S^x))+A[10]+38016083&4294967295,N=S+(R<<9&4294967295|R>>>23),R=V+(S^x&(N^S))+A[15]+3634488961&4294967295,V=N+(R<<14&4294967295|R>>>18),R=x+(N^S&(V^N))+A[4]+3889429448&4294967295,x=V+(R<<20&4294967295|R>>>12),R=S+(V^N&(x^V))+A[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=N+(x^V&(S^x))+A[14]+3275163606&4294967295,N=S+(R<<9&4294967295|R>>>23),R=V+(S^x&(N^S))+A[3]+4107603335&4294967295,V=N+(R<<14&4294967295|R>>>18),R=x+(N^S&(V^N))+A[8]+1163531501&4294967295,x=V+(R<<20&4294967295|R>>>12),R=S+(V^N&(x^V))+A[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=N+(x^V&(S^x))+A[2]+4243563512&4294967295,N=S+(R<<9&4294967295|R>>>23),R=V+(S^x&(N^S))+A[7]+1735328473&4294967295,V=N+(R<<14&4294967295|R>>>18),R=x+(N^S&(V^N))+A[12]+2368359562&4294967295,x=V+(R<<20&4294967295|R>>>12),R=S+(x^V^N)+A[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=N+(S^x^V)+A[8]+2272392833&4294967295,N=S+(R<<11&4294967295|R>>>21),R=V+(N^S^x)+A[11]+1839030562&4294967295,V=N+(R<<16&4294967295|R>>>16),R=x+(V^N^S)+A[14]+4259657740&4294967295,x=V+(R<<23&4294967295|R>>>9),R=S+(x^V^N)+A[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=N+(S^x^V)+A[4]+1272893353&4294967295,N=S+(R<<11&4294967295|R>>>21),R=V+(N^S^x)+A[7]+4139469664&4294967295,V=N+(R<<16&4294967295|R>>>16),R=x+(V^N^S)+A[10]+3200236656&4294967295,x=V+(R<<23&4294967295|R>>>9),R=S+(x^V^N)+A[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=N+(S^x^V)+A[0]+3936430074&4294967295,N=S+(R<<11&4294967295|R>>>21),R=V+(N^S^x)+A[3]+3572445317&4294967295,V=N+(R<<16&4294967295|R>>>16),R=x+(V^N^S)+A[6]+76029189&4294967295,x=V+(R<<23&4294967295|R>>>9),R=S+(x^V^N)+A[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=N+(S^x^V)+A[12]+3873151461&4294967295,N=S+(R<<11&4294967295|R>>>21),R=V+(N^S^x)+A[15]+530742520&4294967295,V=N+(R<<16&4294967295|R>>>16),R=x+(V^N^S)+A[2]+3299628645&4294967295,x=V+(R<<23&4294967295|R>>>9),R=S+(V^(x|~N))+A[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=N+(x^(S|~V))+A[7]+1126891415&4294967295,N=S+(R<<10&4294967295|R>>>22),R=V+(S^(N|~x))+A[14]+2878612391&4294967295,V=N+(R<<15&4294967295|R>>>17),R=x+(N^(V|~S))+A[5]+4237533241&4294967295,x=V+(R<<21&4294967295|R>>>11),R=S+(V^(x|~N))+A[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=N+(x^(S|~V))+A[3]+2399980690&4294967295,N=S+(R<<10&4294967295|R>>>22),R=V+(S^(N|~x))+A[10]+4293915773&4294967295,V=N+(R<<15&4294967295|R>>>17),R=x+(N^(V|~S))+A[1]+2240044497&4294967295,x=V+(R<<21&4294967295|R>>>11),R=S+(V^(x|~N))+A[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=N+(x^(S|~V))+A[15]+4264355552&4294967295,N=S+(R<<10&4294967295|R>>>22),R=V+(S^(N|~x))+A[6]+2734768916&4294967295,V=N+(R<<15&4294967295|R>>>17),R=x+(N^(V|~S))+A[13]+1309151649&4294967295,x=V+(R<<21&4294967295|R>>>11),R=S+(V^(x|~N))+A[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=N+(x^(S|~V))+A[11]+3174756917&4294967295,N=S+(R<<10&4294967295|R>>>22),R=V+(S^(N|~x))+A[2]+718787259&4294967295,V=N+(R<<15&4294967295|R>>>17),R=x+(N^(V|~S))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+N&4294967295}o.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var x=S-this.blockSize,A=this.B,V=this.h,N=0;N<S;){if(V==0)for(;N<=x;)s(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<S;)if(A[V++]=D.charCodeAt(N++),V==this.blockSize){s(this,A),V=0;break}}else for(;N<S;)if(A[V++]=D[N++],V==this.blockSize){s(this,A),V=0;break}}this.h=V,this.o+=S},o.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var x=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=x&255,x/=256;for(this.u(D),D=Array(16),S=x=0;4>S;++S)for(var A=0;32>A;A+=8)D[x++]=this.g[S]>>>A&255;return D};function l(D,S){var x=f;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=S(D)}function h(D,S){this.h=S;for(var x=[],A=!0,V=D.length-1;0<=V;V--){var N=D[V]|0;A&&N==S||(x[V]=N,A=!1)}this.g=x}var f={};function g(D){return-128<=D&&128>D?l(D,function(S){return new h([S|0],0>S?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return b(y(-D));for(var S=[],x=1,A=0;D>=x;A++)S[A]=D/x|0,x*=4294967296;return new h(S,0)}function w(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return b(w(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),A=T,V=0;V<D.length;V+=8){var N=Math.min(8,D.length-V),R=parseInt(D.substring(V,V+N),S);8>N?(N=y(Math.pow(S,N)),A=A.j(N).add(y(R))):(A=A.j(x),A=A.add(y(R)))}return A}var T=g(0),I=g(1),k=g(16777216);r=h.prototype,r.m=function(){if(L(this))return-b(this).m();for(var D=0,S=1,x=0;x<this.g.length;x++){var A=this.i(x);D+=(0<=A?A:4294967296+A)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(L(this))return"-"+b(this).toString(D);for(var S=y(Math.pow(D,6)),x=this,A="";;){var V=le(x,S).g;x=H(x,V.j(S));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=V,O(x))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function L(D){return D.h==-1}r.l=function(D){return D=H(this,D),L(D)?-1:O(D)?0:1};function b(D){for(var S=D.g.length,x=[],A=0;A<S;A++)x[A]=~D.g[A];return new h(x,~D.h).add(I)}r.abs=function(){return L(this)?b(this):this},r.add=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],A=0,V=0;V<=S;V++){var N=A+(this.i(V)&65535)+(D.i(V)&65535),R=(N>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);A=R>>>16,N&=65535,R&=65535,x[V]=R<<16|N}return new h(x,x[x.length-1]&-2147483648?-1:0)};function H(D,S){return D.add(b(S))}r.j=function(D){if(O(this)||O(D))return T;if(L(this))return L(D)?b(this).j(b(D)):b(b(this).j(D));if(L(D))return b(this.j(b(D)));if(0>this.l(k)&&0>D.l(k))return y(this.m()*D.m());for(var S=this.g.length+D.g.length,x=[],A=0;A<2*S;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(var V=0;V<D.g.length;V++){var N=this.i(A)>>>16,R=this.i(A)&65535,Ce=D.i(V)>>>16,Ze=D.i(V)&65535;x[2*A+2*V]+=R*Ze,G(x,2*A+2*V),x[2*A+2*V+1]+=N*Ze,G(x,2*A+2*V+1),x[2*A+2*V+1]+=R*Ce,G(x,2*A+2*V+1),x[2*A+2*V+2]+=N*Ce,G(x,2*A+2*V+2)}for(A=0;A<S;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=S;A<2*S;A++)x[A]=0;return new h(x,0)};function G(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ne(D,S){this.g=D,this.h=S}function le(D,S){if(O(S))throw Error("division by zero");if(O(D))return new ne(T,T);if(L(D))return S=le(b(D),S),new ne(b(S.g),b(S.h));if(L(S))return S=le(D,b(S)),new ne(b(S.g),S.h);if(30<D.g.length){if(L(D)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var x=I,A=S;0>=A.l(D);)x=Se(x),A=Se(A);var V=we(x,1),N=we(A,1);for(A=we(A,2),x=we(x,2);!O(A);){var R=N.add(A);0>=R.l(D)&&(V=V.add(x),N=R),A=we(A,1),x=we(x,1)}return S=H(D,V.j(S)),new ne(V,S)}for(V=T;0<=D.l(S);){for(x=Math.max(1,Math.floor(D.m()/S.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=y(x),R=N.j(S);L(R)||0<R.l(D);)x-=A,N=y(x),R=N.j(S);O(N)&&(N=I),V=V.add(N),D=H(D,R)}return new ne(V,D)}r.A=function(D){return le(this,D).h},r.and=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],A=0;A<S;A++)x[A]=this.i(A)&D.i(A);return new h(x,this.h&D.h)},r.or=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],A=0;A<S;A++)x[A]=this.i(A)|D.i(A);return new h(x,this.h|D.h)},r.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),x=[],A=0;A<S;A++)x[A]=this.i(A)^D.i(A);return new h(x,this.h^D.h)};function Se(D){for(var S=D.g.length+1,x=[],A=0;A<S;A++)x[A]=D.i(A)<<1|D.i(A-1)>>>31;return new h(x,D.h)}function we(D,S){var x=S>>5;S%=32;for(var A=D.g.length-x,V=[],N=0;N<A;N++)V[N]=0<S?D.i(N+x)>>>S|D.i(N+x+1)<<32-S:D.i(N+x);return new h(V,D.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,ev=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Wi=h}).apply(typeof sg<"u"?sg:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,fa,nv,cu,id,rv,iv,ov;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=t(this);function s(u,p){if(p)e:{var v=o;u=u.split(".");for(var E=0;E<u.length-1;E++){var j=u[E];if(!(j in v))break e;v=v[j]}u=u[u.length-1],E=v[u],p=p(E),p!=E&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,E=!1,j={next:function(){if(!E&&v<u.length){var W=v++;return{value:p(W,u[W]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,v){return u.call.apply(u.bind,arguments)}function T(u,p,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function I(u,p,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function k(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function O(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,j,W){for(var re=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)re[$e-2]=arguments[$e];return p.prototype[j].apply(E,re)}}function L(u){const p=u.length;if(0<p){const v=Array(p);for(let E=0;E<p;E++)v[E]=u[E];return v}return[]}function b(u,p){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(g(E)){const j=u.length||0,W=E.length||0;u.length=j+W;for(let re=0;re<W;re++)u[j+re]=E[re]}else u.push(E)}}class H{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var Se=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function we(u,p,v){for(const E in u)p.call(v,u[E],E,u)}function D(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function S(u){const p={};for(const v in u)p[v]=u[v];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let v,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(v in E)u[v]=E[v];for(let W=0;W<x.length;W++)v=x[W],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function V(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function N(u){f.setTimeout(()=>{throw u},0)}function R(){var u=ce;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ce{constructor(){this.h=this.g=null}add(p,v){const E=Ze.get();E.set(p,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ze=new H(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ee=!1,ce=new Ce,ie=()=>{const u=f.Promise.resolve(void 0);Ne=()=>{u.then(F)}};var F=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){N(v)}var p=Ze;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ee=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u}();function Ae(u,p){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Se){e:{try{le(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}O(Ae,pe);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ue(u,p,v,E,j){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!E,this.ha=j,this.key=++_e,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function nr(u){this.src=u,this.g={},this.h=0}nr.prototype.add=function(u,p,v,E,j){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var re=kr(u,p,E,j);return-1<re?(p=u[re],v||(p.fa=!1)):(p=new Ue(p,this.src,W,!!E,j),p.fa=v,u.push(p)),p};function eo(u,p){var v=p.type;if(v in u.g){var E=u.g[v],j=Array.prototype.indexOf.call(E,p,void 0),W;(W=0<=j)&&Array.prototype.splice.call(E,j,1),W&&(wt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function kr(u,p,v,E){for(var j=0;j<u.length;++j){var W=u[j];if(!W.da&&W.listener==p&&W.capture==!!v&&W.ha==E)return j}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),to={};function ps(u,p,v,E,j){if(Array.isArray(p)){for(var W=0;W<p.length;W++)ps(u,p[W],v,E,j);return null}return v=ys(v),u&&u[oe]?u.K(p,v,y(E)?!!E.capture:!!E,j):ms(u,p,v,!1,E,j)}function ms(u,p,v,E,j,W){if(!p)throw Error("Invalid event type");var re=y(j)?!!j.capture:!!j,$e=ro(u);if($e||(u[mi]=$e=new nr(u)),v=$e.add(p,v,E,re,W),v.proxy)return v;if(E=ja(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)ke||(j=re),j===void 0&&(j=!1),u.addEventListener(p.toString(),E,j);else if(u.attachEvent)u.attachEvent(ir(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ja(){function u(v){return p.call(u.src,u.listener,v)}const p=gs;return u}function no(u,p,v,E,j){if(Array.isArray(p))for(var W=0;W<p.length;W++)no(u,p[W],v,E,j);else E=y(E)?!!E.capture:!!E,v=ys(v),u&&u[oe]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],v=kr(W,v,E,j),-1<v&&(wt(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=ro(u))&&(p=u.g[p.toString()],u=-1,p&&(u=kr(p,v,E,j)),(v=-1<u?p[u]:null)&&rr(v))}function rr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[oe])eo(p.i,u);else{var v=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(v,E,u.capture):p.detachEvent?p.detachEvent(ir(v),E):p.addListener&&p.removeListener&&p.removeListener(E),(v=ro(p))?(eo(v,u),v.h==0&&(v.src=null,p[mi]=null)):wt(u)}}}function ir(u){return u in to?to[u]:to[u]="on"+u}function gs(u,p){if(u.da)u=!0;else{p=new Ae(p,this);var v=u.listener,E=u.ha||u.src;u.fa&&rr(u),u=v.call(E,p)}return u}function ro(u){return u=u[mi],u instanceof nr?u:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function ys(u){return typeof u=="function"?u:(u[io]||(u[io]=function(p){return u.handleEvent(p)}),u[io])}function ft(){K.call(this),this.i=new nr(this),this.M=this,this.F=null}O(ft,K),ft.prototype[oe]=!0,ft.prototype.removeEventListener=function(u,p,v,E){no(this,u,p,v,E)};function pt(u,p){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new pe(p,u);else if(p instanceof pe)p.target=p.target||u;else{var j=p;p=new pe(E,u),A(p,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var re=p.g=v[W];j=or(re,E,!0,p)&&j}if(re=p.g=u,j=or(re,E,!0,p)&&j,j=or(re,E,!1,p)&&j,v)for(W=0;W<v.length;W++)re=p.g=v[W],j=or(re,E,!1,p)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],E=0;E<v.length;E++)wt(v[E]);delete u.g[p],u.h--}}this.F=null},ft.prototype.K=function(u,p,v,E){return this.i.add(String(u),p,!1,v,E)},ft.prototype.L=function(u,p,v,E){return this.i.add(String(u),p,!0,v,E)};function or(u,p,v,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,W=0;W<p.length;++W){var re=p[W];if(re&&!re.da&&re.capture==v){var $e=re.listener,mt=re.ha||re.src;re.fa&&eo(u.i,re),j=$e.call(mt,E)!==!1&&j}}return j&&!E.defaultPrevented}function vs(u,p,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Pr(u){u.g=vs(()=>{u.g=null,u.i&&(u.i=!1,Pr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class gi extends K{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(u){K.call(this),this.h=u,this.g={}}O(yi,K);var _s=[];function ws(u){we(u.g,function(p,v){this.g.hasOwnProperty(v)&&rr(p)},u),u.g={}}yi.prototype.N=function(){yi.aa.N.call(this),ws(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=f.JSON.stringify,Ts=f.JSON.parse,Is=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function vi(){}vi.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function so(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){pe.call(this,"d")}O(Fn,pe);function ao(){pe.call(this,"c")}O(ao,pe);var jn={},Ss=null;function _i(){return Ss=Ss||new ft}jn.La="serverreachability";function Cs(u){pe.call(this,jn.La,u)}O(Cs,pe);function sr(u){const p=_i();pt(p,new Cs(p))}jn.STAT_EVENT="statevent";function xs(u,p){pe.call(this,jn.STAT_EVENT,u),this.stat=p}O(xs,pe);function st(u){const p=_i();pt(p,new xs(p,u))}jn.Ma="timingevent";function lo(u,p){pe.call(this,jn.Ma,u),this.size=p}O(lo,pe);function Tn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function Ei(u,p,v,E,j,W){u.info(function(){if(u.g)if(W)for(var re="",$e=W.split("&"),mt=0;mt<$e.length;mt++){var Me=$e[mt].split("=");if(1<Me.length){var Et=Me[0];Me=Me[1];var ut=Et.split("_");re=2<=ut.length&&ut[1]=="type"?re+(Et+"="+Me+"&"):re+(Et+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+p+`
`+v+`
`+re})}function uo(u,p,v,E,j,W,re){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+p+`
`+v+`
`+W+" "+re})}function In(u,p,v,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ec(u,v)+(E?" "+E:"")})}function As(u,p){u.info(function(){return"TIMEOUT: "+p})}wi.prototype.info=function(){};function ec(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return Es(v)}catch{return p}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},za={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ti(){}O(Ti,vi),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Sn=new Ti;function Cn(u,p,v,E){this.j=u,this.i=p,this.l=v,this.R=E||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Rs={},ho={};function fo(u,p,v){u.L=1,u.v=Lr(tn(p)),u.m=v,u.P=!0,ks(u,null)}function ks(u,p){u.F=Date.now(),We(u),u.A=tn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Or(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Ba,u.g=ol(u.j,v?p:null,!u.m),0<u.O&&(u.M=new gi(I(u.Y,u,u.g),u.O)),p=u.U,v=u.g,E=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(_s[0]=j.toString()),j=_s);for(var W=0;W<j.length;W++){var re=ps(v,j[W],E||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),sr(),Ei(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ht(u)==3?p.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const ut=Ht(this.g);var p=this.g.Ba();const fn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Ls(this.g)))){this.J||ut!=4||p==7||(p==8||0>=fn?sr(3):sr(2)),Ii(this);var v=this.g.Z();this.X=v;t:if(Ua(this)){var E=Ls(this.g);u="";var j=E.length,W=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),br(this);var re="";break t}this.h.i=new f.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(W&&p==j-1)});E.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,uo(this.i,this.u,this.A,this.l,this.R,ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,mt=this.g;if(($e=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G($e)){var Me=$e;break t}}Me=null}if(v=Me)In(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,v);else{this.o=!1,this.s=3,st(12),hn(this),br(this);break e}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<re.length;)if(rn=tc(this,re),rn==ho){ut==4&&(this.s=4,st(14),v=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Rs){this.s=4,st(15),In(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else In(this.i,this.l,rn,null),Ps(this,rn);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||re.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)In(this.i,this.l,re,"[Invalid Chunked Response]"),hn(this),br(this);else if(0<re.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Os(Et),Et.M=!0,st(11))}}else In(this.i,this.l,re,null),Ps(this,re);ut==4&&hn(this),this.o&&!this.J&&(ut==4?So(this.j,this):(this.o=!1,We(this)))}else _o(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),hn(this),br(this)}}}catch{}finally{}};function Ua(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tc(u,p){var v=u.C,E=p.indexOf(`
`,v);return E==-1?ho:(v=Number(p.substring(v,E)),isNaN(v)?Rs:(E+=1,E+v>p.length?ho:(p=p.slice(E,E+v),u.C=E+v,p)))}Cn.prototype.cancel=function(){this.J=!0,hn(this)};function We(u){u.S=Date.now()+u.I,$a(u,u.I)}function $a(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Tn(I(u.ba,u),p)}function Ii(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(As(this.i,this.A),this.L!=2&&(sr(),st(17)),hn(this),this.s=2,br(this)):$a(this,this.S-u)};function br(u){u.j.G==0||u.J||So(u.j,u)}function hn(u){Ii(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ws(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ps(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||zt(v.h,u))){if(!u.K&&zt(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Io(v),Pn(v);else break e;To(v),st(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tn(I(v.Za,v),6e3));if(1>=Ha(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else hr(v,11)}else if((u.K||v.g==u)&&Io(v),!G(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Me=j[p];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const Et=Me[3];Et!=null&&(v.la=Et,v.j.info("VER="+v.la));const ut=Me[4];ut!=null&&(v.Aa=ut,v.j.info("SVER="+v.Aa));const fn=Me[5];fn!=null&&typeof fn=="number"&&0<fn&&(E=1.5*fn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const rn=u.g;if(rn){const Pi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var W=E.h;W.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(bs(W,W.h),W.h=null))}if(E.D){const xo=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(E.ya=xo,He(E.I,E.D,xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var re=u;if(E.qa=il(E,E.J?E.ia:null,E.W),re.K){Wa(E.h,re);var $e=re,mt=E.L;mt&&($e.I=mt),$e.B&&(Ii($e),We($e)),E.g=re}else ki(E);0<v.i.length&&$n(v)}else Me[0]!="stop"&&Me[0]!="close"||hr(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?hr(v,7):At(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}sr(4)}catch{}}var qa=class{constructor(u,p){this.g=u,this.map=p}};function Si(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function zt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function bs(u,p){u.g?u.g.add(p):u.h=p}function Wa(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Si.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ga(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return L(u.i)}function po(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],v=u.length,E=0;E<v;E++)p.push(u[E]);return p}p=[],v=0;for(E in u)p[v++]=u[E];return p}function mo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const E in u)p[v++]=E;return p}}}function Nr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=mo(u),E=po(u),j=E.length,W=0;W<j;W++)p.call(void 0,E[W],v&&v[W],u)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),j=null;if(0<=E){var W=u[v].substring(0,E);j=u[v].substring(E+1)}else W=u[v];p(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ar(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ar){this.h=u.h,xi(this,u.j),this.o=u.o,this.g=u.g,Dr(this,u.s),this.l=u.l;var p=u.i,v=new zn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Vr(this,v),this.m=u.m}else u&&(p=String(u).match(Ci))?(this.h=!1,xi(this,p[1]||"",!0),this.o=Ve(p[2]||""),this.g=Ve(p[3]||"",!0),Dr(this,p[4]),this.l=Ve(p[5]||"",!0),Vr(this,p[6]||"",!0),this.m=Ve(p[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}ar.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Mr(p,go,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Mr(p,go,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?Ya:Qa,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,Ns)),u.join("")};function tn(u){return new ar(u)}function xi(u,p,v){u.j=v?Ve(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Dr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Vr(u,p,v){p instanceof zn?(u.i=p,Bn(u.i,u.h)):(v||(p=Mr(p,Xa)),u.i=new zn(p,u.h))}function He(u,p,v){u.i.set(p,v)}function Lr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ka),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ka(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var go=/[#\/\?@]/g,Qa=/[#\?:]/g,Ya=/[#\?]/g,Xa=/[#\?@]/g,Ns=/#/g;function zn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&nc(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=zn.prototype,r.add=function(u,p){xt(this),this.i=null,u=dn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function xn(u,p){xt(u),p=dn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function An(u,p){return xt(u),p=dn(u,p),u.g.has(p)}r.forEach=function(u,p){xt(this),this.g.forEach(function(v,E){v.forEach(function(j){u.call(p,j,E,this)},this)},this)},r.na=function(){xt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let E=0;E<p.length;E++){const j=u[E];for(let W=0;W<j.length;W++)v.push(p[E])}return v},r.V=function(u){xt(this);let p=[];if(typeof u=="string")An(this,u)&&(p=p.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return xt(this),this.i=null,u=dn(this,u),An(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Or(u,p,v){xn(u,p),0<v.length&&(u.i=null,u.g.set(dn(u,p),L(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var E=p[v];const W=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var j=W;re[E]!==""&&(j+="="+encodeURIComponent(String(re[E]))),u.push(j)}}return this.i=u.join("&")};function dn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Bn(u,p){p&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(v,E){var j=E.toLowerCase();E!=j&&(xn(this,E),Or(this,j,v))},u)),u.j=p}function rc(u,p){const v=new wi;if(f.Image){const E=new Image;E.onload=k(qt,v,"TestLoadImage: loaded",!0,p,E),E.onerror=k(qt,v,"TestLoadImage: error",!1,p,E),E.onabort=k(qt,v,"TestLoadImage: abort",!1,p,E),E.ontimeout=k(qt,v,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Ja(u,p){const v=new wi,E=new AbortController,j=setTimeout(()=>{E.abort(),qt(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(W=>{clearTimeout(j),W.ok?qt(v,"TestPingServer: ok",!0,p):qt(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),qt(v,"TestPingServer: error",!1,p)})}function qt(u,p,v,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(v)}catch{}}function ic(){this.g=new Is}function Za(u,p,v){const E=v||"";try{Nr(u,function(j,W){let re=j;y(j)&&(re=Es(j)),p.push(E+W+"="+encodeURIComponent(re))})}catch(j){throw p.push(E+"type="+encodeURIComponent("_badmap")),j}}function lr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(lr,vi),lr.prototype.g=function(){return new Ai(this.l,this.j)},lr.prototype.i=function(u){return function(){return u}}({});function Ai(u,p){ft.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ai,ft),r=Ai.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Rn(this):kn(this),this.readyState==3&&el(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Rn(this))},r.Qa=function(u){this.g&&(this.response=u,Rn(this))},r.ga=function(){this.g&&Rn(this)};function Rn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ur(u){let p="";return we(u,function(v,E){p+=E,p+=":",p+=v,p+=`\r
`}),p}function Fr(u,p,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=ur(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):He(u,p,v))}function Xe(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,ft);var oc=/^https?$/i,Ds=["POST","PUT"];r=Xe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?oo(this.o):oo(Sn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){Ri(this,W);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)v.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const W of E.keys())v.set(W,E.get(W));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ds,p,void 0))||E||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of v)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Ri(this,W)}};function Ri(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,yo(u),nn(u)}function yo(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},r.bb=function(){Vs(this)};function Vs(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Ht(u)!=4||u.Z()!=2)){if(u.u&&Ht(u)==4)vs(u.Ea,0,u);else if(pt(u,"readystatechange"),Ht(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var E;if(E=re===0){var j=String(u.D).match(Ci)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),E=!oc.test(j?j.toLowerCase():"")}v=E}if(v)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var W=2<Ht(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",yo(u)}}finally{nn(u)}}}}function nn(u,p){if(u.g){vo(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pt(u,"ready");try{v.onreadystatechange=E}catch{}}}function vo(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Ht(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ts(p)}};function Ls(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(u){const p={};u=(u.g&&2<=Ht(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(G(u[E]))continue;var v=V(u[E]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=p[j]||[];p[j]=W,W.push(v)}D(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Ms(u){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,u),this.cb=Un("retryDelaySeedMs",1e4,u),this.Wa=Un("forwardChannelMaxRetries",2,u),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(u&&u.concurrentRequestLimit),this.Da=new ic,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ms.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,E){st(0),this.W=u,this.H=p||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=il(this,null,this.W),$n(this)};function At(u){if(wo(u),u.G==3){var p=u.U++,v=tn(u.I);if(He(v,"SID",u.K),He(v,"RID",p),He(v,"TYPE","terminate"),cr(u,v),p=new Cn(u,u.j,p),p.L=2,p.v=Lr(tn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=ol(p.j,null),p.g.ea(p.v)),p.F=Date.now(),We(p)}rl(u)}function Pn(u){u.g&&(Os(u),u.g.cancel(),u.g=null)}function wo(u){Pn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Io(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function $n(u){if(!en(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ne||ie(),ee||(Ne(),ee=!0),ce.add(p,u),u.B=0}}function sc(u,p){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Tn(I(u.Ga,u,p),nl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=S(W),A(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=jr(this,j,p),v=tn(this.I),He(v,"RID",u),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),cr(this,v),W&&(this.O?p="headers="+encodeURIComponent(String(ur(W)))+"&"+p:this.m&&Fr(v,this.m,W)),bs(this.h,j),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",p),He(v,"SID","null"),j.T=!0,fo(j,v,null)):fo(j,v,p),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||en(this.h)||Eo(this))};function Eo(u,p){var v;p?v=p.l:v=u.U++;const E=tn(u.I);He(E,"SID",u.K),He(E,"RID",v),He(E,"AID",u.T),cr(u,E),u.m&&u.o&&Fr(E,u.m,u.o),v=new Cn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=jr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bs(u.h,v),fo(v,E,p)}function cr(u,p){u.H&&we(u.H,function(v,E){He(p,E,v)}),u.l&&Nr({},function(v,E){He(p,E,v)})}function jr(u,p,v){v=Math.min(u.i.length,v);var E=u.l?I(u.l.Na,u.l,u):null;e:{var j=u.i;let W=-1;for(;;){const re=["count="+v];W==-1?0<v?(W=j[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let $e=!0;for(let mt=0;mt<v;mt++){let Me=j[mt].g;const Et=j[mt].map;if(Me-=W,0>Me)W=Math.max(0,j[mt].g-100),$e=!1;else try{Za(Et,re,"req"+Me+"_")}catch{E&&E(Et)}}if($e){E=re.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,E}function ki(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ne||ie(),ee||(Ne(),ee=!0),ce.add(p,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Tn(I(u.Fa,u),nl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Tn(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Pn(this),tl(this))};function Os(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function tl(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=tn(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),cr(u,p),u.m&&u.o&&Fr(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Lr(tn(p)),v.m=null,v.P=!0,ks(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Pn(this),To(this),st(19))};function Io(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function So(u,p){var v=null;if(u.g==p){Io(u),Os(u),u.g=null;var E=2}else if(zt(u.h,p))v=p.D,Wa(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;E=_i(),pt(E,new lo(E,v)),$n(u)}else ki(u);else if(j=p.s,j==3||j==0&&0<p.X||!(E==1&&sc(u,p)||E==2&&To(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),j){case 1:hr(u,5);break;case 4:hr(u,10);break;case 3:hr(u,6);break;default:hr(u,2)}}}function nl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function hr(u,p){if(u.j.info("Error code "+p),p==2){var v=I(u.fb,u),E=u.Xa;const j=!E;E=new ar(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||xi(E,"https"),Lr(E),j?rc(E.toString(),v):Ja(E.toString(),v)}else st(2);u.G=0,u.l&&u.l.sa(p),rl(u),wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function rl(u){if(u.G=0,u.ka=[],u.l){const p=Ga(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ka,p),b(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function il(u,p,v){var E=v instanceof ar?tn(v):new ar(v);if(E.g!="")p&&(E.g=p+"."+E.g),Dr(E,E.s);else{var j=f.location;E=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var W=new ar(null);E&&xi(W,E),p&&(W.g=p),j&&Dr(W,j),v&&(W.l=v),E=W}return v=u.D,p=u.ya,v&&p&&He(E,v,p),He(E,"VER",u.la),cr(u,E),E}function ol(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Xe(new lr({eb:v})):new Xe(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fs(){}r=Fs.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Co(){}Co.prototype.g=function(u,p){return new Bt(u,p)};function Bt(u,p){ft.call(this),this.g=new Ms(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!G(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!G(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new qn(this)}O(Bt,ft),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){At(this.g)},Bt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Es(u),u=v);p.i.push(new qa(p.Ya++,u)),p.G==3&&$n(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Bt.aa.N.call(this)};function sl(u){Fn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}O(sl,Fn);function al(){ao.call(this),this.status=1}O(al,ao);function qn(u){this.g=u}O(qn,Fs),qn.prototype.ua=function(){pt(this.g,"a")},qn.prototype.ta=function(u){pt(this.g,new sl(u))},qn.prototype.sa=function(u){pt(this.g,new al)},qn.prototype.ra=function(){pt(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,ov=function(){return new Co},iv=function(){return _i()},rv=jn,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,cu=co,za.COMPLETE="complete",nv=za,so.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,fa=so,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,tv=Xe}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Rd("@firebase/firestore");function Go(){return Qi.logLevel}function ae(r,...e){if(Qi.logLevel<=Fe.DEBUG){const t=e.map(Ld);Qi.debug(`Firestore (${cs}): ${r}`,...t)}}function xr(r,...e){if(Qi.logLevel<=Fe.ERROR){const t=e.map(Ld);Qi.error(`Firestore (${cs}): ${r}`,...t)}}function Zo(r,...e){if(Qi.logLevel<=Fe.WARN){const t=e.map(Ld);Qi.warn(`Firestore (${cs}): ${r}`,...t)}}function Ld(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+r;throw xr(e),new Error(e)}function Be(r,e){r||Te()}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class tS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let o=this.i;const s=g=>this.i!==o?(o=this.i,t(g)):Promise.resolve();let l=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new oi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new oi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Be(typeof o.accessToken=="string"),new sv(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ft(e)}}class rS{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iS{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new rS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const o=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new oS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=aS(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=e.charAt(s[l]%e.length))}return o}}function Le(r,e){return r<e?-1:r>e?1:0}function es(r,e,t){return r.length===e.length&&r.every((o,s)=>t(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new dt(t,o)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new dt(0,0))}static max(){return new Ie(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,o){t===void 0?t=0:t>e.length&&Te(),o===void 0?o=e.length-t:o>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const l=e.get(s),h=t.get(s);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends Ia{construct(e,t,o){return new ot(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new ye(Z.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const lS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Ia{construct(e,t,o){return new bt(e,t,o)}static isValidIdentifier(e){return lS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const t=[];let o="",s=0;const l=()=>{if(o.length===0)throw new ye(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let h=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ye(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,s+=2}else f==="`"?(h=!h,s++):f!=="."||h?(o+=f,s++):(l(),s++)}if(l(),h)throw new ye(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function uS(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(o===1e9?new dt(t+1,0):new dt(t,o));return new li(s,ve.empty(),e)}function cS(r){return new li(r.readTime,r.key,-1)}class li{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new li(Ie.min(),ve.empty(),-1)}static max(){return new li(Ie.max(),ve.empty(),-1)}}function hS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==dS)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,o)=>{t(e)})}static reject(e){return new Q((t,o)=>{o(e)})}static waitFor(e){return new Q((t,o)=>{let s=0,l=0,h=!1;e.forEach(f=>{++s,f.next(()=>{++l,h&&l===s&&t()},g=>o(g))}),h=!0,l===s&&t()})}static or(e){let t=Q.resolve(!1);for(const o of e)t=t.next(s=>s?Q.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,l)=>{o.push(t.call(this,s,l))}),this.waitFor(o)}static mapArray(e,t){return new Q((o,s)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(w=>{h[y]=w,++f,f===l&&o(h)},w=>s(w))}})}static doWhile(e,t){return new Q((o,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):o()};l()})}}function pS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ds(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ie(o),this.se=o=>t.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ou.oe=-1;function Fu(r){return r==null}function Eu(r){return r===0&&1/r==-1/0}function mS(r){return typeof r=="number"&&Number.isInteger(r)&&!Eu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=lg(e)),e=yS(r.get(t),e);return lg(e)}function yS(r,e){let t=e;const o=r.length;for(let s=0;s<o;s++){const l=r.charAt(s);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function lg(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function lv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,o,s,l){this.key=e,this.value=t,this.color=o??Pt.RED,this.left=s??Pt.EMPTY,this.right=l??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,l){return new Pt(e??this.key,t??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,o),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,o,s,l){return this}insert(e,t,o){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cg(this.data.getIterator())}getIteratorFrom(e){return new cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new On([])}unionWith(e){let t=new _t(bt.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return es(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new uv("Invalid base64 string: "+l):l}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const vS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(r){if(Be(!!r),typeof r=="string"){let e=0;const t=vS.exec(r);if(Be(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:lt(r.seconds),nanos:lt(r.nanos)}}function lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ci(r){return typeof r=="string"?Nt.fromBase64String(r):Nt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ju(r){const e=r.mapValue.fields.__previous_value__;return Md(e)?ju(e):e}function Sa(r){const e=ui(r.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,o,s,l,h,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}class Ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Md(r)?4:ES(r)?9007199254740991:wS(r)?10:11:Te()}function Zn(r,e){if(r===e)return!0;const t=hi(r);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Sa(r).isEqual(Sa(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=ui(s.timestampValue),f=ui(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,l){return ci(s.bytesValue).isEqual(ci(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,l){return lt(s.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(l.geoPointValue.longitude)}(r,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return lt(s.integerValue)===lt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=lt(s.doubleValue),f=lt(l.doubleValue);return h===f?Eu(h)===Eu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return es(r.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(s,l){const h=s.mapValue.fields||{},f=l.mapValue.fields||{};if(ug(h)!==ug(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Zn(h[g],f[g])))return!1;return!0}(r,e);default:return Te()}}function xa(r,e){return(r.values||[]).find(t=>Zn(t,e))!==void 0}function ts(r,e){if(r===e)return 0;const t=hi(r),o=hi(e);if(t!==o)return Le(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=lt(l.integerValue||l.doubleValue),g=lt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return hg(r.timestampValue,e.timestampValue);case 4:return hg(Sa(r),Sa(e));case 5:return Le(r.stringValue,e.stringValue);case 6:return function(l,h){const f=ci(l),g=ci(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const w=Le(f[y],g[y]);if(w!==0)return w}return Le(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Le(lt(l.latitude),lt(h.latitude));return f!==0?f:Le(lt(l.longitude),lt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dg(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,g,y,w;const T=l.fields||{},I=h.fields||{},k=(f=T.value)===null||f===void 0?void 0:f.arrayValue,O=(g=I.value)===null||g===void 0?void 0:g.arrayValue,L=Le(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return L!==0?L:dg(k,O)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===ou.mapValue&&h===ou.mapValue)return 0;if(l===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const I=Le(g[T],w[T]);if(I!==0)return I;const k=ts(f[g[T]],y[w[T]]);if(k!==0)return k}return Le(g.length,w.length)}(r.mapValue,e.mapValue);default:throw Te()}}function hg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const t=ui(r),o=ui(e),s=Le(t.seconds,o.seconds);return s!==0?s:Le(t.nanos,o.nanos)}function dg(r,e){const t=r.values||[],o=e.values||[];for(let s=0;s<t.length&&s<o.length;++s){const l=ts(t[s],o[s]);if(l)return l}return Le(t.length,o.length)}function ns(r){return od(r)}function od(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const o=ui(t);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ci(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let o="[",s=!0;for(const l of t.values||[])s?s=!1:o+=",",o+=od(l);return o+"]"}(r.arrayValue):"mapValue"in r?function(t){const o=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const h of o)l?l=!1:s+=",",s+=`${h}:${od(t.fields[h])}`;return s+"}"}(r.mapValue):Te()}function hu(r){switch(hi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ju(r);return e?16+hu(e):16;case 5:return 2*r.stringValue.length;case 6:return ci(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+hu(l),0)}(r.arrayValue);case 10:case 11:return function(o){let s=0;return pi(o.fields,(l,h)=>{s+=l.length+hu(h)}),s}(r.mapValue);default:throw Te()}}function sd(r){return!!r&&"integerValue"in r}function Od(r){return!!r&&"arrayValue"in r}function fg(r){return!!r&&"nullValue"in r}function pg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function du(r){return!!r&&"mapValue"in r}function wS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ya(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pi(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ya(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ya(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ES(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(t)}setAll(e){let t=bt.emptyPath(),o={},s=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,o,s),o={},s=[],t=f.popLast()}h?o[f.lastSegment()]=ya(h):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,s)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){pi(t,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new ln(ya(this.value))}}function cv(r){const e=[];return pi(r.fields,(t,o)=>{const s=new bt([t]);if(du(o)){const l=cv(o.mapValue).fields;if(l.length===0)e.push(s);else for(const h of l)e.push(s.child(h))}else e.push(s)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,o,s,l,h,f){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jt(e,0,Ie.min(),Ie.min(),Ie.min(),ln.empty(),0)}static newFoundDocument(e,t,o,s){return new jt(e,1,t,Ie.min(),o,s,0)}static newNoDocument(e,t){return new jt(e,2,t,Ie.min(),Ie.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Ie.min(),Ie.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.position=e,this.inclusive=t}}function mg(r,e,t){let o=0;for(let s=0;s<r.position.length;s++){const l=e[s],h=r.position[s];if(l.field.isKeyField()?o=ve.comparator(ve.fromName(h.referenceValue),t.key):o=ts(h,t.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function gg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Zn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function TS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{}class vt extends hv{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new SS(e,t,o):t==="array-contains"?new AS(e,o):t==="in"?new RS(e,o):t==="not-in"?new kS(e,o):t==="array-contains-any"?new PS(e,o):new vt(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new CS(e,o):new xS(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ts(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends hv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new er(e,t)}matches(e){return dv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dv(r){return r.op==="and"}function fv(r){return IS(r)&&dv(r)}function IS(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function ad(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+ns(r.value);if(fv(r))return r.filters.map(e=>ad(e)).join(",");{const e=r.filters.map(t=>ad(t)).join(",");return`${r.op}(${e})`}}function pv(r,e){return r instanceof vt?function(o,s){return s instanceof vt&&o.op===s.op&&o.field.isEqual(s.field)&&Zn(o.value,s.value)}(r,e):r instanceof er?function(o,s){return s instanceof er&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,h,f)=>l&&pv(h,s.filters[f]),!0):!1}(r,e):void Te()}function mv(r){return r instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${ns(t.value)}`}(r):r instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(mv).join(" ,")+"}"}(r):"Filter"}class SS extends vt{constructor(e,t,o){super(e,t,o),this.key=ve.fromName(o.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class CS extends vt{constructor(e,t){super(e,"in",t),this.keys=gv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xS extends vt{constructor(e,t){super(e,"not-in",t),this.keys=gv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>ve.fromName(o.referenceValue))}class AS extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Od(t)&&xa(t.arrayValue,this.value)}}class RS extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xa(this.value.arrayValue,t)}}class kS extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xa(this.value.arrayValue,t)}}class PS extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Od(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>xa(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t=null,o=[],s=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function yg(r,e=null,t=[],o=[],s=null,l=null,h=null){return new bS(r,e,t,o,s,l,h)}function Fd(r){const e=xe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>ad(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),Fu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ns(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ns(o)).join(",")),e.ue=t}return e.ue}function jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!TS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!pv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gg(r.startAt,e.startAt)&&gg(r.endAt,e.endAt)}function ld(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t=null,o=[],s=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NS(r,e,t,o,s,l,h,f){return new zu(r,e,t,o,s,l,h,f)}function zd(r){return new zu(r)}function vg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DS(r){return r.collectionGroup!==null}function va(r){const e=xe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(bt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Iu(l,o))}),t.has(bt.keyField().canonicalString())||e.ce.push(new Iu(bt.keyField(),o))}return e.ce}function Yn(r){const e=xe(r);return e.le||(e.le=VS(e,va(r))),e.le}function VS(r,e){if(r.limitType==="F")return yg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Iu(s.field,l)});const t=r.endAt?new Tu(r.endAt.position,r.endAt.inclusive):null,o=r.startAt?new Tu(r.startAt.position,r.startAt.inclusive):null;return yg(r.path,r.collectionGroup,e,r.filters,r.limit,t,o)}}function ud(r,e,t){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Bu(r,e){return jd(Yn(r),Yn(e))&&r.limitType===e.limitType}function yv(r){return`${Fd(Yn(r))}|lt:${r.limitType}`}function Ko(r){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>mv(s)).join(", ")}]`),Fu(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>ns(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>ns(s)).join(",")),`Target(${o})`}(Yn(r))}; limitType=${r.limitType})`}function Uu(r,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):ve.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(r,e)&&function(o,s){for(const l of va(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(r,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(r,e)&&function(o,s){return!(o.startAt&&!function(h,f,g){const y=mg(h,f,g);return h.inclusive?y<=0:y<0}(o.startAt,va(o),s)||o.endAt&&!function(h,f,g){const y=mg(h,f,g);return h.inclusive?y>=0:y>0}(o.endAt,va(o),s))}(r,e)}function LS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vv(r){return(e,t)=>{let o=!1;for(const s of va(r)){const l=MS(s,e,t);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function MS(r,e,t){const o=r.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,f){const g=h.data.field(l),y=f.data.field(l);return g!==null&&y!==null?ts(g,y):Te()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(t,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return lv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new rt(ve.comparator);function Ar(){return OS}const _v=new rt(ve.comparator);function pa(...r){let e=_v;for(const t of r)e=e.insert(t.key,t);return e}function wv(r){let e=_v;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Hi(){return _a()}function Ev(){return _a()}function _a(){return new Xi(r=>r.toString(),(r,e)=>r.isEqual(e))}const FS=new rt(ve.comparator),jS=new _t(ve.comparator);function De(...r){let e=jS;for(const t of r)e=e.add(t);return e}const zS=new _t(Le);function BS(){return zS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function Tv(r){return{integerValue:""+r}}function Iv(r,e){return mS(e)?Tv(e):Bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function US(r,e,t){return r instanceof Su?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Md(l)&&(l=ju(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Aa?Cv(r,e):r instanceof Ra?xv(r,e):function(s,l){const h=Sv(s,l),f=_g(h)+_g(s.Pe);return sd(h)&&sd(s.Pe)?Tv(f):Bd(s.serializer,f)}(r,e)}function $S(r,e,t){return r instanceof Aa?Cv(r,e):r instanceof Ra?xv(r,e):t}function Sv(r,e){return r instanceof ka?function(o){return sd(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class Su extends $u{}class Aa extends $u{constructor(e){super(),this.elements=e}}function Cv(r,e){const t=Av(e);for(const o of r.elements)t.some(s=>Zn(s,o))||t.push(o);return{arrayValue:{values:t}}}class Ra extends $u{constructor(e){super(),this.elements=e}}function xv(r,e){let t=Av(e);for(const o of r.elements)t=t.filter(s=>!Zn(s,o));return{arrayValue:{values:t}}}class ka extends $u{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function _g(r){return lt(r.integerValue||r.doubleValue)}function Av(r){return Od(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.field=e,this.transform=t}}function HS(r,e){return r.field.isEqual(e.field)&&function(o,s){return o instanceof Aa&&s instanceof Aa||o instanceof Ra&&s instanceof Ra?es(o.elements,s.elements,Zn):o instanceof ka&&s instanceof ka?Zn(o.Pe,s.Pe):o instanceof Su&&s instanceof Su}(r.transform,e.transform)}class WS{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qu{}function Rv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pv(r.key,Tr.none()):new Hu(r.key,r.data,Tr.none());{const t=r.data,o=ln.empty();let s=new _t(bt.comparator);for(let l of e.fields)if(!s.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?o.delete(l):o.set(l,h),s=s.add(l)}return new Ji(r.key,o,new On(s.toArray()),Tr.none())}}function GS(r,e,t){r instanceof Hu?function(s,l,h){const f=s.value.clone(),g=Eg(s.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Ji?function(s,l,h){if(!fu(s.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Eg(s.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(kv(s)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(s,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function wa(r,e,t,o){return r instanceof Hu?function(l,h,f,g){if(!fu(l.precondition,h))return f;const y=l.value.clone(),w=Tg(l.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,o):r instanceof Ji?function(l,h,f,g){if(!fu(l.precondition,h))return f;const y=Tg(l.fieldTransforms,g,h),w=h.data;return w.setAll(kv(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,o):function(l,h,f){return fu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function KS(r,e){let t=null;for(const o of r.fieldTransforms){const s=e.data.field(o.field),l=Sv(o.transform,s||null);l!=null&&(t===null&&(t=ln.empty()),t.set(o.field,l))}return t||null}function wg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&es(o,s,(l,h)=>HS(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hu extends qu{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends qu{constructor(e,t,o,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function Eg(r,e,t){const o=new Map;Be(r.length===t.length);for(let s=0;s<t.length;s++){const l=r[s],h=l.transform,f=e.data.field(l.field);o.set(l.field,$S(h,f,t[s]))}return o}function Tg(r,e,t){const o=new Map;for(const s of r){const l=s.transform,h=t.data.field(s.field);o.set(s.field,US(l,h,e))}return o}class Pv extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&GS(l,e,o[s])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=wa(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=wa(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Ev();return this.mutations.forEach(s=>{const l=e.get(s.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(s.key)?null:f;const g=Rv(h,f);g!==null&&o.set(s.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(t,o)=>wg(t,o))&&es(this.baseMutations,e.baseMutations,(t,o)=>wg(t,o))}}class Ud{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){Be(e.mutations.length===o.length);let s=function(){return FS}();const l=e.mutations;for(let h=0;h<l.length;h++)s=s.insert(l[h].key,o[h].version);return new Ud(e,t,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Oe;function ZS(r){switch(r){default:return Te();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function bv(r){if(r===void 0)return xr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ht.OK:return Z.OK;case ht.CANCELLED:return Z.CANCELLED;case ht.UNKNOWN:return Z.UNKNOWN;case ht.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ht.INTERNAL:return Z.INTERNAL;case ht.UNAVAILABLE:return Z.UNAVAILABLE;case ht.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ht.NOT_FOUND:return Z.NOT_FOUND;case ht.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ht.ABORTED:return Z.ABORTED;case ht.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ht.DATA_LOSS:return Z.DATA_LOSS;default:return Te()}}(Oe=ht||(ht={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Wi([4294967295,4294967295],0);function Ig(r){const e=eC().encode(r),t=new ev;return t.update(e),new Uint8Array(t.digest())}function Sg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wi([t,o],0),new Wi([s,l],0)]}class $d{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new ma(`Invalid padding: ${t}`);if(o<0)throw new ma(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new ma(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Wi.fromNumber(this.Te)}Ee(e,t,o){let s=e.add(t.multiply(Wi.fromNumber(o)));return s.compare(tC)===1&&(s=new Wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ig(e),[o,s]=Sg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);if(!this.de(h))return!1}return!0}static create(e,t,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new $d(l,s,t);return o.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Ig(e),[o,s]=Sg(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t,o,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const s=new Map;return s.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Wu(Ie.min(),s,new rt(Le),Ar(),De())}}class Ma{constructor(e,t,o,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Ma(o,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,o,s){this.Re=e,this.removedTargetIds=t,this.key=o,this.Ve=s}}class Nv{constructor(e,t){this.targetId=e,this.me=t}}class Dv{constructor(e,t,o=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class Cg{constructor(){this.fe=0,this.ge=xg(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),o=De();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Te()}}),new Ma(this.pe,this.ye,e,t,o)}Ce(){this.we=!1,this.ge=xg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=su(),this.Qe=su(),this.Ke=new rt(Le)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const o=this.ze(t);switch(e.state){case 0:this.je(t)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(t);break;case 3:this.je(t)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),o.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((o,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,o=e.me.count,s=this.Ye(t);if(s){const l=s.target;if(ld(l))if(o===0){const h=new ve(l.path);this.We(t,h,jt.newNoDocument(h,Ie.min()))}else Be(o===1);else{const h=this.Ze(t);if(h!==o){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=t;let h,f;try{h=ci(o).toUint8Array()}catch(g){if(g instanceof uv)return Zo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new $d(h,s,l)}catch(g){return Zo(g instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,t,o){return t.me.count===o-this.rt(e,t.targetId)?0:2}rt(e,t){const o=this.Le.getRemoteKeysForTarget(t);let s=0;return o.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&ld(f.target)){const g=new ve(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,jt.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let o=De();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const s=new Wu(e,t,this.Ke,this.ke,o);return this.ke=Ar(),this.qe=su(),this.Qe=su(),this.Ke=new rt(Le),s}Ue(e,t){if(!this.je(e))return;const o=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,o),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),o&&(this.ke=this.ke.insert(t,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Cg,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new _t(Le),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(Le),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Cg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function su(){return new rt(ve.comparator)}function xg(){return new rt(ve.comparator)}const rC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oC={and:"AND",or:"OR"};class sC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cd(r,e){return r.useProto3Json||Fu(e)?e:{value:e}}function Cu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aC(r,e){return Cu(r,e.toTimestamp())}function Xn(r){return Be(!!r),Ie.fromTimestamp(function(t){const o=ui(t);return new dt(o.seconds,o.nanos)}(r))}function qd(r,e){return hd(r,e).canonicalString()}function hd(r,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Lv(r){const e=ot.fromString(r);return Be(zv(e)),e}function dd(r,e){return qd(r.databaseId,e.path)}function Uh(r,e){const t=Lv(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(Ov(t))}function Mv(r,e){return qd(r.databaseId,e)}function lC(r){const e=Lv(r);return e.length===4?ot.emptyPath():Ov(e)}function fd(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ov(r){return Be(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ag(r,e,t){return{name:dd(r,e),fields:t.value.mapValue.fields}}function uC(r,e){let t;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(Be(w===void 0||typeof w=="string"),Nt.fromBase64String(w||"")):(Be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Nt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const w=y.code===void 0?Z.UNKNOWN:bv(y.code);return new ye(w,y.message||"")}(h);t=new Dv(o,s,l,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Uh(r,o.document.name),l=Xn(o.document.updateTime),h=o.document.createTime?Xn(o.document.createTime):Ie.min(),f=new ln({mapValue:{fields:o.document.fields}}),g=jt.newFoundDocument(s,l,h,f),y=o.targetIds||[],w=o.removedTargetIds||[];t=new pu(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Uh(r,o.document),l=o.readTime?Xn(o.readTime):Ie.min(),h=jt.newNoDocument(s,l),f=o.removedTargetIds||[];t=new pu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Uh(r,o.document),l=o.removedTargetIds||[];t=new pu([],l,s,null)}else{if(!("filter"in e))return Te();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,h=new JS(s,l),f=o.targetId;t=new Nv(f,h)}}return t}function cC(r,e){let t;if(e instanceof Hu)t={update:Ag(r,e.key,e.value)};else if(e instanceof Pv)t={delete:dd(r,e.key)};else if(e instanceof Ji)t={update:Ag(r,e.key,e.data),updateMask:_C(e.fieldMask)};else{if(!(e instanceof QS))return Te();t={verify:dd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const f=h.transform;if(f instanceof Su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Aa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ra)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ka)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()}(0,o))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:aC(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(r,e.precondition)),t}function hC(r,e){return r&&r.length>0?(Be(e!==void 0),r.map(t=>function(s,l){let h=s.updateTime?Xn(s.updateTime):Xn(l);return h.isEqual(Ie.min())&&(h=Xn(l)),new WS(h,s.transformResults||[])}(t,e))):[]}function dC(r,e){return{documents:[Mv(r,e.path)]}}function fC(r,e){const t={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=Mv(r,s);const l=function(y){if(y.length!==0)return jv(er.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:Qo(I.field),direction:gC(I.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=cd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:s}}function pC(r){let e=lC(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){Be(o===1);const w=t.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const I=Fv(T);return I instanceof er&&fv(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(O){return new Iu(Yo(O.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(T){let I;return I=typeof T=="object"?T.value:T,Fu(I)?null:I}(t.limit));let g=null;t.startAt&&(g=function(T){const I=!!T.before,k=T.values||[];return new Tu(k,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,k=T.values||[];return new Tu(k,I)}(t.endAt)),NS(e,s,h,l,f,"F",g,y)}function mC(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fv(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Yo(t.unaryFilter.field);return vt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(t.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Yo(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return vt.create(Yo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(o=>Fv(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function gC(r){return rC[r]}function yC(r){return iC[r]}function vC(r){return oC[r]}function Qo(r){return{fieldPath:r.canonicalString()}}function Yo(r){return bt.fromServerFormat(r.fieldPath)}function jv(r){return r instanceof vt?function(t){if(t.op==="=="){if(pg(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(fg(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pg(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(fg(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:yC(t.op),value:t.value}}}(r):r instanceof er?function(t){const o=t.getFilters().map(s=>jv(s));return o.length===1?o[0]:{compositeFilter:{op:vC(t.op),filters:o}}}(r):Te()}function _C(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,o,s,l=Ie.min(),h=Ie.min(),f=Nt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.ht=e}}function EC(r){const e=pC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.ln=new IC}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(li.min())}updateCollectionGroup(e,t,o){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class IC{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new _t(ot.comparator),l=!s.has(o);return this.index[t]=s.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new _t(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new rs(0)}static Qn(){return new rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg([r,e],[t,o]){const s=Le(r,t);return s===0?Le(e,o):s}class SC{constructor(e){this.Gn=e,this.buffer=new _t(kg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();kg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ds(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await hs(t)}await this.Yn(3e5)})}}class xC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Ou.oe);const o=new SC(t);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Zn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Rg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let o,s,l,h,f,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(o=T,f=Date.now(),this.removeTargets(e,o,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(T=>(y=Date.now(),Go()<=Fe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${s} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function AC(r,e){return new xC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?Q.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,o,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(o!==null&&wa(o.mutation,s,On.empty(),dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,De()).next(()=>o))}getLocalViewOfDocuments(e,t,o=De()){const s=Hi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,o).next(l=>{let h=pa();return l.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const o=Hi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,De()))}populateOverlays(e,t,o){const s=[];return o.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,o,s){let l=Ar();const h=_a(),f=function(){return _a()}();return t.forEach((g,y)=>{const w=o.get(y.key);s.has(y.key)&&(w===void 0||w.mutation instanceof Ji)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),wa(w.mutation,y,w.mutation.getFieldMask(),dt.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return f.set(y,new kC(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const o=_a();let s=new rt((h,f)=>h-f),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let w=o.get(g)||On.empty();w=f.applyToLocalView(y,w),o.set(g,w);const T=(s.get(f.batchId)||De()).add(g);s=s.insert(f.batchId,T)})}).next(()=>{const h=[],f=s.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,w=g.value,T=Ev();w.forEach(I=>{if(!l.has(I)){const k=Rv(t.get(I),o.get(I));k!==null&&T.set(I,k),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,s){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,s):this.getDocumentsMatchingCollectionQuery(e,t,o,s)}getNextDocuments(e,t,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,s).next(l=>{const h=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,s-l.size):Q.resolve(Hi());let f=-1,g=l;return h.next(y=>Q.forEach(y,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{g=g.insert(w,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,De())).next(w=>({batchId:f,changes:wv(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(o=>{let s=pa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,o,s){const l=t.collectionGroup;let h=pa();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,g=>{const y=function(T,I){return new zu(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,o,s).next(w=>{w.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l,s))).next(h=>{l.forEach((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))});let f=pa();return h.forEach((g,y)=>{const w=l.get(g);w!==void 0&&wa(w.mutation,y,On.empty(),dt.now()),Uu(t,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Xn(s.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:EC(s.bundledQuery),readTime:Xn(s.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.overlays=new rt(ve.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Hi();return Q.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((s,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.Er.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(o)),Q.resolve()}getOverlaysForCollection(e,t,o){const s=Hi(),l=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>o&&s.set(g.getKey(),g)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let l=new rt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>o){let w=l.get(y.largestBatchId);w===null&&(w=Hi(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=Hi(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=s)););return Q.resolve(f)}Tt(e,t,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.Er.get(s.largestBatchId).delete(o.key);this.Er.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new XS(t,o));let l=this.Er.get(t);l===void 0&&(l=De(),this.Er.set(t,l)),this.Er.set(t,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.dr=new _t(Ct.Ar),this.Rr=new _t(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const o=new Ct(e,t);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(o=>this.removeReference(o,t))}yr(e){const t=new ve(new ot([])),o=new Ct(t,e),s=new Ct(t,e+1),l=[];return this.Rr.forEachInRange([o,s],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new ot([])),o=new Ct(t,e),s=new Ct(t,e+1);let l=De();return this.Rr.forEachInRange([o,s],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ct(e,0),o=this.dr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Le(e.br,t.br)}static Vr(e,t){return Le(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new _t(Ct.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new YS(l,t,o,s);this.mutationQueue.push(h);for(const f of s)this.vr=this.vr.add(new Ct(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,s=this.Fr(o),l=s<0?0:s;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ct(t,0),s=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([o,s],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new _t(Le);return t.forEach(s=>{const l=new Ct(s,0),h=new Ct(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{o=o.add(f.br)})}),Q.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let l=o;ve.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new ve(l),0);let f=new _t(Le);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!o.isPrefixOf(y)&&(y.length===s&&(f=f.add(g.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return Q.forEach(t.mutations,s=>{const l=new Ct(s.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,t){const o=new Ct(t,0),s=this.vr.firstAfterOrEqual(o);return Q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.Nr=e,this.docs=function(){return new rt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),l=s?s.size:0,h=this.Nr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Q.resolve(o?o.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let o=Ar();return t.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():jt.newInvalidDocument(s))}),Q.resolve(o)}getDocumentsMatchingQuery(e,t,o,s){let l=Ar();const h=t.path,f=new ve(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||hS(cS(w),o)<=0||(s.has(w.key)||Uu(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,o,s){Te()}Lr(e,t){return Q.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new MC(this)}getSize(e){return Q.resolve(this.size)}}class MC extends RC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.persistence=e,this.Br=new Xi(t=>Fd(t),jd),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hd,this.targetCount=0,this.Qr=rs.qn()}forEachTarget(e,t){return this.Br.forEach((o,s)=>t(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new rs(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,o){let s=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&o.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Q.waitFor(l).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const o=this.Br.get(t)||null;return Q.resolve(o)}addMatchingKeys(e,t,o){return this.qr.mr(t,o),Q.resolve()}removeMatchingKeys(e,t,o){this.qr.pr(t,o);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(h=>{l.push(s.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qr.Sr(t);return Q.resolve(o)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ou(0),this.Ur=!1,this.Ur=!0,this.Wr=new DC,this.referenceDelegate=e(this),this.Gr=new OC(this),this.indexManager=new TC,this.remoteDocumentCache=function(s){return new LC(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new wC(t),this.jr=new bC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Kr[e.toKey()];return o||(o=new VC(t,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,o){ae("MemoryPersistence","Starting transaction:",e);const s=new FC(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,t)))}}class FC extends fS{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Zr=new Hd,this.Xr=null}static ei(e){return new Wd(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,o){return this.Zr.addReference(o,t),this.ti.delete(o.toString()),Q.resolve()}removeReference(e,t,o){return this.Zr.removeReference(o,t),this.ti.add(o.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,o=>{const s=ve.fromPath(o);return this.ni(e,s).next(l=>{l||t.removeEntry(s,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(o=>{o?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class xu{constructor(e,t){this.persistence=e,this.ri=new Xi(o=>gS(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=AC(this,t)}static ei(e,t){return new xu(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(s=>o+s))}nr(e){let t=0;return this.er(e,o=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(l=>l?Q.resolve():t(s)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(o++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hu(e.data.value)),t}ir(e,t,o){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Q.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.Wi=o,this.Gi=s}static zi(e,t){let o=De(),s=De();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Gd(e,t.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return y1()?8:pS(p1())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,o,s){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,s,o).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new jC;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,o,s){return o.documentReadCount<this.Ji?(Go()<=Fe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Go()<=Fe.DEBUG&&ae("QueryEngine","Query:",Ko(t),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?(Go()<=Fe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):Q.resolve())}Xi(e,t){if(vg(t))return Q.resolve(null);let o=Yn(t);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ud(t,null,"F"),o=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const h=De(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,o).next(g=>{const y=this.rs(t,f);return this.ss(t,y,h,g.readTime)?this.Xi(e,ud(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,o,s){return vg(t)||s.isEqual(Ie.min())?Q.resolve(null):this.Zi.getDocuments(e,o).next(l=>{const h=this.rs(t,l);return this.ss(t,h,o,s)?Q.resolve(null):(Go()<=Fe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(t)),this.os(e,h,t,uS(s,-1)).next(f=>f))})}rs(e,t){let o=new _t(vv(e));return t.forEach((s,l)=>{Uu(e,l)&&(o=o.add(l))}),o}ss(e,t,o,s){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,t,o){return Go()<=Fe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.Zi.getDocumentsMatchingQuery(e,t,li.min(),o)}os(e,t,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,o,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new rt(Le),this.cs=new Xi(l=>Fd(l),jd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function UC(r,e,t,o){return new BC(r,e,t,o)}async function Uv(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const h=[],f=[];let g=De();for(const y of s){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(o,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function $C(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,y,w){const T=y.batch,I=T.keys();let k=Q.resolve();return I.forEach(O=>{k=k.next(()=>w.getEntry(g,O)).next(L=>{const b=y.docVersions.get(O);Be(b!==null),L.version.compareTo(b)<0&&(T.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),w.addEntry(L)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(g,T))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let g=De();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(o,s))})}function $v(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function qC(r,e){const t=xe(r),o=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((w,T)=>{const I=s.get(T);if(!I)return;f.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,T)));let k=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Nt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,o)),s=s.insert(T,k),function(L,b,H){return L.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,k,w)&&f.push(t.Gr.updateTargetData(l,k))});let g=Ar(),y=De();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(HC(l,h,e.documentUpdates).next(w=>{g=w.Is,y=w.Es})),!o.isEqual(Ie.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,o));f.push(w)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.us=s,l))}function HC(r,e,t){let o=De(),s=De();return t.forEach(l=>o=o.add(l)),e.getEntries(r,o).next(l=>{let h=Ar();return t.forEach((f,g)=>{const y=l.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:s}})}function WC(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function GC(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.Gr.getTargetData(o,e).next(l=>l?(s=l,Q.resolve(s)):t.Gr.allocateTargetId(o).next(h=>(s=new ni(e,h,"TargetPurposeListen",o.currentSequenceNumber),t.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(o.targetId,o),t.cs.set(e,o.targetId)),o})}async function pd(r,e,t){const o=xe(r),s=o.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",l,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!ds(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function Pg(r,e,t){const o=xe(r);let s=Ie.min(),l=De();return o.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,w){const T=xe(g),I=T.cs.get(w);return I!==void 0?Q.resolve(T.us.get(I)):T.Gr.getTargetData(y,w)}(o,h,Yn(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{l=g})}).next(()=>o._s.getDocumentsMatchingQuery(h,e,t?s:Ie.min(),t?l:De())).next(f=>(KC(o,LS(e),f),{documents:f,ds:l})))}function KC(r,e,t){let o=r.ls.get(e)||Ie.min();t.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),r.ls.set(e,o)}class bg{constructor(){this.activeTargetIds=BS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this._o=new bg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,o){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new bg,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function $h(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class ZC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+t.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(t,o,s,l,h){const f=$h(),g=this.No(t,o.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,g,y,s).then(w=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw Zo("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}ko(t,o,s,l,h,f){return this.Oo(t,o,s,l,h)}Lo(t,o,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}No(t,o){const s=XC[t];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,o,s){const l=$h();return new Promise((h,f)=>{const g=new tv;g.setWithCredentials(!0),g.listenOnce(nv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case cu.NO_ERROR:const w=g.getResponseJson();ae(Ot,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case cu.TIMEOUT:ae(Ot,`RPC '${e}' ${l} timed out`),f(new ye(Z.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const T=g.getStatus();if(ae(Ot,`RPC '${e}' ${l} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I==null?void 0:I.error;if(k&&k.status&&k.message){const O=function(b){const H=b.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(H)>=0?H:Z.UNKNOWN}(k.status);f(new ye(O,k.message))}else f(new ye(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ye(Z.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ot,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);ae(Ot,`RPC '${e}' ${l} sending request:`,s),g.send(t,"POST",y,o,15)})}qo(e,t,o){const s=$h(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ov(),f=iv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,o),g.encodeInitMessageHeaders=!0;const w=l.join("");ae(Ot,`Creating RPC '${e}' stream ${s}: ${w}`,g);const T=h.createWebChannel(w,g);let I=!1,k=!1;const O=new JC({Eo:b=>{k?ae(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(I||(ae(Ot,`Opening RPC '${e}' stream ${s} transport.`),T.open(),I=!0),ae(Ot,`RPC '${e}' stream ${s} sending:`,b),T.send(b))},Ao:()=>T.close()}),L=(b,H,G)=>{b.listen(H,ne=>{try{G(ne)}catch(le){setTimeout(()=>{throw le},0)}})};return L(T,fa.EventType.OPEN,()=>{k||(ae(Ot,`RPC '${e}' stream ${s} transport opened.`),O.So())}),L(T,fa.EventType.CLOSE,()=>{k||(k=!0,ae(Ot,`RPC '${e}' stream ${s} transport closed`),O.Do())}),L(T,fa.EventType.ERROR,b=>{k||(k=!0,Zo(Ot,`RPC '${e}' stream ${s} transport errored:`,b),O.Do(new ye(Z.UNAVAILABLE,"The operation could not be completed")))}),L(T,fa.EventType.MESSAGE,b=>{var H;if(!k){const G=b.data[0];Be(!!G);const ne=G,le=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(le){ae(Ot,`RPC '${e}' stream ${s} received error:`,le);const Se=le.status;let we=function(x){const A=ht[x];if(A!==void 0)return bv(A)}(Se),D=le.message;we===void 0&&(we=Z.INTERNAL,D="Unknown error status: "+Se+" with message "+le.message),k=!0,O.Do(new ye(we,D)),T.close()}else ae(Ot,`RPC '${e}' stream ${s} received:`,G),O.vo(G)}}),L(f,rv.STAT_EVENT,b=>{b.stat===id.PROXY?ae(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===id.NOPROXY&&ae(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){return new sC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,o=1e3,s=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=o,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-o);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,o,s,l,h,f,g){this.li=e,this.Yo=o,this.Zo=s,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new qv(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===t&&this.I_(o,s)},o=>{e(()=>{const s=new ye(Z.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(s)})})}I_(e,t){const o=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.E_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ex extends Hv{constructor(e,t,o,s,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=uC(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Xn(h.readTime):Ie.min()}(e);return this.listener.R_(t,o)}V_(e){const t={};t.database=fd(this.serializer),t.addTarget=function(l,h){let f;const g=h.target;if(f=ld(g)?{documents:dC(l,g)}:{query:fC(l,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Vv(l,h.resumeToken);const y=cd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Cu(l,h.snapshotVersion.toTimestamp());const y=cd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const o=mC(this.serializer,e);o&&(t.labels=o),this.c_(t)}m_(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.c_(t)}}class tx extends Hv{constructor(e,t,o,s,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hC(e.writeResults,e.commitTime),o=Xn(e.commitTime);return this.listener.y_(o,t)}w_(){const e={};e.database=fd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>cC(this.serializer,o))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx extends class{}{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,hd(t,o),s,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(Z.UNKNOWN,l.toString())})}ko(e,t,o,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,hd(t,o),s,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(xr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,o,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{o.enqueueAndForget(async()=>{Zi(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=xe(g);y.k_.add(4),await Oa(y),y.K_.set("Unknown"),y.k_.delete(4),await Ku(y)}(this))})}),this.K_=new rx(o,s)}}async function Ku(r){if(Zi(r))for(const e of r.q_)await e(!0)}async function Oa(r){for(const e of r.q_)await e(!1)}function Wv(r,e){const t=xe(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Xd(t)?Yd(t):fs(t).s_()&&Qd(t,e))}function Kd(r,e){const t=xe(r),o=fs(t);t.B_.delete(e),o.s_()&&Gv(t,e),t.B_.size===0&&(o.s_()?o.a_():Zi(t)&&t.K_.set("Unknown"))}function Qd(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fs(r).V_(e)}function Gv(r,e){r.U_.xe(e),fs(r).m_(e)}function Yd(r){r.U_=new nC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),fs(r).start(),r.K_.F_()}function Xd(r){return Zi(r)&&!fs(r).i_()&&r.B_.size>0}function Zi(r){return xe(r).k_.size===0}function Kv(r){r.U_=void 0}async function ox(r){r.K_.set("Online")}async function sx(r){r.B_.forEach((e,t)=>{Qd(r,e)})}async function ax(r,e){Kv(r),Xd(r)?(r.K_.O_(e),Yd(r)):r.K_.set("Unknown")}async function lx(r,e,t){if(r.K_.set("Online"),e instanceof Dv&&e.state===2&&e.cause)try{await async function(s,l){const h=l.cause;for(const f of l.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,h),s.B_.delete(f),s.U_.removeTarget(f))}(r,e)}catch(o){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Au(r,o)}else if(e instanceof pu?r.U_.$e(e):e instanceof Nv?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ie.min()))try{const o=await $v(r.localStore);t.compareTo(o)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.B_.get(y);w&&l.B_.set(y,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,y)=>{const w=l.B_.get(g);if(!w)return;l.B_.set(g,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),Gv(l,g);const T=new ni(w.target,g,y,w.sequenceNumber);Qd(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(o){ae("RemoteStore","Failed to raise snapshot:",o),await Au(r,o)}}async function Au(r,e,t){if(!ds(e))throw e;r.k_.add(1),await Oa(r),r.K_.set("Offline"),t||(t=()=>$v(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Ku(r)})}function Qv(r,e){return e().catch(t=>Au(r,t,e))}async function Qu(r){const e=xe(r),t=di(e);let o=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ux(e);)try{const s=await WC(e.localStore,o);if(s===null){e.L_.length===0&&t.a_();break}o=s.batchId,cx(e,s)}catch(s){await Au(e,s)}Yv(e)&&Xv(e)}function ux(r){return Zi(r)&&r.L_.length<10}function cx(r,e){r.L_.push(e);const t=di(r);t.s_()&&t.f_&&t.g_(e.mutations)}function Yv(r){return Zi(r)&&!di(r).i_()&&r.L_.length>0}function Xv(r){di(r).start()}async function hx(r){di(r).w_()}async function dx(r){const e=di(r);for(const t of r.L_)e.g_(t.mutations)}async function fx(r,e,t){const o=r.L_.shift(),s=Ud.from(o,e,t);await Qv(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Qu(r)}async function px(r,e){e&&di(r).f_&&await async function(o,s){if(function(h){return ZS(h)&&h!==Z.ABORTED}(s.code)){const l=o.L_.shift();di(o).__(),await Qv(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Qu(o)}}(r,e),Yv(r)&&Xv(r)}async function Dg(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const o=Zi(t);t.k_.add(3),await Oa(t),o&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ku(t)}async function mx(r,e){const t=xe(r);e?(t.k_.delete(2),await Ku(t)):e||(t.k_.add(2),await Oa(t),t.K_.set("Unknown"))}function fs(r){return r.W_||(r.W_=function(t,o,s){const l=xe(t);return l.b_(),new ex(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{Ro:ox.bind(null,r),mo:sx.bind(null,r),po:ax.bind(null,r),R_:lx.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Xd(r)?Yd(r):r.K_.set("Unknown")):(await r.W_.stop(),Kv(r))})),r.W_}function di(r){return r.G_||(r.G_=function(t,o,s){const l=xe(t);return l.b_(),new tx(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:hx.bind(null,r),po:px.bind(null,r),p_:dx.bind(null,r),y_:fx.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Qu(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,o,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,s,l){const h=Date.now()+o,f=new Jd(e,t,h,s,l);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(r,e){if(xr("AsyncQueue",`${e}: ${r}`),ds(r))return new ye(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,o)=>e(t,o)||ve.comparator(t.key,o.key):(t,o)=>ve.comparator(t.key,o.key),this.keyedMap=pa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new Jo;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.z_=new rt(ve.comparator)}track(e){const t=e.doc.key,o=this.z_.get(t);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(t,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(t):e.type===1&&o.type===2?this.z_=this.z_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,o)=>{e.push(o)}),e}}class is{constructor(e,t,o,s,l,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,o,s,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new is(e,t,Jo.emptySet(t),h,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class yx{constructor(){this.queries=Lg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,o){const s=xe(t),l=s.queries;s.queries=Lg(),l.forEach((h,f)=>{for(const g of f.J_)g.onError(o)})})(this,new ye(Z.ABORTED,"Firestore shutting down"))}}function Lg(){return new Xi(r=>yv(r),Bu)}async function vx(r,e){const t=xe(r);let o=3;const s=e.query;let l=t.queries.get(s);l?!l.Y_()&&e.Z_()&&(o=2):(l=new gx,o=e.Z_()?0:1);try{switch(o){case 0:l.H_=await t.onListen(s,!0);break;case 1:l.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const f=Zd(h,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&ef(t)}async function _x(r,e){const t=xe(r),o=e.query;let s=3;const l=t.queries.get(o);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function wx(r,e){const t=xe(r);let o=!1;for(const s of e){const l=s.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(s)&&(o=!0);h.H_=s}}o&&ef(t)}function Ex(r,e,t){const o=xe(r),s=o.queries.get(e);if(s)for(const l of s.J_)l.onError(t);o.queries.delete(e)}function ef(r){r.X_.forEach(e=>{e.next()})}var md,Mg;(Mg=md||(md={})).na="default",Mg.Cache="cache";class Tx{constructor(e,t,o){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new is(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const o=t!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.key=e}}class Zv{constructor(e){this.key=e}}class Ix{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=vv(e),this.ma=new Jo(this.Va)}get fa(){return this.da}ga(e,t){const o=t?t.pa:new Vg,s=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=s,f=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,T)=>{const I=s.get(w),k=Uu(this.query,T)?T:null,O=!!I&&this.mutatedKeys.has(I.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let b=!1;I&&k?I.data.isEqual(k.data)?O!==L&&(o.track({type:3,doc:k}),b=!0):this.ya(I,k)||(o.track({type:2,doc:k}),b=!0,(g&&this.Va(k,g)>0||y&&this.Va(k,y)<0)&&(f=!0)):!I&&k?(o.track({type:0,doc:k}),b=!0):I&&!k&&(o.track({type:1,doc:I}),b=!0,(g||y)&&(f=!0)),b&&(k?(h=h.add(k),l=L?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),o.track({type:1,doc:w})}return{ma:h,pa:o,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(k,O){const L=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return L(k)-L(O)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(o),s=s!=null&&s;const f=t&&!s?this.Sa():[],g=this.Ra.size===0&&this.current&&!s?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new is(this.query,e.ma,l,h,e.mutatedKeys,g===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Vg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const t=[];return e.forEach(o=>{this.Ra.has(o)||t.push(new Zv(o))}),this.Ra.forEach(o=>{e.has(o)||t.push(new Jv(o))}),t}va(e){this.da=e.ds,this.Ra=De();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return is.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Sx{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Cx{constructor(e){this.key=e,this.Fa=!1}}class xx{constructor(e,t,o,s,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Xi(f=>yv(f),Bu),this.Oa=new Map,this.Na=new Set,this.La=new rt(ve.comparator),this.Ba=new Map,this.ka=new Hd,this.qa={},this.Qa=new Map,this.Ka=rs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ax(r,e,t=!0){const o=o_(r);let s;const l=o.xa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await e_(o,e,t,!0),s}async function Rx(r,e){const t=o_(r);await e_(t,e,!0,!1)}async function e_(r,e,t,o){const s=await GC(r.localStore,Yn(e)),l=s.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return o&&(f=await kx(r,e,l,h==="current",s.resumeToken)),r.isPrimaryClient&&t&&Wv(r.remoteStore,s),f}async function kx(r,e,t,o,s){r.Ua=(T,I,k)=>async function(L,b,H,G){let ne=b.view.ga(H);ne.ss&&(ne=await Pg(L.localStore,b.query,!1).then(({documents:D})=>b.view.ga(D,ne)));const le=G&&G.targetChanges.get(b.targetId),Se=G&&G.targetMismatches.get(b.targetId)!=null,we=b.view.applyChanges(ne,L.isPrimaryClient,le,Se);return Fg(L,b.targetId,we.ba),we.snapshot}(r,T,I,k);const l=await Pg(r.localStore,e,!0),h=new Ix(e,l.ds),f=h.ga(l.documents),g=Ma.createSynthesizedTargetChangeForCurrentChange(t,o&&r.onlineState!=="Offline",s),y=h.applyChanges(f,r.isPrimaryClient,g);Fg(r,t,y.ba);const w=new Sx(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function Px(r,e,t){const o=xe(r),s=o.xa.get(e),l=o.Oa.get(s.targetId);if(l.length>1)return o.Oa.set(s.targetId,l.filter(h=>!Bu(h,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await pd(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),t&&Kd(o.remoteStore,s.targetId),gd(o,s.targetId)}).catch(hs)):(gd(o,s.targetId),await pd(o.localStore,s.targetId,!0))}async function bx(r,e){const t=xe(r),o=t.xa.get(e),s=t.Oa.get(o.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),Kd(t.remoteStore,o.targetId))}async function Nx(r,e,t){const o=jx(r);try{const s=await function(h,f){const g=xe(h),y=dt.now(),w=f.reduce((k,O)=>k.add(O.key),De());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=Ar(),L=De();return g.hs.getEntries(k,w).next(b=>{O=b,O.forEach((H,G)=>{G.isValidDocument()||(L=L.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,O)).next(b=>{T=b;const H=[];for(const G of f){const ne=KS(G,T.get(G.key).overlayedDocument);ne!=null&&H.push(new Ji(G.key,ne,cv(ne.value.mapValue),Tr.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,H,f)}).next(b=>{I=b;const H=b.applyToLocalDocumentSet(T,L);return g.documentOverlayCache.saveOverlays(k,b.batchId,H)})}).then(()=>({batchId:I.batchId,changes:wv(T)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(h,f,g){let y=h.qa[h.currentUser.toKey()];y||(y=new rt(Le)),y=y.insert(f,g),h.qa[h.currentUser.toKey()]=y}(o,s.batchId,t),await Fa(o,s.changes),await Qu(o.remoteStore)}catch(s){const l=Zd(s,"Failed to persist write");t.reject(l)}}async function t_(r,e){const t=xe(r);try{const o=await qC(t.localStore,e);e.targetChanges.forEach((s,l)=>{const h=t.Ba.get(l);h&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.Fa=!0:s.modifiedDocuments.size>0?Be(h.Fa):s.removedDocuments.size>0&&(Be(h.Fa),h.Fa=!1))}),await Fa(t,o,e)}catch(o){await hs(o)}}function Og(r,e,t){const o=xe(r);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const s=[];o.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(h,f){const g=xe(h);g.onlineState=f;let y=!1;g.queries.forEach((w,T)=>{for(const I of T.J_)I.ea(f)&&(y=!0)}),y&&ef(g)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function Dx(r,e,t){const o=xe(r);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.Ba.get(e),l=s&&s.key;if(l){let h=new rt(ve.comparator);h=h.insert(l,jt.newNoDocument(l,Ie.min()));const f=De().add(l),g=new Wu(Ie.min(),new Map,new rt(Le),h,f);await t_(o,g),o.La=o.La.remove(l),o.Ba.delete(e),tf(o)}else await pd(o.localStore,e,!1).then(()=>gd(o,e,t)).catch(hs)}async function Vx(r,e){const t=xe(r),o=e.batch.batchId;try{const s=await $C(t.localStore,e);r_(t,o,null),n_(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await Fa(t,s)}catch(s){await hs(s)}}async function Lx(r,e,t){const o=xe(r);try{const s=await function(h,f){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,f).next(T=>(Be(T!==null),w=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(o.localStore,e);r_(o,e,t),n_(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await Fa(o,s)}catch(s){await hs(s)}}function n_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function r_(r,e,t){const o=xe(r);let s=o.qa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function gd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.Oa.get(e))r.xa.delete(o),t&&r.Ma.Wa(o,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(o=>{r.ka.containsKey(o)||i_(r,o)})}function i_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Kd(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),tf(r))}function Fg(r,e,t){for(const o of t)o instanceof Jv?(r.ka.addReference(o.key,e),Mx(r,o)):o instanceof Zv?(ae("SyncEngine","Document no longer in limbo: "+o.key),r.ka.removeReference(o.key,e),r.ka.containsKey(o.key)||i_(r,o.key)):Te()}function Mx(r,e){const t=e.key,o=t.path.canonicalString();r.La.get(t)||r.Na.has(o)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(o),tf(r))}function tf(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ve(ot.fromString(e)),o=r.Ka.next();r.Ba.set(o,new Cx(t)),r.La=r.La.insert(t,o),Wv(r.remoteStore,new ni(Yn(zd(t.path)),o,"TargetPurposeLimboResolution",Ou.oe))}}async function Fa(r,e,t){const o=xe(r),s=[],l=[],h=[];o.xa.isEmpty()||(o.xa.forEach((f,g)=>{h.push(o.Ua(g,e,t).then(y=>{var w;if((y||t)&&o.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;o.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){s.push(y);const T=Gd.zi(g.targetId,y);l.push(T)}}))}),await Promise.all(h),o.Ma.R_(s),await async function(g,y){const w=xe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(y,I=>Q.forEach(I.Wi,k=>w.persistence.referenceDelegate.addReference(T,I.targetId,k)).next(()=>Q.forEach(I.Gi,k=>w.persistence.referenceDelegate.removeReference(T,I.targetId,k)))))}catch(T){if(!ds(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const k=w.us.get(I),O=k.snapshotVersion,L=k.withLastLimboFreeSnapshotVersion(O);w.us=w.us.insert(I,L)}}}(o.localStore,l))}async function Ox(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const o=await Uv(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(g=>{g.reject(new ye(Z.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Fa(t,o.Ts)}}function Fx(r,e){const t=xe(r),o=t.Ba.get(e);if(o&&o.Fa)return De().add(o.key);{let s=De();const l=t.Oa.get(e);if(!l)return s;for(const h of l){const f=t.xa.get(h);s=s.unionWith(f.view.fa)}return s}}function o_(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=t_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dx.bind(null,e),e.Ma.R_=wx.bind(null,e.eventManager),e.Ma.Wa=Ex.bind(null,e.eventManager),e}function jx(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lx.bind(null,e),e}class Ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return UC(this.persistence,new zC,e.initialUser,this.serializer)}ja(e){return new Bv(Wd.ei,this.serializer)}za(e){return new QC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ru.provider={build:()=>new Ru};class zx extends Ru{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof xu);const o=this.persistence.referenceDelegate.garbageCollector;return new CC(o,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Bv(o=>xu.ei(o,t),this.serializer)}}class yd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Og(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),await mx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yx}()}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),o=function(l){return new ZC(l)}(e.databaseInfo);return function(l,h,f,g){return new nx(l,h,f,g)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,s,l,h,f){return new ix(o,s,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Og(this.syncEngine,t,0),function(){return Ng.p()?new Ng:new YC}())}createSyncEngine(e,t){return function(s,l,h,f,g,y,w){const T=new xx(s,l,h,f,g,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=xe(s);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Oa(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t,o,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=Zd(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Hh(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(async s=>{o.isEqual(s)||(await Uv(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function jg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await $x(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(o=>Dg(e.remoteStore,o)),r.setAppCheckTokenChangeListener((o,s)=>Dg(e.remoteStore,s)),r._onlineComponents=e}async function $x(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Hh(r,new Ru)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Hh(r,new zx(void 0));return r._offlineComponents}async function s_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await jg(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await jg(r,new yd))),r._onlineComponents}function qx(r){return s_(r).then(e=>e.syncEngine)}async function Hx(r){const e=await s_(r),t=e.eventManager;return t.onListen=Ax.bind(null,e.syncEngine),t.onUnlisten=Px.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bx.bind(null,e.syncEngine),t}function Wx(r,e,t={}){const o=new oi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,y){const w=new Bx({next:I=>{w.eu(),h.enqueueAndForget(()=>_x(l,T));const k=I.docs.has(f);!k&&I.fromCache?y.reject(new ye(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&g&&g.source==="server"?y.reject(new ye(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new Tx(zd(f.path),w,{includeMetadataChanges:!0,ua:!0});return vx(l,T)}(await Hx(r),r.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r,e,t){if(!t)throw new ye(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Kx(r,e,t,o){if(e===!0&&o===!0)throw new ye(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Bg(r){if(!ve.isDocumentKey(r))throw new ye(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Pa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nf(r);throw new ye(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a_((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,t,o,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new eS;switch(o.type){case"firstParty":return new iS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ye(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=zg.get(t);o&&(ae("ComponentProvider","Removing Datastore"),zg.delete(t),o.terminate())}(this),Promise.resolve()}}function Qx(r,e,t,o={}){var s;const l=(r=Pa(r,rf))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),o.mockUserToken){let f,g;if(typeof o.mockUserToken=="string")f=o.mockUserToken,g=Ft.MOCK_USER;else{f=f1(o.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new ye(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ft(y)}r._authCredentials=new tS(new sv(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new of(this.firestore,e,this._query)}}class En{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ba extends of{constructor(e,t,o){super(e,t,zd(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ve(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function ku(r,e,...t){if(r=Ir(r),arguments.length===1&&(e=av.newId()),Gx("doc","path",e),r instanceof rf){const o=ot.fromString(e,...t);return Bg(o),new En(r,null,new ve(o))}{if(!(r instanceof En||r instanceof ba))throw new ye(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(ot.fromString(e,...t));return Bg(o),new En(r.firestore,r instanceof ba?r.converter:null,new ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new qv(this,"async_queue_retry"),this.fu=()=>{const o=qh();o&&ae("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const t=qh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=qh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new oi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ds(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(o);throw xr("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=t,t}enqueueAfterDelay(e,t,o){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Jd.createAndSchedule(this,e,t,o,l=>this.Su(l));return this.du.push(s),s}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class sf extends rf{constructor(e,t,o,s){super(e,t,o,s),this.type="firestore",this._queue=new $g,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $g(e),this._firestoreClient=void 0,await e}}}function Yx(r,e){const t=typeof r=="object"?r:ky(),o=typeof r=="string"?r:"(default)",s=La(t,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=h1("firestore");l&&Qx(s,...l)}return s}function l_(r){if(r._terminated)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Xx(r),r._firestoreClient}function Xx(r){var e,t,o;const s=r._freezeSettings(),l=function(f,g,y,w){return new _S(f,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,a_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new Ux(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(Nt.fromBase64String(e))}catch(t){throw new ye(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new os(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/^__.*__$/;class u_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class uf{constructor(e,t,o,s,l,h){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:o,Nu:!1});return s.Lu(e),s}Bu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Pu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(c_(this.Mu)&&Jx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Gu(e)}$u(e,t,o,s=!1){return new uf({Mu:e,methodName:t,Ku:o,path:bt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eA(r){const e=r._freezeSettings(),t=Gu(r._databaseId);return new Zx(r._databaseId,!!e.ignoreUndefinedProperties,t)}class Ju extends Xu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}class cf extends Xu{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new ka(e.serializer,Iv(e.serializer,this.Wu));return new qS(e.path,t)}isEqual(e){return e instanceof cf&&this.Wu===e.Wu}}function tA(r,e,t,o){const s=r.$u(1,e,t);d_("Data must be an object, but it was:",s,o);const l=[],h=ln.empty();pi(o,(g,y)=>{const w=hf(e,g,t);y=Ir(y);const T=s.Bu(w);if(y instanceof Ju)l.push(w);else{const I=Zu(y,T);I!=null&&(l.push(w),h.set(w,I))}});const f=new On(l);return new u_(h,f,s.fieldTransforms)}function nA(r,e,t,o,s,l){const h=r.$u(1,e,t),f=[qg(e,o,t)],g=[s];if(l.length%2!=0)throw new ye(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(qg(e,l[I])),g.push(l[I+1]);const y=[],w=ln.empty();for(let I=f.length-1;I>=0;--I)if(!oA(y,f[I])){const k=f[I];let O=g[I];O=Ir(O);const L=h.Bu(k);if(O instanceof Ju)y.push(k);else{const b=Zu(O,L);b!=null&&(y.push(k),w.set(k,b))}}const T=new On(y);return new u_(w,T,h.fieldTransforms)}function Zu(r,e){if(h_(r=Ir(r)))return d_("Unsupported field value:",e,r),rA(r,e);if(r instanceof Xu)return function(o,s){if(!c_(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const l=[];let h=0;for(const f of o){let g=Zu(f,s.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(o,s){if((o=Ir(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Iv(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=dt.fromDate(o);return{timestampValue:Cu(s.serializer,l)}}if(o instanceof dt){const l=new dt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Cu(s.serializer,l)}}if(o instanceof af)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof os)return{bytesValue:Vv(s.serializer,o._byteString)};if(o instanceof En){const l=s.databaseId,h=o.firestore._databaseId;if(!h.isEqual(l))throw s.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qd(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof lf)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return Bd(f.serializer,g)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${nf(o)}`)}(r,e)}function rA(r,e){const t={};return lv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(r,(o,s)=>{const l=Zu(s,e.Ou(o));l!=null&&(t[o]=l)}),{mapValue:{fields:t}}}function h_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dt||r instanceof af||r instanceof os||r instanceof En||r instanceof Xu||r instanceof lf)}function d_(r,e,t){if(!h_(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const o=nf(t);throw o==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+o)}}function qg(r,e,t){if((e=Ir(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return hf(r,e);throw Pu("Field path arguments must be of type string or ",r,!1,void 0,t)}const iA=new RegExp("[~\\*/\\[\\]]");function hf(r,e,t){if(e.search(iA)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Pu(r,e,t,o,s){const l=o&&!o.isEmpty(),h=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${o}`),h&&(g+=` in document ${s}`),g+=")"),new ye(Z.INVALID_ARGUMENT,f+r+g)}function oA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t,o,s,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(p_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sA extends f_{data(){return super.data()}}function p_(r,e){return typeof e=="string"?hf(r,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}class aA{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return pi(e,(s,l)=>{o[s]=this.convertValue(l,t)}),o}convertVectorValue(e){var t,o,s;const l=(s=(o=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(h=>lt(h.doubleValue));return new lf(l)}convertGeoPoint(e){return new af(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ju(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const t=ui(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=ot.fromString(e);Be(zv(o));const s=new Ca(o.get(1),o.get(3)),l=new ve(o.popFirst(5));return s.isEqual(t)||xr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m_ extends f_{constructor(e,t,o,s,l,h){super(e,t,o,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(p_("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class uA extends m_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r){r=Pa(r,En);const e=Pa(r.firestore,sf);return Wx(l_(e),r._key).then(t=>dA(e,r,t))}class cA extends aA{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function _d(r,e,t,...o){r=Pa(r,En);const s=Pa(r.firestore,sf),l=eA(s);let h;return h=typeof(e=Ir(e))=="string"||e instanceof Yu?nA(l,"updateDoc",r._key,e,t,o):tA(l,"updateDoc",r._key,e),hA(s,[h.toMutation(r._key,Tr.exists(!0))])}function hA(r,e){return function(o,s){const l=new oi;return o.asyncQueue.enqueueAndForget(async()=>Nx(await qx(o),s,l)),l.promise}(l_(r),e)}function dA(r,e,t){const o=t.docs.get(e._key),s=new cA(r);return new m_(r,s,e._key,o,new lA(t.hasPendingWrites,t.fromCache),e.converter)}function Hg(r){return new cf("increment",r)}(function(e,t=!0){(function(s){cs=s})(IT),ai(new Sr("firestore",(o,{instanceIdentifier:s,options:l})=>{const h=o.getProvider("app").getImmediate(),f=new sf(new nS(o.getProvider("auth-internal")),new sS(o.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(y.options.projectId,w)}(h,s),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Qn(ag,"4.7.5",e),Qn(ag,"4.7.5","esm2017")})();const fA={apiKey:"AIzaSyDHHfbyauxDGLs7Bj5Los8cpRDAmrWgK6o",authDomain:"meghai-bloom.firebaseapp.com",projectId:"meghai-bloom",storageBucket:"meghai-bloom.firebasestorage.app",messagingSenderId:"178525755829",appId:"1:178525755829:web:59fc783986a0deed3d61fc",measurementId:"G-0X9J2D4GPG"},g_=Ry(fA);YI(g_);const bu=Yx(g_),pA="/bloom/assets/bedroom-BeYzLfiK.png",mA="/bloom/assets/door-BCBup2qj.png",gA="/bloom/assets/dead1-DgiWxGTO.png",yA="/bloom/assets/dead2-B-zHh9mC.png",vA="/bloom/assets/dead3-Cs_WP_Vf.png",_A="/bloom/assets/dead4-z36CNF03.png",Wg="/bloom/assets/dead5-zoD4J5J9.png",Wh="/bloom/assets/title-DVg6REFP.png",Gg="/bloom/assets/flowers-CtVvQ_w7.png",wA="/bloom/assets/bedroomflowers-QPXEAVNI.png",EA="/bloom/assets/red-Ban5XeIU.png",TA="/bloom/assets/blue-DcBcDcjb.png",IA="/bloom/assets/yellow-l9euJHOJ.png",SA="/bloom/assets/healedforest-q2APfcmY.png",CA="/bloom/assets/transition1-9hMzRgIt.png",xA="/bloom/assets/transition2-DNmKRWkI.png",AA="/bloom/assets/transition3-lLHLznH0.png",RA=()=>{const[r,e]=z.useState(0),[t,o]=z.useState(!1),[s,l]=z.useState(!1),h=()=>{navigator.clipboard.writeText("meghai.com/bloom"),l(!0),setTimeout(()=>{l(!1)},2e3)};z.useEffect(()=>{const oe=localStorage.getItem("hasLikedBloom")==="true";o(oe)},[]),z.useEffect(()=>{(async()=>{const _e=ku(bu,"game","bloom"),Ue=await vd(_e);Ue.exists()&&e(Ue.data().likes||0)})()},[]);const f=async()=>{const oe=ku(bu,"game","bloom");t?(await _d(oe,{likes:Hg(-1)}),e(_e=>_e-1),o(!1),localStorage.setItem("hasLikedBloom","false")):(await _d(oe,{likes:Hg(1)}),e(_e=>_e+1),o(!0),localStorage.setItem("hasLikedBloom","true"))},[g,y]=z.useState(!1),[w,T]=z.useState(!1),[I,k]=z.useState(!1),[O,L]=z.useState(0),[b,H]=z.useState(0),[G,ne]=z.useState(!1),[le,Se]=z.useState(!1),[we,D]=z.useState(""),[S,x]=z.useState(!1),[A,V]=z.useState("bedroom"),[N,R]=z.useState([]),[Ce,Ze]=z.useState({fedCat:!1,tookMedicine:!1,triedFlowers:!1,triedMusic:!1,triedPuzzle:!1,forestHealth:0}),[qe,Ne]=z.useState({red:!1,blue:!1,yellow:!1}),ee=({children:oe})=>$.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center"},children:$.jsx("div",{style:{width:"1100px",margin:"0 auto"},children:$.jsx("div",{className:"h-[650px] relative overflow-hidden bg-gray-200",children:oe})})}),ce=oe=>{Ze(_e=>({..._e,[oe]:!0}))},ie=oe=>{Ze(_e=>({..._e,forestHealth:Math.min(100,_e.forestHealth+34)}))},F=oe=>["forest_entry","meet_sadness","sadness_explain","sadness_reject_flowers","sadness_reject_music","sadness_accept","meet_misfit","misfit_explain","misfit_reject","misfit_accept","meet_love","love_options","love_reject","love_minigame","love_revelation","healed_forest"].includes(oe),K=oe=>oe.replace("[name]",we),pe={bedroom:{image:Ce.fedCat&&Ce.tookMedicine?`url(${mA})`:`url(${pA})`,text:Ce.fedCat&&Ce.tookMedicine?"You hear peculiar sounds coming from outside your door.":"Good morning [name]!",choices:[{text:"Feed Gumi",action:()=>y(!0),hidden:Ce.fedCat},{text:"Take medication",action:()=>T(!0),hidden:Ce.tookMedicine},{text:"Open door",action:()=>{V("dead_sequence"),L(0),setTimeout(()=>L(1),400),setTimeout(()=>L(2),800),setTimeout(()=>L(3),1200),setTimeout(()=>{V("forest_entry")},1600)},hidden:!Ce.fedCat||!Ce.tookMedicine}]},dead_sequence:{image:`url(${O===0?gA:O===1?yA:O===2?vA:_A})`,text:"",choices:[]},forest_entry:{image:`url(${Wg})`,text:"'[name], the forest needs your help. Plants are withering and we don't know why.' A distant voice echoes.",choices:[{text:"Enter the forest",action:()=>V("coming_soon")}]},coming_soon:{image:`url(${Wg})`,text:"Coming soon...",choices:[]},meet_sadness:{image:"Blue Spirit under Willow Tree",text:"You encounter a spirit of Sadness, weeping beneath a willow tree. Dark blue tears fall from its ethereal form.",choices:[{text:"Why are you crying? What's wrong?",nextScene:"sadness_explain"}]},sadness_explain:{image:"Blue Spirit Conversation",text:"'I cry because it is what I do. I cry because I am sadness, and sadness is part of this forest.'",choices:[{text:"Bring flowers",action:()=>ce("triedFlowers"),nextScene:"sadness_reject_flowers",hidden:Ce.triedFlowers},{text:"Play music with Gumi's violin",action:()=>ce("triedMusic"),nextScene:"sadness_reject_music",hidden:Ce.triedMusic},{text:"Sit quietly with the spirit",nextScene:"sadness_accept",hidden:!Ce.triedFlowers&&!Ce.triedMusic,requirementText:"Try other approaches first"}]},sadness_reject_flowers:{image:"Wilted Flowers Scene",text:"The flowers wilt immediately. Your attempt to cheer up the spirit seems to make it withdraw further.",choices:[{text:"Try something else",nextScene:"sadness_explain"}]},sadness_reject_music:{image:"Failed Music Scene",text:"The notes fall flat, and the spirit continues to sob. Perhaps there's another way...",choices:[{text:"Try something else",nextScene:"sadness_explain"}]},sadness_accept:{image:"Accepting Sadness Scene",text:`'You're not something to fix, are you? You're just here, and that's okay.'

'You understand me.'

'I think I do.'`,choices:[{text:"Take the blue flower",nextScene:"meet_misfit",action:()=>{R([...N,"blue flower"]),ie()}}]},meet_misfit:{image:"Yellow Star Spirit",text:"You encounter a peculiar spirit that seems out of place, trying to blend in with the forest but standing out in its unique way.",choices:[{text:"Why are you sitting here all alone?",nextScene:"misfit_explain"}]},misfit_explain:{image:"Misfit Spirit Scene",text:`'I don't belong here. They all fit together perfectly, like pieces of a puzzle. But me? I'm the wrong shape, no matter how hard I try.

If you want to help, maybe you can figure out how I'm supposed to fit.'`,choices:[{text:"Try to fit the spirit into the pattern",action:()=>ce("triedPuzzle"),nextScene:"misfit_reject",hidden:Ce.triedPuzzle},{text:"Maybe you're not supposed to fit into their puzzle",nextScene:"misfit_accept",hidden:!Ce.triedPuzzle,requirementText:"Try helping them fit in first"}]},misfit_reject:{image:"Failed Puzzle Scene",text:"'You're wasting your time. I'll never belong.' The spirit cries.",choices:[{text:"Try a different approach",nextScene:"misfit_explain"}]},misfit_accept:{image:"Glowing Misfit Scene",text:`'Maybe you're your own piece. You belong wherever you choose to be. Maybe your shape is different, but that doesn't mean it's wrong. It just means you're meant for something else.'

The Misfit Spirit slowly stands, and starts glowing. It makes the rest of the pieces start glowing, too.`,choices:[{text:"Take the yellow flower",nextScene:"meet_love",action:()=>{R([...N,"yellow flower"]),ie()}}]},meet_love:{image:"Love Spirit Scene",text:`A red spirit surrounded by vines with berries and thorns appears before you.

'I've been stuck here for so long. I don't know what I did to deserve this.'`,choices:[{text:"Try to help",nextScene:"love_options"}]},love_options:{image:"Love Spirit with Vines",text:"The spirit seems trapped by thorny vines with glowing berries.",choices:[{text:"Tug on vines",nextScene:"love_reject"},{text:"Use Gumi's scissors to cut branch and eat a berry",nextScene:"love_minigame"}]},love_reject:{image:"Tightening Vines",text:"The vines grow thicker and tighter.",choices:[{text:"Try something else",nextScene:"love_options"}]},love_minigame:{image:"Space Void Scene",text:`The world dissolves into a realistic void in space. Aliens fly towards you.

'The aliens are going to get us!'`,choices:[{text:"Return to reality",nextScene:"love_revelation"}]},love_revelation:{image:"Healing Scene",text:`'People are allowed to worry about me. I am worthy of love'

Vines slowly disappear and the red flower in the center blooms.`,choices:[{text:"Take the red flower",nextScene:"healed_forest",action:()=>{R([...N,"red flower"]),ie()}}]},healed_forest:{image:`url(${SA})`,text:"You look back, and the forest is transformedvibrant, alive, and healed. ",renderCustomContent:!0,choices:[],onClick:()=>{ne(!0),H(0),setTimeout(()=>H(1),400),setTimeout(()=>H(2),800),setTimeout(()=>{ne(!1),V("ending")},1600)}},ending:{image:`url(${wA})`,text:"'Was that all a dream?'",renderCustomContent:!0,choices:[]},final_thoughts:{image:`url(${Gg})`,text:"'Maybe not.'",renderCustomContent:!0,choices:[]},endgame:{image:`url(${Gg})`,text:"",choices:[{text:"End",nextScene:"credits"}]},red:{image:`url(${EA})`,text:"Love was never something I had to proveit was something I always carried. And now, I see the beauty in letting it bloom, both for others and myself.",choices:[],onEnter:()=>Ne(oe=>({...oe,red:!0}))},yellow:{image:`url(${IA})`,text:"I'm different from others. But that just means I have more to offer to the world.",choices:[],onEnter:()=>Ne(oe=>({...oe,yellow:!0}))},blue:{image:`url(${TA})`,text:"Sadness is a part of me, but it doesn't define me. It makes the love I feel stronger.",choices:[],onEnter:()=>Ne(oe=>({...oe,blue:!0}))},credits:{image:`url(${Wh})`,text:"",renderCustomContent:!0,choices:[]}},ke=oe=>{oe.preventDefault(),we.trim()&&x(!0)},Ae=oe=>{if(oe.action&&oe.action(),oe.nextScene){const _e=pe[oe.nextScene];_e.onEnter&&_e.onEnter(),V(oe.nextScene)}},Re=pe[A];if(!le)return $.jsx(ee,{children:$.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cover bg-center",style:{backgroundImage:`url(${Wh})`},children:[$.jsx("div",{className:"absolute inset-0 bg-black/0"})," ",$.jsxs("div",{className:"relative z-10",children:[" ",$.jsx("h1",{className:"text-5xl font-bold mb-4 font-['Cedarville_Cursive'] text-white",children:"bloom"}),$.jsx("p",{className:"text-lg mb-8 font-['Cedarville_Cursive'] text-white",children:"a story game"}),$.jsx(wn,{onClick:()=>Se(!0),className:"bg-[#E4D1B6]/90 hover:border-white text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed text-base py-3 px-10 font-['Cedarville_Cursive'] rounded-lg",children:"Play"})]})]})});if(le&&!S)return $.jsx(ee,{children:$.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cover bg-center",style:{backgroundImage:`url(${Wh})`},children:$.jsxs("form",{onSubmit:ke,className:"relative z-10 flex flex-col items-center gap-4",children:[$.jsx("h2",{className:"text-3xl mb-2 font-['Cedarville_Cursive'] text-white",children:"What is your name?"}),$.jsx("input",{type:"text",value:we,onChange:oe=>D(oe.target.value),className:"w-64 text-center bg-white/90 backdrop-blur-sm px-4 py-3 rounded-lg border-2 border-[#8C5751] border-dashed text-[#8C5751] font-['Cedarville_Cursive']",placeholder:"Enter your name",autoFocus:!0}),$.jsx(wn,{type:"submit",disabled:!we.trim(),className:"bg-[#E4D1B6]/90 hover:border-white text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed text-base py-3 px-10 font-['Cedarville_Cursive'] rounded-lg",children:"Begin"})]})})});if(g)return $.jsx(ee,{children:$.jsx(ZE,{onComplete:()=>{y(!1),ce("fedCat"),k(Ce.tookMedicine),V("bedroom")}})});if(w)return $.jsx(ee,{children:$.jsx(t1,{onComplete:()=>{T(!1),ce("tookMedicine"),k(Ce.fedCat),V("bedroom")}})});if(G){const oe=[CA,xA,AA];return $.jsx(ee,{children:$.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-500",style:{backgroundImage:`url(${oe[b]})`}})})}return $.jsxs("div",{className:"flex flex-col items-center min-h-screen",children:[$.jsx(ee,{children:$.jsxs("div",{className:"relative h-full flex flex-col justify-center",children:[$.jsxs("div",{className:"absolute right-4 top-2 bottom-4 flex flex-col items-end space-y-4",children:[N.length>0&&$.jsx("div",{className:"bg-black/50 p-2 rounded-lg backdrop-blur-sm w-20",children:$.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[N.includes("blue flower")&&$.jsx(Om,{className:"w-4 h-4 text-blue-400"}),N.includes("yellow flower")&&$.jsx(Fm,{className:"w-4 h-4 text-yellow-400"}),N.includes("red flower")&&$.jsx(Vh,{className:"w-4 h-4 text-red-400"}),$.jsx("div",{className:"text-sm text-white mb-3 text-center w-full font-['Cedarville_Cursive']",children:"Inventory"})]})}),F(A)&&$.jsxs("div",{className:"bg-[#8C5751]0 p-2 rounded-xl backdrop-blur-sm w-16",children:[$.jsx("div",{className:"text-sm text-white mb-3 text-center w-full font-['Cedarville_Cursive']",children:"Forest Health"}),$.jsx("div",{className:"flex justify-center",children:$.jsx("div",{className:"h-64 w-4 bg-[#E4D1B6] rounded-full overflow-hidden relative border-2 border-[#8C5751] border-dashed",children:$.jsx("div",{className:"w-4 bg-[#295011] transition-all duration-500 absolute bottom-0",style:{height:`${Ce.forestHealth}%`}})})})]})]}),$.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600 text-sm",style:{backgroundImage:A==="bedroom"||A==="dead_sequence"||A==="forest_entry"||A==="healed_forest"||A==="coming_soon"||A==="red"||A==="blue"||A==="yellow"||A==="ending"||A==="final_thoughts"||A==="credits"?Re.image:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[A==="healed_forest"&&$.jsxs($.Fragment,{children:[$.jsx("div",{className:"absolute right-4 top-2 bg-black/50 p-2 rounded-lg w-20",children:$.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[$.jsx(Om,{className:"w-4 h-4 text-blue-400"}),$.jsx(Fm,{className:"w-4 h-4 text-yellow-400"}),$.jsx(Vh,{className:"w-4 h-4 text-red-400"}),$.jsx("div",{className:"text-sm text-white mb-3 text-center w-full font-['Cedarville_Cursive']",children:"Inventory"})]})}),$.jsxs("div",{className:"absolute right-4 top-32 bg-[#8C5751]0 p-2 rounded-xl  w-16",children:[$.jsx("div",{className:"text-sm text-white mb-3 text-center w-full font-['Cedarville_Cursive']",children:"Forest Health"}),$.jsx("div",{className:"flex justify-center",children:$.jsx("div",{className:"h-64 w-4 bg-[#E4D1B6] rounded-full overflow-hidden relative border-2 border-[#8C5751] border-dashed",children:$.jsx("div",{className:"w-4 bg-[#295011] transition-all duration-500 absolute bottom-0",style:{height:"100%"}})})})]})]}),A!=="bedroom"&&A!=="dead_sequence"&&A!=="forest_entry"&&A!=="healed_forest"&&A!=="coming_soon"&&A!=="red"&&A!=="blue"&&A!=="yellow"&&A!=="ending"&&A!=="final_thoughts"&&A!=="credits"&&$.jsx("p",{className:"text-center px-4",children:Re.image})]}),$.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2 w-full flex flex-col items-center justify-center",children:[A==="credits"?$.jsxs("div",{className:"flex flex-col items-center text-lg font-bold",children:[$.jsx("h1",{className:"mb-4 text-white font-['Cedarville_Cursive']",children:"thank you for playing!"}),$.jsx("p",{className:"mb-48 text-lg text-white font-['Cedarville_Cursive']",children:"built by meghai"})]}):Re.text?$.jsx("div",{className:"bg-[#E4D1B6]/90 p-3 rounded-xl border-2 border-[#8C5751] border-dashed mx-auto max-w-md w-full",onClick:()=>A==="healed_forest"?Re.onClick():null,style:{cursor:A==="healed_forest"?"pointer":"default"},children:$.jsx("p",{className:"text-lg text-[#8C5751] whitespace-pre-line font-['Cedarville_Cursive']",children:K(Re.text)})}):null,A==="ending"?$.jsx("div",{onClick:()=>V("final_thoughts"),className:"absolute left-32 bottom-80 w-20 h-10 cursor-pointer transition-all"}):A==="final_thoughts"||A==="red"||A==="blue"||A==="yellow"?$.jsxs("div",{className:"absolute inset-0",children:[$.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-md w-full mx-auto",children:[$.jsx("div",{onClick:()=>{Ae({nextScene:"blue"})},className:`absolute right-80 bottom-40 w-10 h-20 cursor-pointer  ${qe.blue?"border-white":"border-[#8C5751]"} border-dashed rounded-lg transition-all`}),$.jsx("div",{onClick:()=>{Ae({nextScene:"yellow"})},className:`absolute right-72  bottom-40 w-5 h-10 cursor-pointer  ${qe.yellow?"border-white":"border-[#8C5751]"} border-dashed rounded-lg transition-all`}),$.jsx("div",{onClick:()=>{Ae({nextScene:"red"})},className:`absolute right-52 bottom-40 w-10 h-10 cursor-pointer  ${qe.red?"border-white":"border-[#8C5751]"} border-dashed rounded-lg transition-all`})]}),qe.blue&&qe.yellow&&qe.red&&$.jsx(wn,{onClick:()=>V("credits"),className:"absolute bottom-40 left-1/2 -translate-x-1/2 w-48 bg-[#E4D1B6]/90 text-[#8C5751] rounded-lg border-2 border-[#8C5751] border-dashed backdrop-blur-sm hover:border-white text-md py-1 h-auto font-['Cedarville_Cursive']",children:"The End"})]}):$.jsx("div",{className:`grid ${Re.choices.filter(oe=>!oe.hidden).length===1?"grid-cols-1":"grid-cols-2"} gap-2 max-w-md w-full mx-auto`,children:Re.choices.map((oe,_e)=>oe.hidden?oe.requirementText?$.jsx(wn,{disabled:!0,className:"w-full bg-[#E4D1B6]/90 text-[#8C5751] rounded-lg border-2 border-[#8C5751] border-dashed backdrop-blur-sm text-xs py-1 h-auto",children:oe.requirementText},_e):null:$.jsx(wn,{onClick:()=>Ae(oe),className:"w-full bg-[#E4D1B6]/90 text-[#8C5751] rounded-lg border-2 border-[#8C5751] border-dashed backdrop-blur-sm hover:border-white text-md py-1 h-auto font-['Cedarville_Cursive']",children:K(oe.text)},_e))})]})]})}),$.jsxs("div",{className:"fixed right-4 bottom-4 flex flex-col gap-4",children:[$.jsx(wn,{onClick:()=>{Se(!1),x(!1),V("bedroom"),R([]),Ze({fedCat:!1,tookMedicine:!1,triedFlowers:!1,triedMusic:!1,triedPuzzle:!1,forestHealth:0}),Ne({red:!1,blue:!1,yellow:!1})},className:"bg-[#E4D1B6]/90 text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed p-2 font-['Cedarville_Cursive'] rounded-lg",children:$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),$.jsxs(wn,{onClick:f,className:"bg-[#E4D1B6]/90 text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed p-2 font-['Cedarville_Cursive'] rounded-lg",children:[$.jsx(Vh,{className:`w-6 h-6 ${t?"fill-[#8C5751]":"stroke-[#8C5751]"}`}),$.jsx("span",{className:"ml-2",children:r})]}),$.jsx(wn,{onClick:()=>window.open("/bloom/comments","_blank"),className:"bg-[#E4D1B6]/90 hover:border-white text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed p-2 font-['Cedarville_Cursive'] rounded-lg",children:$.jsx(WE,{className:"w-6 h-6"})}),$.jsx(wn,{onClick:h,className:"bg-[#E4D1B6]/90 hover:border-white text-[#8C5751] backdrop-blur-sm border-2 border-[#8C5751] border-dashed p-2 font-['Cedarville_Cursive'] rounded-lg",children:s?$.jsx("span",{children:"Copied!"}):$.jsx(GE,{className:"w-6 h-6"})})]})]})},kA=({children:r})=>$.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center"},children:$.jsx("div",{style:{width:"1100px",margin:"0 auto"},children:$.jsx("div",{className:"h-[650px] relative overflow-hidden bg-[#D9D4CE]",children:r})})}),PA=()=>{const[r,e]=z.useState([]),[t,o]=z.useState(!1),s=z.useRef(null),l=z.useRef(null);z.useEffect(()=>{f()},[]);const h=w=>[...w].sort((T,I)=>{var L,b,H,G;const k=((b=(L=T.timestamp)==null?void 0:L.toMillis)==null?void 0:b.call(L))||0;return(((G=(H=I.timestamp)==null?void 0:H.toMillis)==null?void 0:G.call(H))||0)-k}),f=async()=>{try{const w=ku(bu,"game","bloom"),T=await vd(w);if(T.exists()){const I=T.data();I.comments?e(h(I.comments)):e([])}}catch(w){console.error("Error fetching comments:",w),e([])}},g=async w=>{w.preventDefault();const T=s.current.value,I=l.current.value;if(!(!I.trim()||!T.trim()||t)){o(!0);try{const k=ku(bu,"game","bloom"),O=await vd(k);if(O.exists()){const L=O.data(),b=L.comments||[],H=L.likes||0,G={name:T.trim(),content:I.trim(),timestamp:dt.now()},ne=[...b,G];await _d(k,{likes:H,comments:ne}),e(h(ne)),s.current.value="",l.current.value=""}}catch(k){console.error("Error adding comment:",k)}o(!1)}},y=w=>{if(!w||!w.toDate)return"Just now";try{const T=w.toDate(),k=Math.floor((new Date-T)/1e3);if(k<60)return"Just now";if(k<3600){const O=Math.floor(k/60);return`${O} minute${O>1?"s":""} ago`}else if(k<86400){const O=Math.floor(k/3600);return`${O} hour${O>1?"s":""} ago`}else if(k<604800){const O=Math.floor(k/86400);return`${O} day${O>1?"s":""} ago`}else return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(T)}catch{return"Just now"}};return $.jsx(kA,{children:$.jsxs("div",{className:"h-full flex flex-col p-6",children:[$.jsxs("div",{className:"flex items-center justify-between mb-4",children:[$.jsxs(wn,{onClick:()=>window.location.href="/bloom",className:"bg-[#E4D1B6] text-[#8C5751] hover:bg-[#E4D1B6]/80 font-['Cedarville_Cursive']",children:[$.jsx(HE,{className:"w-4 h-4 mr-2"}),"Back to Game"]}),$.jsx("h1",{className:"text-4xl font-['Cedarville_Cursive'] text-[#8C5751]",children:"Comments"})]}),$.jsx("div",{className:"mb-4 p-4 bg-[#E4D1B6]/90 border-2 border-[#8C5751] border-dashed rounded-lg",children:$.jsxs("form",{onSubmit:g,className:"space-y-3",children:[$.jsx("div",{children:$.jsx("input",{ref:s,type:"text",placeholder:"Your name",className:"w-full p-2 rounded-lg bg-white/90 border-2 border-[#8C5751] border-dashed text-[#8C5751] placeholder-[#8C5751]/50 font-['Cedarville_Cursive']",required:!0})}),$.jsx("div",{children:$.jsx("textarea",{ref:l,placeholder:"Share your thoughts about the game...",rows:2,className:"w-full p-2 rounded-lg bg-white/90 border-2 border-[#8C5751] border-dashed text-[#8C5751] placeholder-[#8C5751]/50 font-['Cedarville_Cursive']",required:!0})}),$.jsx(wn,{type:"submit",disabled:t,className:"w-full bg-[#8C5751] text-white hover:bg-[#8C5751]/80 font-['Cedarville_Cursive']",children:t?"Posting...":"Post Comment"})]})}),$.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:r.map((w,T)=>$.jsxs("div",{className:"p-3 bg-white/90 border-2 border-[#8C5751] border-dashed rounded-lg",children:[$.jsx("div",{className:"flex justify-between items-start mb-1",children:$.jsxs("div",{children:[$.jsx("h3",{className:"font-['Cedarville_Cursive'] text-lg text-[#8C5751]",children:w.name}),$.jsx("p",{className:"text-sm text-[#8C5751]/60 font-['Cedarville_Cursive']",children:y(w.timestamp)})]})}),$.jsx("p",{className:"text-[#8C5751] whitespace-pre-wrap font-['Cedarville_Cursive']",children:w.content})]},w.id))})]})})};function bA(){return $.jsx(Hw,{basename:"/",children:$.jsx("div",{className:"p-4",children:$.jsxs(Ew,{children:[$.jsx(Kh,{path:"/bloom/comments",element:$.jsx(PA,{})}),$.jsx(Kh,{path:"/bloom",element:$.jsx(RA,{})})]})})})}P0.createRoot(document.getElementById("root")).render($.jsx(I0.StrictMode,{children:$.jsx(bA,{})}));
